import {
  AuthService,
  Firestore,
  Timestamp,
  addDoc,
  collection2 as collection,
  collectionData,
  deleteDoc2 as deleteDoc,
  doc2 as doc,
  docData,
  limit,
  orderBy,
  query2 as query,
  setDoc2 as setDoc,
  updateDoc2 as updateDoc,
  where2 as where
} from "./chunk-AMO7VPPH.js";
import {
  inject,
  ɵɵdefineInjectable,
  ɵɵinject
} from "./chunk-PZUQX53K.js";
import {
  __async
} from "./chunk-LQ2EECYJ.js";

// src/app/services/firebase/event.service.ts
var _EventService = class _EventService {
  constructor(firestore = inject(Firestore), authService) {
    this.firestore = firestore;
    this.authService = authService;
  }
  /* CLUB EventS */
  changeClubEvent(eventData, clubId, eventId) {
    const clubEventRef = doc(this.firestore, `club/${clubId}/events/${eventId}`);
    return updateDoc(clubEventRef, eventData);
  }
  getClubEventRef(clubId, eventId) {
    const eventRef = doc(this.firestore, `club/${clubId}/events/${eventId}`);
    return docData(eventRef, { idField: "id" });
  }
  getClubEventsRef(clubId) {
    const eventsRefList = collection(this.firestore, `club/${clubId}/events`);
    const q = query(eventsRefList, where(
      "date",
      ">=",
      Timestamp.fromDate(new Date(Date.now() - 1e3 * 3600 * 2))
      // 2h lang anzeigen lassen
    ));
    return collectionData(q, {
      idField: "id"
    });
  }
  getClubEventsPastRef(clubId) {
    const eventsRefList = collection(this.firestore, `club/${clubId}/events`);
    const q = query(eventsRefList, where(
      "date",
      "<",
      Timestamp.fromDate(new Date(Date.now()))
      // sofort als vergangen auflisten
    ), limit(20));
    return collectionData(q, {
      idField: "id"
    });
  }
  getClubEventAttendeesRef(clubId, eventId) {
    const attendeesRefList = collection(this.firestore, `club/${clubId}/events/${eventId}/attendees`);
    return collectionData(attendeesRefList, {
      idField: "id"
    });
  }
  setClubEventAttendeeStatus(status, clubId, eventId) {
    return __async(this, null, function* () {
      const user = this.authService.auth.currentUser;
      const statusRef = doc(this.firestore, `club/${clubId}/events/${eventId}/attendees/${user.uid}`);
      return yield setDoc(statusRef, { status });
    });
  }
  setClubEventAttendeeStatusAdmin(status, clubId, eventId, memberId) {
    return __async(this, null, function* () {
      const statusRef = doc(this.firestore, `club/${clubId}/events/${eventId}/attendees/${memberId}`);
      return yield setDoc(statusRef, { status });
    });
  }
  setCreateClubEvent(event) {
    return __async(this, null, function* () {
      const user = this.authService.auth.currentUser;
      return addDoc(collection(this.firestore, `userProfile/${user.uid}/clubEvents`), event);
    });
  }
  /* HELFER EVENTS */
  changeHelferEvent(eventData, clubId, eventId) {
    const helferEventRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}`);
    return updateDoc(helferEventRef, eventData);
  }
  getClubHelferEventRef(clubId, eventId) {
    const eventRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}`);
    return docData(eventRef, { idField: "id" });
  }
  getClubHelferEventRefsByDate(clubId, dateFrom, dateTo) {
    console.log(dateFrom);
    console.log(dateTo);
    const eventsRefList = collection(this.firestore, `club/${clubId}/helferEvents`);
    const q = query(eventsRefList, where("date", ">=", dateFrom), where("date", "<=", dateTo), orderBy("date", "desc"));
    return collectionData(q, {
      idField: "id"
    });
  }
  getClubHelferEventRefs(clubId) {
    const eventsRefList = collection(this.firestore, `club/${clubId}/helferEvents`);
    const q = query(eventsRefList, where(
      "date",
      // muss auf Event End Date umgestellt werden.
      ">=",
      Timestamp.fromDate(new Date(Date.now() - 1e3 * 3600 * 2))
      // 2h lang noch anzeigen
    ));
    return collectionData(q, {
      idField: "id"
    });
  }
  getClubHelferEventPastRefs(clubId) {
    const eventsRefList = collection(this.firestore, `club/${clubId}/helferEvents`);
    const q = query(eventsRefList, where(
      "date",
      "<",
      Timestamp.fromDate(new Date(Date.now()))
      // sofort anzeigen
    ), limit(20));
    return collectionData(q, {
      idField: "id"
    });
  }
  getClubHelferEventAttendeesRef(clubId, eventId) {
    const attendeesRefList = collection(this.firestore, `club/${clubId}/helferEvents/${eventId}/attendees`);
    return collectionData(attendeesRefList, {
      idField: "id"
    });
  }
  getClubHelferEventSchichtenRef(clubId, eventId) {
    const schichtenRefList = collection(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten`);
    return collectionData(schichtenRefList, {
      idField: "id"
    });
  }
  addNewHelferEventSchicht(clubId, eventId, schicht) {
    console.log(clubId, eventId, schicht);
    return addDoc(collection(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten`), schicht);
  }
  changeHelferEventSchicht(clubId, eventId, schichtId, schicht) {
    console.log(clubId, eventId, schichtId, schicht);
    const helferEventSchichtRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten/${schichtId}`);
    return updateDoc(helferEventSchichtRef, schicht, { merge: true });
  }
  deleteHelferEventSchicht(clubId, eventId, schichtId) {
    return deleteDoc(doc(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten/${schichtId}`));
  }
  getClubHelferEventSchichtAttendeesRef(clubId, eventId, schichtId) {
    const schichtAttendeesListRef = collection(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten/${schichtId}/attendees`);
    return collectionData(schichtAttendeesListRef, {
      idField: "id"
    });
  }
  setClubHelferEventSchichtAttendeeStatus(status, clubId, eventId, schichtId) {
    const user = this.authService.auth.currentUser;
    const statusRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten/${schichtId}/attendees/${user.uid}`);
    return setDoc(statusRef, { status }, {
      merge: true
    });
  }
  setClubHelferEventSchichtAttendeeStatusAdmin(status, clubId, eventId, schichtId, memberId) {
    const statusRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten/${schichtId}/attendees/${memberId}`);
    return setDoc(statusRef, { status }, {
      merge: true
    });
  }
  setClubHelferEventSchichtAttendeeStatusConfirm(clubId, eventId, schichtId, userId, points) {
    const user = this.authService.auth.currentUser;
    const userRef = doc(this.firestore, `userProfile/${user.uid}`);
    const statusRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}/schichten/${schichtId}/attendees/${userId}`);
    return setDoc(statusRef, { confirmed: true, date: /* @__PURE__ */ new Date(), confirmedBy: userRef, points }, { merge: true });
  }
  setClubHelferEventAttendeeStatus(status, clubId, eventId) {
    const user = this.authService.auth.currentUser;
    const statusRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}/attendees/${user.uid}`);
    return setDoc(statusRef, { status });
  }
  setCreateHelferEvent(event) {
    return __async(this, null, function* () {
      const user = this.authService.auth.currentUser;
      return addDoc(collection(this.firestore, `userProfile/${user.uid}/helferEvents`), event);
    });
  }
  deleteClubEvent(clubId, eventId) {
    const eventRef = doc(this.firestore, `club/${clubId}/events/${eventId}`);
    return deleteDoc(eventRef);
  }
  deleteHelferEvent(clubId, eventId) {
    const eventRef = doc(this.firestore, `club/${clubId}/helferEvents/${eventId}`);
    return deleteDoc(eventRef);
  }
};
_EventService.\u0275fac = function EventService_Factory(__ngFactoryType__) {
  return new (__ngFactoryType__ || _EventService)(\u0275\u0275inject(Firestore), \u0275\u0275inject(AuthService));
};
_EventService.\u0275prov = /* @__PURE__ */ \u0275\u0275defineInjectable({ token: _EventService, factory: _EventService.\u0275fac, providedIn: "root" });
var EventService = _EventService;

export {
  EventService
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2FwcC9zZXJ2aWNlcy9maXJlYmFzZS9ldmVudC5zZXJ2aWNlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBpbmplY3QsIEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBsaW1pdCwgb3JkZXJCeSwgVGltZXN0YW1wIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHtcbiAgRmlyZXN0b3JlLFxuICBhZGREb2MsXG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25EYXRhLFxuICBkb2MsXG4gIGRvY0RhdGEsXG4gIGRlbGV0ZURvYyxcbiAgdXBkYXRlRG9jLFxuICBzZXREb2MsXG4gIHF1ZXJ5LFxuICB3aGVyZSxcbn0gZnJvbSBcIkBhbmd1bGFyL2ZpcmUvZmlyZXN0b3JlXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IEhlbGZlckV2ZW50LCBWZXJhbnN0YWx0dW5nIH0gZnJvbSBcInNyYy9hcHAvbW9kZWxzL2V2ZW50XCI7XG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gXCIuLi9hdXRoLnNlcnZpY2VcIjtcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiBcInJvb3RcIixcbn0pXG5leHBvcnQgY2xhc3MgRXZlbnRTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBmaXJlc3RvcmU6IEZpcmVzdG9yZSA9IGluamVjdChGaXJlc3RvcmUpLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlXG4gICkge31cblxuICAvKiBDTFVCIEV2ZW50UyAqL1xuXG4gIGNoYW5nZUNsdWJFdmVudChldmVudERhdGEsIGNsdWJJZCwgZXZlbnRJZCl7XG4gICAgY29uc3QgY2x1YkV2ZW50UmVmID0gZG9jKHRoaXMuZmlyZXN0b3JlLCBgY2x1Yi8ke2NsdWJJZH0vZXZlbnRzLyR7ZXZlbnRJZH1gKTtcbiAgICByZXR1cm4gdXBkYXRlRG9jKGNsdWJFdmVudFJlZiwgZXZlbnREYXRhKTtcbiAgfVxuXG5cbiAgZ2V0Q2x1YkV2ZW50UmVmKGNsdWJJZDogc3RyaW5nLCBldmVudElkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFZlcmFuc3RhbHR1bmc+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhgUmVhZCBUZWFtIEdhbWVzIEF0dGVuZGVlcyBMaXN0IFJlZiAke3RlYW1JZH0gd2l0aCBnYW1lICR7Z2FtZUlkfWApXG4gICAgY29uc3QgZXZlbnRSZWYgPSBkb2ModGhpcy5maXJlc3RvcmUsIGBjbHViLyR7Y2x1YklkfS9ldmVudHMvJHtldmVudElkfWApO1xuICAgIHJldHVybiBkb2NEYXRhKGV2ZW50UmVmLCB7IGlkRmllbGQ6IFwiaWRcIiB9KSBhcyBPYnNlcnZhYmxlPFZlcmFuc3RhbHR1bmc+O1xuICB9XG5cbiAgZ2V0Q2x1YkV2ZW50c1JlZihjbHViSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8VmVyYW5zdGFsdHVuZ1tdPiB7XG4gICAgY29uc3QgZXZlbnRzUmVmTGlzdCA9IGNvbGxlY3Rpb24odGhpcy5maXJlc3RvcmUsIGBjbHViLyR7Y2x1YklkfS9ldmVudHNgKTtcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBldmVudHNSZWZMaXN0LFxuICAgICAgd2hlcmUoXG4gICAgICAgIFwiZGF0ZVwiLFxuICAgICAgICBcIj49XCIsXG4gICAgICAgIFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCAqIDM2MDAgKiAyKSkgLy8gMmggbGFuZyBhbnplaWdlbiBsYXNzZW5cbiAgICAgIClcbiAgICApOyAvLyBTdGFydERhdHVtIGRlciBWZXJhbnN0YWx0dW5nIC0gMTJoXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25EYXRhKHEsIHtcbiAgICAgIGlkRmllbGQ6IFwiaWRcIixcbiAgICB9KSBhcyB1bmtub3duIGFzIE9ic2VydmFibGU8VmVyYW5zdGFsdHVuZ1tdPjtcbiAgfVxuICBnZXRDbHViRXZlbnRzUGFzdFJlZihjbHViSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8VmVyYW5zdGFsdHVuZ1tdPiB7XG4gICAgY29uc3QgZXZlbnRzUmVmTGlzdCA9IGNvbGxlY3Rpb24odGhpcy5maXJlc3RvcmUsIGBjbHViLyR7Y2x1YklkfS9ldmVudHNgKTtcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBldmVudHNSZWZMaXN0LFxuICAgICAgd2hlcmUoXG4gICAgICAgIFwiZGF0ZVwiLFxuICAgICAgICBcIjxcIixcbiAgICAgICAgVGltZXN0YW1wLmZyb21EYXRlKG5ldyBEYXRlKERhdGUubm93KCkpKSAvLyBzb2ZvcnQgYWxzIHZlcmdhbmdlbiBhdWZsaXN0ZW5cbiAgICAgICksXG4gICAgICBsaW1pdCgyMClcbiAgICApOyAvLyBoZXV0ZSAtIDEgVGFnID0gZ2VzdGVyblxuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25EYXRhKHEsIHtcbiAgICAgIGlkRmllbGQ6IFwiaWRcIixcbiAgICB9KSBhcyB1bmtub3duIGFzIE9ic2VydmFibGU8VmVyYW5zdGFsdHVuZ1tdPjtcbiAgfVxuXG4gIGdldENsdWJFdmVudEF0dGVuZGVlc1JlZihjbHViSWQ6IHN0cmluZywgZXZlbnRJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnlbXT4ge1xuICAgIGNvbnN0IGF0dGVuZGVlc1JlZkxpc3QgPSBjb2xsZWN0aW9uKFxuICAgICAgdGhpcy5maXJlc3RvcmUsXG4gICAgICBgY2x1Yi8ke2NsdWJJZH0vZXZlbnRzLyR7ZXZlbnRJZH0vYXR0ZW5kZWVzYFxuICAgICk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25EYXRhKGF0dGVuZGVlc1JlZkxpc3QsIHtcbiAgICAgIGlkRmllbGQ6IFwiaWRcIixcbiAgICB9KSBhcyB1bmtub3duIGFzIE9ic2VydmFibGU8YW55W10+O1xuICB9XG4gIGFzeW5jIHNldENsdWJFdmVudEF0dGVuZGVlU3RhdHVzKFxuICAgIHN0YXR1czogYm9vbGVhbixcbiAgICBjbHViSWQ6IHN0cmluZyxcbiAgICBldmVudElkOiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgdXNlciA9IHRoaXMuYXV0aFNlcnZpY2UuYXV0aC5jdXJyZW50VXNlcjtcbiAgICBjb25zdCBzdGF0dXNSZWYgPSBkb2MoXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9ldmVudHMvJHtldmVudElkfS9hdHRlbmRlZXMvJHt1c2VyLnVpZH1gXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgc2V0RG9jKHN0YXR1c1JlZiwgeyBzdGF0dXMgfSk7XG4gIH1cblxuICBhc3luYyBzZXRDbHViRXZlbnRBdHRlbmRlZVN0YXR1c0FkbWluKFxuICAgIHN0YXR1czogYm9vbGVhbixcbiAgICBjbHViSWQ6IHN0cmluZyxcbiAgICBldmVudElkOiBzdHJpbmcsXG4gICAgbWVtYmVySWQ6IHN0cmluZyxcbiAgKSB7XG4gICAgY29uc3Qgc3RhdHVzUmVmID0gZG9jKFxuICAgICAgdGhpcy5maXJlc3RvcmUsXG4gICAgICBgY2x1Yi8ke2NsdWJJZH0vZXZlbnRzLyR7ZXZlbnRJZH0vYXR0ZW5kZWVzLyR7bWVtYmVySWR9YFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHNldERvYyhzdGF0dXNSZWYsIHsgc3RhdHVzIH0pO1xuICB9XG5cblxuICBhc3luYyBzZXRDcmVhdGVDbHViRXZlbnQoZXZlbnQ6IFZlcmFuc3RhbHR1bmcpIHtcbiAgICBjb25zdCB1c2VyID0gdGhpcy5hdXRoU2VydmljZS5hdXRoLmN1cnJlbnRVc2VyO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiZXZlbnRcIik7XG4gICAgLy8gY29uc29sZS5sb2coZXZlbnQpO1xuICAgIHJldHVybiBhZGREb2MoXG4gICAgICBjb2xsZWN0aW9uKHRoaXMuZmlyZXN0b3JlLCBgdXNlclByb2ZpbGUvJHt1c2VyLnVpZH0vY2x1YkV2ZW50c2ApLFxuICAgICAgZXZlbnRcbiAgICApO1xuICB9XG5cbiAgLyogSEVMRkVSIEVWRU5UUyAqL1xuXG4gIGNoYW5nZUhlbGZlckV2ZW50KGV2ZW50RGF0YSwgY2x1YklkLCBldmVudElkKXtcbiAgICBjb25zdCBoZWxmZXJFdmVudFJlZiA9IGRvYyh0aGlzLmZpcmVzdG9yZSwgYGNsdWIvJHtjbHViSWR9L2hlbGZlckV2ZW50cy8ke2V2ZW50SWR9YCk7XG4gICAgcmV0dXJuIHVwZGF0ZURvYyhoZWxmZXJFdmVudFJlZiwgZXZlbnREYXRhKTtcbiAgfVxuICBnZXRDbHViSGVsZmVyRXZlbnRSZWYoXG4gICAgY2x1YklkOiBzdHJpbmcsXG4gICAgZXZlbnRJZDogc3RyaW5nXG4gICk6IE9ic2VydmFibGU8SGVsZmVyRXZlbnQ+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhgUmVhZCBUZWFtIEdhbWVzIEF0dGVuZGVlcyBMaXN0IFJlZiAke3RlYW1JZH0gd2l0aCBnYW1lICR7Z2FtZUlkfWApXG4gICAgY29uc3QgZXZlbnRSZWYgPSBkb2MoXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfWBcbiAgICApO1xuICAgIHJldHVybiBkb2NEYXRhKGV2ZW50UmVmLCB7IGlkRmllbGQ6IFwiaWRcIiB9KSBhcyBPYnNlcnZhYmxlPEhlbGZlckV2ZW50PjtcbiAgfVxuXG4gIGdldENsdWJIZWxmZXJFdmVudFJlZnNCeURhdGUoY2x1YklkOiBzdHJpbmcsICBkYXRlRnJvbTogVGltZXN0YW1wLCBkYXRlVG86IFRpbWVzdGFtcCk6IE9ic2VydmFibGU8SGVsZmVyRXZlbnRbXT4ge1xuICAgIGNvbnNvbGUubG9nKGRhdGVGcm9tKTtcbiAgICBjb25zb2xlLmxvZyhkYXRlVG8pO1xuICAgIGNvbnN0IGV2ZW50c1JlZkxpc3QgPSBjb2xsZWN0aW9uKFxuICAgICAgdGhpcy5maXJlc3RvcmUsXG4gICAgICBgY2x1Yi8ke2NsdWJJZH0vaGVsZmVyRXZlbnRzYFxuICAgICk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgZXZlbnRzUmVmTGlzdCxcbiAgICAgIHdoZXJlKFwiZGF0ZVwiLCBcIj49XCIsIGRhdGVGcm9tKSxcbiAgICAgIHdoZXJlKFwiZGF0ZVwiLCBcIjw9XCIsIGRhdGVUbyksXG4gICAgICBvcmRlckJ5KFwiZGF0ZVwiLCBcImRlc2NcIilcbiAgICApOyAvLyBTdGFydERhdHVtIGRlciBWZXJhbnN0YWx0dW5nIC0gMTJoXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25EYXRhKHEsIHtcbiAgICAgIGlkRmllbGQ6IFwiaWRcIixcbiAgICB9KSBhcyB1bmtub3duIGFzIE9ic2VydmFibGU8SGVsZmVyRXZlbnRbXT47XG4gIH1cblxuICBnZXRDbHViSGVsZmVyRXZlbnRSZWZzKGNsdWJJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxIZWxmZXJFdmVudFtdPiB7XG4gICAgY29uc3QgZXZlbnRzUmVmTGlzdCA9IGNvbGxlY3Rpb24oXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHNgXG4gICAgKTtcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBldmVudHNSZWZMaXN0LFxuICAgICAgd2hlcmUoXG4gICAgICAgIFwiZGF0ZVwiLCAvLyBtdXNzIGF1ZiBFdmVudCBFbmQgRGF0ZSB1bWdlc3RlbGx0IHdlcmRlbi5cbiAgICAgICAgXCI+PVwiLFxuICAgICAgICBUaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDAgKiAzNjAwICogMikpIC8vIDJoIGxhbmcgbm9jaCBhbnplaWdlblxuICAgICAgKVxuICAgICk7IC8vIFN0YXJ0RGF0dW0gZGVyIFZlcmFuc3RhbHR1bmcgLSAxMmhcbiAgICByZXR1cm4gY29sbGVjdGlvbkRhdGEocSwge1xuICAgICAgaWRGaWVsZDogXCJpZFwiLFxuICAgIH0pIGFzIHVua25vd24gYXMgT2JzZXJ2YWJsZTxIZWxmZXJFdmVudFtdPjtcbiAgfVxuICBnZXRDbHViSGVsZmVyRXZlbnRQYXN0UmVmcyhjbHViSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8SGVsZmVyRXZlbnRbXT4ge1xuICAgIGNvbnN0IGV2ZW50c1JlZkxpc3QgPSBjb2xsZWN0aW9uKFxuICAgICAgdGhpcy5maXJlc3RvcmUsXG4gICAgICBgY2x1Yi8ke2NsdWJJZH0vaGVsZmVyRXZlbnRzYFxuICAgICk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgZXZlbnRzUmVmTGlzdCxcbiAgICAgIHdoZXJlKFxuICAgICAgICBcImRhdGVcIixcbiAgICAgICAgXCI8XCIsXG4gICAgICAgIFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpKSkgLy8gc29mb3J0IGFuemVpZ2VuXG4gICAgICApLFxuICAgICAgbGltaXQoMjApXG4gICAgKTsgLy8gaGV1dGUgLSAxIFRhZ1xuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25EYXRhKHEsIHtcbiAgICAgIGlkRmllbGQ6IFwiaWRcIixcbiAgICB9KSBhcyBPYnNlcnZhYmxlPEhlbGZlckV2ZW50W10+O1xuICB9XG5cbiAgZ2V0Q2x1YkhlbGZlckV2ZW50QXR0ZW5kZWVzUmVmKFxuICAgIGNsdWJJZDogc3RyaW5nLFxuICAgIGV2ZW50SWQ6IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPGFueVtdPiB7XG4gICAgY29uc3QgYXR0ZW5kZWVzUmVmTGlzdCA9IGNvbGxlY3Rpb24oXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfS9hdHRlbmRlZXNgXG4gICAgKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkRhdGEoYXR0ZW5kZWVzUmVmTGlzdCwge1xuICAgICAgaWRGaWVsZDogXCJpZFwiLFxuICAgIH0pIGFzIE9ic2VydmFibGU8YW55W10+O1xuICB9XG5cbiAgZ2V0Q2x1YkhlbGZlckV2ZW50U2NoaWNodGVuUmVmKFxuICAgIGNsdWJJZDogc3RyaW5nLFxuICAgIGV2ZW50SWQ6IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPGFueVtdPiB7XG4gICAgY29uc3Qgc2NoaWNodGVuUmVmTGlzdCA9IGNvbGxlY3Rpb24oXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfS9zY2hpY2h0ZW5gXG4gICAgKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkRhdGEoc2NoaWNodGVuUmVmTGlzdCwge1xuICAgICAgaWRGaWVsZDogXCJpZFwiLFxuICAgIH0pIGFzIE9ic2VydmFibGU8YW55W10+O1xuICB9XG5cbiAgYWRkTmV3SGVsZmVyRXZlbnRTY2hpY2h0KGNsdWJJZDogc3RyaW5nLCBldmVudElkOiBzdHJpbmcsIHNjaGljaHQ6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKGNsdWJJZCwgZXZlbnRJZCwgc2NoaWNodCk7ICBcbiAgICByZXR1cm4gYWRkRG9jKFxuICAgICAgY29sbGVjdGlvbih0aGlzLmZpcmVzdG9yZSwgYGNsdWIvJHtjbHViSWR9L2hlbGZlckV2ZW50cy8ke2V2ZW50SWR9L3NjaGljaHRlbmApLFxuICAgICAgc2NoaWNodFxuICAgICk7XG4gIH1cblxuICBjaGFuZ2VIZWxmZXJFdmVudFNjaGljaHQoY2x1YklkLCBldmVudElkLCBzY2hpY2h0SWQsIHNjaGljaHQpe1xuICAgIGNvbnNvbGUubG9nKGNsdWJJZCwgZXZlbnRJZCxzY2hpY2h0SWQsICBzY2hpY2h0KTsgIFxuICAgIGNvbnN0IGhlbGZlckV2ZW50U2NoaWNodFJlZiA9IGRvYyh0aGlzLmZpcmVzdG9yZSwgYGNsdWIvJHtjbHViSWR9L2hlbGZlckV2ZW50cy8ke2V2ZW50SWR9L3NjaGljaHRlbi8ke3NjaGljaHRJZH1gKTtcbiAgICByZXR1cm4gdXBkYXRlRG9jKGhlbGZlckV2ZW50U2NoaWNodFJlZiwgc2NoaWNodCx7bWVyZ2U6IHRydWV9KTtcbiAgfVxuXG4gIGRlbGV0ZUhlbGZlckV2ZW50U2NoaWNodChjbHViSWQsIGV2ZW50SWQsIHNjaGljaHRJZCl7XG4gICAgcmV0dXJuIGRlbGV0ZURvYyhkb2ModGhpcy5maXJlc3RvcmUsIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfS9zY2hpY2h0ZW4vJHtzY2hpY2h0SWR9YCkpO1xuICB9XG5cblxuICBnZXRDbHViSGVsZmVyRXZlbnRTY2hpY2h0QXR0ZW5kZWVzUmVmKFxuICAgIGNsdWJJZDogc3RyaW5nLFxuICAgIGV2ZW50SWQ6IHN0cmluZyxcbiAgICBzY2hpY2h0SWQ6IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPGFueVtdPiB7XG4gICAgLypjb25zb2xlLmxvZyhcbiAgICAgIFwiZ2V0Q2x1YkhlbGZlckV2ZW50U2NoaWNodEF0dGVuZGVlc1JlZlwiLFxuICAgICAgY2x1YklkLFxuICAgICAgZXZlbnRJZCxcbiAgICAgIHNjaGljaHRJZFxuICAgICk7Ki9cbiAgICBjb25zdCBzY2hpY2h0QXR0ZW5kZWVzTGlzdFJlZiA9IGNvbGxlY3Rpb24oXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfS9zY2hpY2h0ZW4vJHtzY2hpY2h0SWR9L2F0dGVuZGVlc2BcbiAgICApO1xuICAgIC8vIGNvbnNvbGUubG9nKHNjaGljaHRBdHRlbmRlZXNMaXN0UmVmLmlkLCBzY2hpY2h0QXR0ZW5kZWVzTGlzdFJlZi5wYXRoKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkRhdGEoc2NoaWNodEF0dGVuZGVlc0xpc3RSZWYsIHtcbiAgICAgIGlkRmllbGQ6IFwiaWRcIixcbiAgICB9KSBhcyBPYnNlcnZhYmxlPGFueVtdPjtcbiAgfVxuXG4gIHNldENsdWJIZWxmZXJFdmVudFNjaGljaHRBdHRlbmRlZVN0YXR1cyhcbiAgICBzdGF0dXM6IGJvb2xlYW4sXG4gICAgY2x1YklkOiBzdHJpbmcsXG4gICAgZXZlbnRJZDogc3RyaW5nLFxuICAgIHNjaGljaHRJZDogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmF1dGhTZXJ2aWNlLmF1dGguY3VycmVudFVzZXI7XG4gICAgY29uc3Qgc3RhdHVzUmVmID0gZG9jKFxuICAgICAgdGhpcy5maXJlc3RvcmUsXG4gICAgICBgY2x1Yi8ke2NsdWJJZH0vaGVsZmVyRXZlbnRzLyR7ZXZlbnRJZH0vc2NoaWNodGVuLyR7c2NoaWNodElkfS9hdHRlbmRlZXMvJHt1c2VyLnVpZH1gXG4gICAgKTtcbiAgICByZXR1cm4gc2V0RG9jKFxuICAgICAgc3RhdHVzUmVmLFxuICAgICAgeyBzdGF0dXMgfSxcbiAgICAgIHtcbiAgICAgICAgbWVyZ2U6IHRydWUsXG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHNldENsdWJIZWxmZXJFdmVudFNjaGljaHRBdHRlbmRlZVN0YXR1c0FkbWluKFxuICAgIHN0YXR1czogYm9vbGVhbixcbiAgICBjbHViSWQ6IHN0cmluZyxcbiAgICBldmVudElkOiBzdHJpbmcsXG4gICAgc2NoaWNodElkOiBzdHJpbmcsXG4gICAgbWVtYmVySWQ6IHN0cmluZ1xuICApIHtcbiAgICAvLyBjb25zdCB1c2VyID0gdGhpcy5hdXRoU2VydmljZS5hdXRoLmN1cnJlbnRVc2VyO1xuICAgIGNvbnN0IHN0YXR1c1JlZiA9IGRvYyhcbiAgICAgIHRoaXMuZmlyZXN0b3JlLFxuICAgICAgYGNsdWIvJHtjbHViSWR9L2hlbGZlckV2ZW50cy8ke2V2ZW50SWR9L3NjaGljaHRlbi8ke3NjaGljaHRJZH0vYXR0ZW5kZWVzLyR7bWVtYmVySWR9YFxuICAgICk7XG4gICAgcmV0dXJuIHNldERvYyhcbiAgICAgIHN0YXR1c1JlZixcbiAgICAgIHsgc3RhdHVzIH0sXG4gICAgICB7XG4gICAgICAgIG1lcmdlOiB0cnVlLFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBzZXRDbHViSGVsZmVyRXZlbnRTY2hpY2h0QXR0ZW5kZWVTdGF0dXNDb25maXJtKFxuICAgIGNsdWJJZDogc3RyaW5nLFxuICAgIGV2ZW50SWQ6IHN0cmluZyxcbiAgICBzY2hpY2h0SWQ6IHN0cmluZyxcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBwb2ludHM6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgdXNlciA9IHRoaXMuYXV0aFNlcnZpY2UuYXV0aC5jdXJyZW50VXNlcjtcbiAgICBjb25zdCB1c2VyUmVmID0gZG9jKHRoaXMuZmlyZXN0b3JlLCBgdXNlclByb2ZpbGUvJHt1c2VyLnVpZH1gKTtcbiAgICBjb25zdCBzdGF0dXNSZWYgPSBkb2MoXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfS9zY2hpY2h0ZW4vJHtzY2hpY2h0SWR9L2F0dGVuZGVlcy8ke3VzZXJJZH1gXG4gICAgKTtcbiAgICByZXR1cm4gc2V0RG9jKFxuICAgICAgc3RhdHVzUmVmLFxuICAgICAgeyBjb25maXJtZWQ6IHRydWUsIGRhdGU6IG5ldyBEYXRlKCksIGNvbmZpcm1lZEJ5OiB1c2VyUmVmLCBwb2ludHM6IHBvaW50cyB9LFxuICAgICAgeyBtZXJnZTogdHJ1ZSB9XG4gICAgKTtcbiAgfVxuXG4gIHNldENsdWJIZWxmZXJFdmVudEF0dGVuZGVlU3RhdHVzKFxuICAgIHN0YXR1czogYm9vbGVhbixcbiAgICBjbHViSWQ6IHN0cmluZyxcbiAgICBldmVudElkOiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgdXNlciA9IHRoaXMuYXV0aFNlcnZpY2UuYXV0aC5jdXJyZW50VXNlcjtcbiAgICBjb25zdCBzdGF0dXNSZWYgPSBkb2MoXG4gICAgICB0aGlzLmZpcmVzdG9yZSxcbiAgICAgIGBjbHViLyR7Y2x1YklkfS9oZWxmZXJFdmVudHMvJHtldmVudElkfS9hdHRlbmRlZXMvJHt1c2VyLnVpZH1gXG4gICAgKTtcbiAgICByZXR1cm4gc2V0RG9jKHN0YXR1c1JlZiwgeyBzdGF0dXMgfSk7XG4gIH1cblxuICBhc3luYyBzZXRDcmVhdGVIZWxmZXJFdmVudChldmVudDogSGVsZmVyRXZlbnQpIHtcbiAgICBjb25zdCB1c2VyID0gdGhpcy5hdXRoU2VydmljZS5hdXRoLmN1cnJlbnRVc2VyO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiSGVsZmVyZXZlbnRcIik7XG4gICAgLy8gY29uc29sZS5sb2coZXZlbnQpO1xuICAgIHJldHVybiBhZGREb2MoXG4gICAgICBjb2xsZWN0aW9uKHRoaXMuZmlyZXN0b3JlLCBgdXNlclByb2ZpbGUvJHt1c2VyLnVpZH0vaGVsZmVyRXZlbnRzYCksXG4gICAgICBldmVudFxuICAgICk7XG4gIH1cblxuICBkZWxldGVDbHViRXZlbnQoY2x1YklkOiBzdHJpbmcsIGV2ZW50SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGV2ZW50UmVmID0gZG9jKHRoaXMuZmlyZXN0b3JlLCBgY2x1Yi8ke2NsdWJJZH0vZXZlbnRzLyR7ZXZlbnRJZH1gKTtcbiAgICByZXR1cm4gZGVsZXRlRG9jKGV2ZW50UmVmKTtcbiAgfVxuXG4gIGRlbGV0ZUhlbGZlckV2ZW50KGNsdWJJZDogc3RyaW5nLCBldmVudElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBldmVudFJlZiA9IGRvYyhcbiAgICAgIHRoaXMuZmlyZXN0b3JlLFxuICAgICAgYGNsdWIvJHtjbHViSWR9L2hlbGZlckV2ZW50cy8ke2V2ZW50SWR9YFxuICAgICk7XG4gICAgcmV0dXJuIGRlbGV0ZURvYyhldmVudFJlZik7XG4gIH1cblxuICBcblxuXG4gIC8qIFRFQU0gRXZlbnRTICovXG4gIC8qXG4gIGdldFRlYW1FdmVudHNSZWYodGVhbUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFZlcmFuc3RhbHR1bmdbXT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGBSZWFkIFRlYW0gRXZlbnRzIExpc3QgUmVmICR7dGVhbUlkfWApXG4gICAgY29uc3QgZXZlbnRzUmVmTGlzdCA9IGNvbGxlY3Rpb24odGhpcy5maXJlc3RvcmUsIGB0ZWFtcy8ke3RlYW1JZH0vZXZlbnRzYCk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgZXZlbnRzUmVmTGlzdCxcbiAgICAgIHdoZXJlKFxuICAgICAgICBcImRhdGVUaW1lXCIsXG4gICAgICAgIFwiPj1cIixcbiAgICAgICAgVGltZXN0YW1wLmZyb21EYXRlKG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwICogMzYwMCAqIDI0ICogNykpXG4gICAgICApXG4gICAgKTsgLy8gaGV1dGUgLSA3IFRhZ2VcbiAgICByZXR1cm4gY29sbGVjdGlvbkRhdGEocSwgeyBpZEZpZWxkOiBcImlkXCIgfSkgYXMgdW5rbm93biBhcyBPYnNlcnZhYmxlPFxuICAgIFZlcmFuc3RhbHR1bmdbXVxuICAgID47XG4gIH1cblxuICAvLyBQQVNUIDIwIEVudHJpZXNcbiAgZ2V0VGVhbUV2ZW50c1JlZlBhc3QodGVhbUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFZlcmFuc3RhbHR1bmdbXT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGBSZWFkIFRlYW0gRXZlbnRzIExpc3QgUmVmICR7dGVhbUlkfWApXG4gICAgY29uc3QgZXZlbnRzUmVmTGlzdCA9IGNvbGxlY3Rpb24odGhpcy5maXJlc3RvcmUsIGB0ZWFtcy8ke3RlYW1JZH0vZXZlbnRzYCk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgZXZlbnRzUmVmTGlzdCxcbiAgICAgIHdoZXJlKFxuICAgICAgICBcImRhdGVUaW1lXCIsXG4gICAgICAgIFwiPFwiLFxuICAgICAgICBUaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDAgKiAzNjAwICogMjQgKiA3KSlcbiAgICAgICksXG4gICAgICBsaW1pdCgyMClcbiAgICApOyAvLyBoZXV0ZSAtIDcgVGFnZVxuICAgIHJldHVybiBjb2xsZWN0aW9uRGF0YShxLCB7IGlkRmllbGQ6IFwiaWRcIiB9KSBhcyB1bmtub3duIGFzIE9ic2VydmFibGU8XG4gICAgVmVyYW5zdGFsdHVuZ1tdXG4gICAgPjtcbiAgYXN5bmMgc2V0Q3JlYXRlVGVhbUV2ZW50KGV2ZW50OiBWZXJhbnN0YWx0dW5nLCB1c2VyOiBVc2VyKSB7XG4gICAgY29uc29sZS5sb2coXCJldmVudFwiKTtcbiAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgcmV0dXJuIGFkZERvYyhcbiAgICAgIGNvbGxlY3Rpb24odGhpcy5maXJlc3RvcmUsIGB1c2VyUHJvZmlsZS8ke3VzZXIudWlkfS90ZWFtRXZlbnRgKSxcbiAgICAgIGV2ZW50XG4gICAgKTtcbiAgfVxuICB9XG5cbiAgZ2V0VGVhbUV2ZW50c0F0dGVuZGVlc1JlZihcbiAgICB0ZWFtSWQ6IHN0cmluZyxcbiAgICBldmVudElkOiBzdHJpbmdcbiAgKTogT2JzZXJ2YWJsZTxhbnlbXT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGBSZWFkIFRlYW0gRXZlbnRzIEF0dGVuZGVlcyBMaXN0IFJlZiAke3RlYW1JZH0gd2l0aCBFdmVudCAke2V2ZW50SWR9YClcbiAgICBjb25zdCBhdHRlbmRlZXNSZWZMaXN0ID0gY29sbGVjdGlvbihcbiAgICAgIHRoaXMuZmlyZXN0b3JlLFxuICAgICAgYHRlYW1zLyR7dGVhbUlkfS9ldmVudHMvJHtldmVudElkfS9hdHRlbmRlZXNgXG4gICAgKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkRhdGEoYXR0ZW5kZWVzUmVmTGlzdCwge1xuICAgICAgaWRGaWVsZDogXCJpZFwiLFxuICAgIH0pIGFzIHVua25vd24gYXMgT2JzZXJ2YWJsZTxhbnlbXT47XG4gIH1cbiAgICBhc3luYyBzZXRUZWFtRXZlbnRBdHRlbmRlZVN0YXR1cyhcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBzdGF0dXM6IGJvb2xlYW4sXG4gICAgdGVhbUlkOiBzdHJpbmcsXG4gICAgZXZlbnRJZDogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IHN0YXR1c1JlZiA9IGRvYyhcbiAgICAgIHRoaXMuZmlyZXN0b3JlLFxuICAgICAgYHRlYW1zLyR7dGVhbUlkfS9ldmVudHMvJHtldmVudElkfS9hdHRlbmRlZXMvJHt1c2VySWR9YFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHNldERvYyhzdGF0dXNSZWYsIHsgc3RhdHVzIH0pO1xuICB9XG5cbiAgKi9cbn1cbiJdLAogICJt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
