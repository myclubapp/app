import {
  __async,
  __glob,
  __spreadValues
} from "./chunk-LQ2EECYJ.js";

// import("./**/*.entry.js") in node_modules/@ionic/core/dist/esm/index-527b9e34.js
var globImport_entry_js = __glob({
  "./ion-accordion_2.entry.js": () => import("./ion-accordion_2.entry-ZLHXND62.js"),
  "./ion-action-sheet.entry.js": () => import("./ion-action-sheet.entry-XSZ5T52X.js"),
  "./ion-alert.entry.js": () => import("./ion-alert.entry-ER7EZU3R.js"),
  "./ion-app_8.entry.js": () => import("./ion-app_8.entry-NB5HJVX5.js"),
  "./ion-avatar_3.entry.js": () => import("./ion-avatar_3.entry-6BDYYH6F.js"),
  "./ion-back-button.entry.js": () => import("./ion-back-button.entry-Z6IQSVFF.js"),
  "./ion-backdrop.entry.js": () => import("./ion-backdrop.entry-KKQPPFTU.js"),
  "./ion-breadcrumb_2.entry.js": () => import("./ion-breadcrumb_2.entry-4VXGWMAD.js"),
  "./ion-button_2.entry.js": () => import("./ion-button_2.entry-YYBFYCU6.js"),
  "./ion-card_5.entry.js": () => import("./ion-card_5.entry-PHHYSPTW.js"),
  "./ion-checkbox.entry.js": () => import("./ion-checkbox.entry-4BPKX6UI.js"),
  "./ion-chip.entry.js": () => import("./ion-chip.entry-R3DRNRX2.js"),
  "./ion-col_3.entry.js": () => import("./ion-col_3.entry-PBWSB2MI.js"),
  "./ion-datetime-button.entry.js": () => import("./ion-datetime-button.entry-HXJZGLOW.js"),
  "./ion-datetime_3.entry.js": () => import("./ion-datetime_3.entry-KQIMX25G.js"),
  "./ion-fab_3.entry.js": () => import("./ion-fab_3.entry-KQBPLJMC.js"),
  "./ion-img.entry.js": () => import("./ion-img.entry-HHRH5O2R.js"),
  "./ion-infinite-scroll_2.entry.js": () => import("./ion-infinite-scroll_2.entry-LV3HQB73.js"),
  "./ion-input-password-toggle.entry.js": () => import("./ion-input-password-toggle.entry-TQBZS6TC.js"),
  "./ion-input.entry.js": () => import("./ion-input.entry-RZWXGMKC.js"),
  "./ion-item-option_3.entry.js": () => import("./ion-item-option_3.entry-3UDF43YP.js"),
  "./ion-item_8.entry.js": () => import("./ion-item_8.entry-YWVB5VNV.js"),
  "./ion-loading.entry.js": () => import("./ion-loading.entry-QQLSJ5DX.js"),
  "./ion-menu_3.entry.js": () => import("./ion-menu_3.entry-M5PQFWOL.js"),
  "./ion-modal.entry.js": () => import("./ion-modal.entry-HGWN7NQB.js"),
  "./ion-nav_2.entry.js": () => import("./ion-nav_2.entry-3XOQETA7.js"),
  "./ion-picker-column-option.entry.js": () => import("./ion-picker-column-option.entry-TS2MGNGF.js"),
  "./ion-picker-column.entry.js": () => import("./ion-picker-column.entry-A4Y2URVN.js"),
  "./ion-picker.entry.js": () => import("./ion-picker.entry-TPJPWNOV.js"),
  "./ion-popover.entry.js": () => import("./ion-popover.entry-CDLBGAS3.js"),
  "./ion-progress-bar.entry.js": () => import("./ion-progress-bar.entry-WGFXM7OB.js"),
  "./ion-radio_2.entry.js": () => import("./ion-radio_2.entry-NRGFZ3NT.js"),
  "./ion-range.entry.js": () => import("./ion-range.entry-ZCVW7R5H.js"),
  "./ion-refresher_2.entry.js": () => import("./ion-refresher_2.entry-P42ECNPE.js"),
  "./ion-reorder_2.entry.js": () => import("./ion-reorder_2.entry-6MYYCM3K.js"),
  "./ion-ripple-effect.entry.js": () => import("./ion-ripple-effect.entry-RGBZR2KO.js"),
  "./ion-route_4.entry.js": () => import("./ion-route_4.entry-FMQZQNHX.js"),
  "./ion-searchbar.entry.js": () => import("./ion-searchbar.entry-SGIQON52.js"),
  "./ion-segment-content.entry.js": () => import("./ion-segment-content.entry-3TVQNZO3.js"),
  "./ion-segment-view.entry.js": () => import("./ion-segment-view.entry-2AOJT3RO.js"),
  "./ion-segment_2.entry.js": () => import("./ion-segment_2.entry-T37KQZEK.js"),
  "./ion-select-modal.entry.js": () => import("./ion-select-modal.entry-QQE6MJ6S.js"),
  "./ion-select_3.entry.js": () => import("./ion-select_3.entry-CX4FNIHP.js"),
  "./ion-spinner.entry.js": () => import("./ion-spinner.entry-C2DK5XKJ.js"),
  "./ion-split-pane.entry.js": () => import("./ion-split-pane.entry-SB7RN6SA.js"),
  "./ion-tab-bar_2.entry.js": () => import("./ion-tab-bar_2.entry-UCG7ZMWF.js"),
  "./ion-tab_2.entry.js": () => import("./ion-tab_2.entry-BTGDDIDM.js"),
  "./ion-text.entry.js": () => import("./ion-text.entry-OLUUNRGX.js"),
  "./ion-textarea.entry.js": () => import("./ion-textarea.entry-7QHZMQIZ.js"),
  "./ion-toast.entry.js": () => import("./ion-toast.entry-AEEIKQY5.js"),
  "./ion-toggle.entry.js": () => import("./ion-toggle.entry-OPNYFOVI.js")
});

// node_modules/@ionic/core/dist/esm/index-527b9e34.js
var NAMESPACE = "ionic";
var BUILD = (
  /* ionic */
  {
    allRenderFn: false,
    appendChildSlotFix: true,
    asyncLoading: true,
    asyncQueue: false,
    attachStyles: true,
    cloneNodeFix: true,
    cmpDidLoad: true,
    cmpDidRender: true,
    cmpDidUnload: false,
    cmpDidUpdate: true,
    cmpShouldUpdate: false,
    cmpWillLoad: true,
    cmpWillRender: true,
    cmpWillUpdate: false,
    connectedCallback: true,
    constructableCSS: true,
    cssAnnotations: true,
    devTools: false,
    disconnectedCallback: true,
    element: false,
    event: true,
    experimentalScopedSlotChanges: true,
    experimentalSlotFixes: true,
    formAssociated: false,
    hasRenderFn: true,
    hostListener: true,
    hostListenerTarget: true,
    hostListenerTargetBody: true,
    hostListenerTargetDocument: true,
    hostListenerTargetParent: false,
    hostListenerTargetWindow: true,
    hotModuleReplacement: false,
    hydrateClientSide: true,
    hydrateServerSide: false,
    hydratedAttribute: false,
    hydratedClass: true,
    hydratedSelectorName: "hydrated",
    initializeNextTick: false,
    invisiblePrehydration: true,
    isDebug: false,
    isDev: false,
    isTesting: false,
    lazyLoad: true,
    lifecycle: true,
    lifecycleDOMEvents: false,
    member: true,
    method: true,
    mode: true,
    observeAttribute: true,
    profile: false,
    prop: true,
    propBoolean: true,
    propMutable: true,
    propNumber: true,
    propString: true,
    reflect: true,
    scoped: true,
    scopedSlotTextContentFix: true,
    scriptDataOpts: false,
    shadowDelegatesFocus: true,
    shadowDom: true,
    slot: true,
    slotChildNodesFix: true,
    slotRelocation: true,
    state: true,
    style: true,
    svg: true,
    taskQueue: true,
    transformTagName: false,
    updatable: true,
    vdomAttribute: true,
    vdomClass: true,
    vdomFunctional: true,
    vdomKey: true,
    vdomListener: true,
    vdomPropOrAttr: true,
    vdomRef: true,
    vdomRender: true,
    vdomStyle: true,
    vdomText: true,
    vdomXlink: true,
    watchCallback: true
  }
);
var __defProp = Object.defineProperty;
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var Build = {
  isDev: false,
  isBrowser: true,
  isServer: false,
  isTesting: false
};
var hostRefs = /* @__PURE__ */ new WeakMap();
var getHostRef = (ref) => hostRefs.get(ref);
var registerInstance = (lazyInstance, hostRef) => hostRefs.set(hostRef.$lazyInstance$ = lazyInstance, hostRef);
var registerHost = (hostElement, cmpMeta) => {
  const hostRef = {
    $flags$: 0,
    $hostElement$: hostElement,
    $cmpMeta$: cmpMeta,
    $instanceValues$: /* @__PURE__ */ new Map()
  };
  {
    hostRef.$onInstancePromise$ = new Promise((r) => hostRef.$onInstanceResolve$ = r);
  }
  {
    hostRef.$onReadyPromise$ = new Promise((r) => hostRef.$onReadyResolve$ = r);
    hostElement["s-p"] = [];
    hostElement["s-rc"] = [];
  }
  return hostRefs.set(hostElement, hostRef);
};
var isMemberInElement = (elm, memberName) => memberName in elm;
var consoleError = (e, el) => (0, console.error)(e, el);
var cmpModules = /* @__PURE__ */ new Map();
var loadModule = (cmpMeta, hostRef, hmrVersionId) => {
  const exportName = cmpMeta.$tagName$.replace(/-/g, "_");
  const bundleId = cmpMeta.$lazyBundleId$;
  if (!bundleId) {
    return void 0;
  }
  const module = cmpModules.get(bundleId);
  if (module) {
    return module[exportName];
  }
  return /* @vite-ignore */ /* webpackInclude: /\.entry\.js$/ */ /* webpackExclude: /\.system\.entry\.js$/ */ /* webpackMode: "lazy" */ globImport_entry_js(`./${bundleId}.entry.js${""}`).then((importedModule) => {
    {
      cmpModules.set(bundleId, importedModule);
    }
    return importedModule[exportName];
  }, consoleError);
};
var styles = /* @__PURE__ */ new Map();
var modeResolutionChain = [];
var CONTENT_REF_ID = "r";
var ORG_LOCATION_ID = "o";
var SLOT_NODE_ID = "s";
var TEXT_NODE_ID = "t";
var HYDRATE_ID = "s-id";
var HYDRATED_STYLE_ID = "sty-id";
var HYDRATE_CHILD_ID = "c-id";
var HYDRATED_CSS = "{visibility:hidden}.hydrated{visibility:inherit}";
var SLOT_FB_CSS = "slot-fb{display:contents}slot-fb[hidden]{display:none}";
var XLINK_NS = "http://www.w3.org/1999/xlink";
var win = typeof window !== "undefined" ? window : {};
var doc = win.document || {
  head: {}
};
var H = win.HTMLElement || class {
};
var plt = {
  $flags$: 0,
  $resourcesUrl$: "",
  jmp: (h2) => h2(),
  raf: (h2) => requestAnimationFrame(h2),
  ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),
  rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),
  ce: (eventName, opts) => new CustomEvent(eventName, opts)
};
var supportsShadow = BUILD.shadowDom;
var supportsListenerOptions = /* @__PURE__ */ (() => {
  let supportsListenerOptions2 = false;
  try {
    doc.addEventListener("e", null, Object.defineProperty({}, "passive", {
      get() {
        supportsListenerOptions2 = true;
      }
    }));
  } catch (e) {
  }
  return supportsListenerOptions2;
})();
var promiseResolve = (v) => Promise.resolve(v);
var supportsConstructableStylesheets = /* @__PURE__ */ (() => {
  try {
    new CSSStyleSheet();
    return typeof new CSSStyleSheet().replaceSync === "function";
  } catch (e) {
  }
  return false;
})();
var queuePending = false;
var queueDomReads = [];
var queueDomWrites = [];
var queueTask = (queue, write) => (cb) => {
  queue.push(cb);
  if (!queuePending) {
    queuePending = true;
    if (write && plt.$flags$ & 4) {
      nextTick(flush);
    } else {
      plt.raf(flush);
    }
  }
};
var consume = (queue) => {
  for (let i2 = 0; i2 < queue.length; i2++) {
    try {
      queue[i2](performance.now());
    } catch (e) {
      consoleError(e);
    }
  }
  queue.length = 0;
};
var flush = () => {
  consume(queueDomReads);
  {
    consume(queueDomWrites);
    if (queuePending = queueDomReads.length > 0) {
      plt.raf(flush);
    }
  }
};
var nextTick = (cb) => promiseResolve().then(cb);
var readTask = /* @__PURE__ */ queueTask(queueDomReads, false);
var writeTask = /* @__PURE__ */ queueTask(queueDomWrites, true);
var getAssetPath = (path) => {
  const assetUrl = new URL(path, plt.$resourcesUrl$);
  return assetUrl.origin !== win.location.origin ? assetUrl.href : assetUrl.pathname;
};
var EMPTY_OBJ = {};
var SVG_NS = "http://www.w3.org/2000/svg";
var HTML_NS = "http://www.w3.org/1999/xhtml";
var isDef = (v) => v != null;
var isComplexType = (o) => {
  o = typeof o;
  return o === "object" || o === "function";
};
function queryNonceMetaTagContent(doc2) {
  var _a, _b, _c;
  return (_c = (_b = (_a = doc2.head) == null ? void 0 : _a.querySelector('meta[name="csp-nonce"]')) == null ? void 0 : _b.getAttribute("content")) != null ? _c : void 0;
}
var result_exports = {};
__export(result_exports, {
  err: () => err,
  map: () => map,
  ok: () => ok,
  unwrap: () => unwrap,
  unwrapErr: () => unwrapErr
});
var ok = (value) => ({
  isOk: true,
  isErr: false,
  value
});
var err = (value) => ({
  isOk: false,
  isErr: true,
  value
});
function map(result, fn) {
  if (result.isOk) {
    const val = fn(result.value);
    if (val instanceof Promise) {
      return val.then((newVal) => ok(newVal));
    } else {
      return ok(val);
    }
  }
  if (result.isErr) {
    const value = result.value;
    return err(value);
  }
  throw "should never get here";
}
var unwrap = (result) => {
  if (result.isOk) {
    return result.value;
  } else {
    throw result.value;
  }
};
var unwrapErr = (result) => {
  if (result.isErr) {
    return result.value;
  } else {
    throw result.value;
  }
};
var createTime = (fnName, tagName = "") => {
  {
    return () => {
      return;
    };
  }
};
var uniqueTime = (key, measureText) => {
  {
    return () => {
      return;
    };
  }
};
var h = (nodeName, vnodeData, ...children) => {
  let child = null;
  let key = null;
  let slotName = null;
  let simple = false;
  let lastSimple = false;
  const vNodeChildren = [];
  const walk = (c) => {
    for (let i2 = 0; i2 < c.length; i2++) {
      child = c[i2];
      if (Array.isArray(child)) {
        walk(child);
      } else if (child != null && typeof child !== "boolean") {
        if (simple = typeof nodeName !== "function" && !isComplexType(child)) {
          child = String(child);
        }
        if (simple && lastSimple) {
          vNodeChildren[vNodeChildren.length - 1].$text$ += child;
        } else {
          vNodeChildren.push(simple ? newVNode(null, child) : child);
        }
        lastSimple = simple;
      }
    }
  };
  walk(children);
  if (vnodeData) {
    if (vnodeData.key) {
      key = vnodeData.key;
    }
    if (vnodeData.name) {
      slotName = vnodeData.name;
    }
    {
      const classData = vnodeData.className || vnodeData.class;
      if (classData) {
        vnodeData.class = typeof classData !== "object" ? classData : Object.keys(classData).filter((k) => classData[k]).join(" ");
      }
    }
  }
  if (typeof nodeName === "function") {
    return nodeName(vnodeData === null ? {} : vnodeData, vNodeChildren, vdomFnUtils);
  }
  const vnode = newVNode(nodeName, null);
  vnode.$attrs$ = vnodeData;
  if (vNodeChildren.length > 0) {
    vnode.$children$ = vNodeChildren;
  }
  {
    vnode.$key$ = key;
  }
  {
    vnode.$name$ = slotName;
  }
  return vnode;
};
var newVNode = (tag, text) => {
  const vnode = {
    $flags$: 0,
    $tag$: tag,
    $text$: text,
    $elm$: null,
    $children$: null
  };
  {
    vnode.$attrs$ = null;
  }
  {
    vnode.$key$ = null;
  }
  {
    vnode.$name$ = null;
  }
  return vnode;
};
var Host = {};
var isHost = (node) => node && node.$tag$ === Host;
var vdomFnUtils = {
  forEach: (children, cb) => children.map(convertToPublic).forEach(cb),
  map: (children, cb) => children.map(convertToPublic).map(cb).map(convertToPrivate)
};
var convertToPublic = (node) => ({
  vattrs: node.$attrs$,
  vchildren: node.$children$,
  vkey: node.$key$,
  vname: node.$name$,
  vtag: node.$tag$,
  vtext: node.$text$
});
var convertToPrivate = (node) => {
  if (typeof node.vtag === "function") {
    const vnodeData = __spreadValues({}, node.vattrs);
    if (node.vkey) {
      vnodeData.key = node.vkey;
    }
    if (node.vname) {
      vnodeData.name = node.vname;
    }
    return h(node.vtag, vnodeData, ...node.vchildren || []);
  }
  const vnode = newVNode(node.vtag, node.vtext);
  vnode.$attrs$ = node.vattrs;
  vnode.$children$ = node.vchildren;
  vnode.$key$ = node.vkey;
  vnode.$name$ = node.vname;
  return vnode;
};
var initializeClientHydrate = (hostElm, tagName, hostId, hostRef) => {
  const endHydrate = createTime("hydrateClient", tagName);
  const shadowRoot = hostElm.shadowRoot;
  const childRenderNodes = [];
  const slotNodes = [];
  const shadowRootNodes = shadowRoot ? [] : null;
  const vnode = hostRef.$vnode$ = newVNode(tagName, null);
  if (!plt.$orgLocNodes$) {
    initializeDocumentHydrate(doc.body, plt.$orgLocNodes$ = /* @__PURE__ */ new Map());
  }
  hostElm[HYDRATE_ID] = hostId;
  hostElm.removeAttribute(HYDRATE_ID);
  clientHydrate(vnode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, hostElm, hostId);
  childRenderNodes.map((c) => {
    const orgLocationId = c.$hostId$ + "." + c.$nodeId$;
    const orgLocationNode = plt.$orgLocNodes$.get(orgLocationId);
    const node = c.$elm$;
    if (orgLocationNode && supportsShadow && orgLocationNode["s-en"] === "") {
      orgLocationNode.parentNode.insertBefore(node, orgLocationNode.nextSibling);
    }
    if (!shadowRoot) {
      node["s-hn"] = tagName;
      if (orgLocationNode) {
        node["s-ol"] = orgLocationNode;
        node["s-ol"]["s-nr"] = node;
      }
    }
    plt.$orgLocNodes$.delete(orgLocationId);
  });
  if (shadowRoot) {
    shadowRootNodes.map((shadowRootNode) => {
      if (shadowRootNode) {
        shadowRoot.appendChild(shadowRootNode);
      }
    });
  }
  endHydrate();
};
var clientHydrate = (parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node, hostId) => {
  let childNodeType;
  let childIdSplt;
  let childVNode;
  let i2;
  if (node.nodeType === 1) {
    childNodeType = node.getAttribute(HYDRATE_CHILD_ID);
    if (childNodeType) {
      childIdSplt = childNodeType.split(".");
      if (childIdSplt[0] === hostId || childIdSplt[0] === "0") {
        childVNode = {
          $flags$: 0,
          $hostId$: childIdSplt[0],
          $nodeId$: childIdSplt[1],
          $depth$: childIdSplt[2],
          $index$: childIdSplt[3],
          $tag$: node.tagName.toLowerCase(),
          $elm$: node,
          $attrs$: null,
          $children$: null,
          $key$: null,
          $name$: null,
          $text$: null
        };
        childRenderNodes.push(childVNode);
        node.removeAttribute(HYDRATE_CHILD_ID);
        if (!parentVNode.$children$) {
          parentVNode.$children$ = [];
        }
        parentVNode.$children$[childVNode.$index$] = childVNode;
        parentVNode = childVNode;
        if (shadowRootNodes && childVNode.$depth$ === "0") {
          shadowRootNodes[childVNode.$index$] = childVNode.$elm$;
        }
      }
    }
    if (node.shadowRoot) {
      for (i2 = node.shadowRoot.childNodes.length - 1; i2 >= 0; i2--) {
        clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.shadowRoot.childNodes[i2], hostId);
      }
    }
    for (i2 = node.childNodes.length - 1; i2 >= 0; i2--) {
      clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.childNodes[i2], hostId);
    }
  } else if (node.nodeType === 8) {
    childIdSplt = node.nodeValue.split(".");
    if (childIdSplt[1] === hostId || childIdSplt[1] === "0") {
      childNodeType = childIdSplt[0];
      childVNode = {
        $flags$: 0,
        $hostId$: childIdSplt[1],
        $nodeId$: childIdSplt[2],
        $depth$: childIdSplt[3],
        $index$: childIdSplt[4],
        $elm$: node,
        $attrs$: null,
        $children$: null,
        $key$: null,
        $name$: null,
        $tag$: null,
        $text$: null
      };
      if (childNodeType === TEXT_NODE_ID) {
        childVNode.$elm$ = node.nextSibling;
        if (childVNode.$elm$ && childVNode.$elm$.nodeType === 3) {
          childVNode.$text$ = childVNode.$elm$.textContent;
          childRenderNodes.push(childVNode);
          node.remove();
          if (!parentVNode.$children$) {
            parentVNode.$children$ = [];
          }
          parentVNode.$children$[childVNode.$index$] = childVNode;
          if (shadowRootNodes && childVNode.$depth$ === "0") {
            shadowRootNodes[childVNode.$index$] = childVNode.$elm$;
          }
        }
      } else if (childVNode.$hostId$ === hostId) {
        if (childNodeType === SLOT_NODE_ID) {
          childVNode.$tag$ = "slot";
          if (childIdSplt[5]) {
            node["s-sn"] = childVNode.$name$ = childIdSplt[5];
          } else {
            node["s-sn"] = "";
          }
          node["s-sr"] = true;
          if (shadowRootNodes) {
            childVNode.$elm$ = doc.createElement(childVNode.$tag$);
            if (childVNode.$name$) {
              childVNode.$elm$.setAttribute("name", childVNode.$name$);
            }
            node.parentNode.insertBefore(childVNode.$elm$, node);
            node.remove();
            if (childVNode.$depth$ === "0") {
              shadowRootNodes[childVNode.$index$] = childVNode.$elm$;
            }
          }
          slotNodes.push(childVNode);
          if (!parentVNode.$children$) {
            parentVNode.$children$ = [];
          }
          parentVNode.$children$[childVNode.$index$] = childVNode;
        } else if (childNodeType === CONTENT_REF_ID) {
          if (shadowRootNodes) {
            node.remove();
          } else {
            hostElm["s-cr"] = node;
            node["s-cn"] = true;
          }
        }
      }
    }
  } else if (parentVNode && parentVNode.$tag$ === "style") {
    const vnode = newVNode(null, node.textContent);
    vnode.$elm$ = node;
    vnode.$index$ = "0";
    parentVNode.$children$ = [vnode];
  }
};
var initializeDocumentHydrate = (node, orgLocNodes) => {
  if (node.nodeType === 1) {
    let i2 = 0;
    if (node.shadowRoot) {
      for (; i2 < node.shadowRoot.childNodes.length; i2++) {
        initializeDocumentHydrate(node.shadowRoot.childNodes[i2], orgLocNodes);
      }
    }
    for (i2 = 0; i2 < node.childNodes.length; i2++) {
      initializeDocumentHydrate(node.childNodes[i2], orgLocNodes);
    }
  } else if (node.nodeType === 8) {
    const childIdSplt = node.nodeValue.split(".");
    if (childIdSplt[0] === ORG_LOCATION_ID) {
      orgLocNodes.set(childIdSplt[1] + "." + childIdSplt[2], node);
      node.nodeValue = "";
      node["s-en"] = childIdSplt[3];
    }
  }
};
var computeMode = (elm) => modeResolutionChain.map((h2) => h2(elm)).find((m) => !!m);
var setMode = (handler) => modeResolutionChain.push(handler);
var getMode = (ref) => getHostRef(ref).$modeName$;
var parsePropertyValue = (propValue, propType) => {
  if (propValue != null && !isComplexType(propValue)) {
    if (propType & 4) {
      return propValue === "false" ? false : propValue === "" || !!propValue;
    }
    if (propType & 2) {
      return parseFloat(propValue);
    }
    if (propType & 1) {
      return String(propValue);
    }
    return propValue;
  }
  return propValue;
};
var getElement = (ref) => getHostRef(ref).$hostElement$;
var createEvent = (ref, name, flags) => {
  const elm = getElement(ref);
  return {
    emit: (detail) => {
      return emitEvent(elm, name, {
        bubbles: !!(flags & 4),
        composed: !!(flags & 2),
        cancelable: !!(flags & 1),
        detail
      });
    }
  };
};
var emitEvent = (elm, name, opts) => {
  const ev = plt.ce(name, opts);
  elm.dispatchEvent(ev);
  return ev;
};
var rootAppliedStyles = /* @__PURE__ */ new WeakMap();
var registerStyle = (scopeId2, cssText, allowCS) => {
  let style = styles.get(scopeId2);
  if (supportsConstructableStylesheets && allowCS) {
    style = style || new CSSStyleSheet();
    if (typeof style === "string") {
      style = cssText;
    } else {
      style.replaceSync(cssText);
    }
  } else {
    style = cssText;
  }
  styles.set(scopeId2, style);
};
var addStyle = (styleContainerNode, cmpMeta, mode) => {
  var _a;
  const scopeId2 = getScopeId(cmpMeta, mode);
  const style = styles.get(scopeId2);
  styleContainerNode = styleContainerNode.nodeType === 11 ? styleContainerNode : doc;
  if (style) {
    if (typeof style === "string") {
      styleContainerNode = styleContainerNode.head || styleContainerNode;
      let appliedStyles = rootAppliedStyles.get(styleContainerNode);
      let styleElm;
      if (!appliedStyles) {
        rootAppliedStyles.set(styleContainerNode, appliedStyles = /* @__PURE__ */ new Set());
      }
      if (!appliedStyles.has(scopeId2)) {
        if (styleContainerNode.host && (styleElm = styleContainerNode.querySelector(`[${HYDRATED_STYLE_ID}="${scopeId2}"]`))) {
          styleElm.innerHTML = style;
        } else {
          styleElm = doc.createElement("style");
          styleElm.innerHTML = style;
          const nonce = (_a = plt.$nonce$) != null ? _a : queryNonceMetaTagContent(doc);
          if (nonce != null) {
            styleElm.setAttribute("nonce", nonce);
          }
          const injectStyle = (
            /**
             * we render a scoped component
             */
            !(cmpMeta.$flags$ & 1) || /**
            * we are using shadow dom and render the style tag within the shadowRoot
            */
            cmpMeta.$flags$ & 1 && styleContainerNode.nodeName !== "HEAD"
          );
          if (injectStyle) {
            styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector("link"));
          }
        }
        if (cmpMeta.$flags$ & 4) {
          styleElm.innerHTML += SLOT_FB_CSS;
        }
        if (appliedStyles) {
          appliedStyles.add(scopeId2);
        }
      }
    } else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {
      styleContainerNode.adoptedStyleSheets = [...styleContainerNode.adoptedStyleSheets, style];
    }
  }
  return scopeId2;
};
var attachStyles = (hostRef) => {
  const cmpMeta = hostRef.$cmpMeta$;
  const elm = hostRef.$hostElement$;
  const flags = cmpMeta.$flags$;
  const endAttachStyles = createTime("attachStyles", cmpMeta.$tagName$);
  const scopeId2 = addStyle(elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta, hostRef.$modeName$);
  if (flags & 10 && flags & 2) {
    elm["s-sc"] = scopeId2;
    elm.classList.add(scopeId2 + "-h");
    if (flags & 2) {
      elm.classList.add(scopeId2 + "-s");
    }
  }
  endAttachStyles();
};
var getScopeId = (cmp, mode) => "sc-" + (mode && cmp.$flags$ & 32 ? cmp.$tagName$ + "-" + mode : cmp.$tagName$);
var setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {
  if (oldValue !== newValue) {
    let isProp = isMemberInElement(elm, memberName);
    let ln = memberName.toLowerCase();
    if (memberName === "class") {
      const classList = elm.classList;
      const oldClasses = parseClassList(oldValue);
      const newClasses = parseClassList(newValue);
      classList.remove(...oldClasses.filter((c) => c && !newClasses.includes(c)));
      classList.add(...newClasses.filter((c) => c && !oldClasses.includes(c)));
    } else if (memberName === "style") {
      {
        for (const prop in oldValue) {
          if (!newValue || newValue[prop] == null) {
            if (prop.includes("-")) {
              elm.style.removeProperty(prop);
            } else {
              elm.style[prop] = "";
            }
          }
        }
      }
      for (const prop in newValue) {
        if (!oldValue || newValue[prop] !== oldValue[prop]) {
          if (prop.includes("-")) {
            elm.style.setProperty(prop, newValue[prop]);
          } else {
            elm.style[prop] = newValue[prop];
          }
        }
      }
    } else if (memberName === "key") ;
    else if (memberName === "ref") {
      if (newValue) {
        newValue(elm);
      }
    } else if (!isProp && memberName[0] === "o" && memberName[1] === "n") {
      if (memberName[2] === "-") {
        memberName = memberName.slice(3);
      } else if (isMemberInElement(win, ln)) {
        memberName = ln.slice(2);
      } else {
        memberName = ln[2] + memberName.slice(3);
      }
      if (oldValue || newValue) {
        const capture = memberName.endsWith(CAPTURE_EVENT_SUFFIX);
        memberName = memberName.replace(CAPTURE_EVENT_REGEX, "");
        if (oldValue) {
          plt.rel(elm, memberName, oldValue, capture);
        }
        if (newValue) {
          plt.ael(elm, memberName, newValue, capture);
        }
      }
    } else {
      const isComplex = isComplexType(newValue);
      if ((isProp || isComplex && newValue !== null) && !isSvg) {
        try {
          if (!elm.tagName.includes("-")) {
            const n = newValue == null ? "" : newValue;
            if (memberName === "list") {
              isProp = false;
            } else if (oldValue == null || elm[memberName] != n) {
              elm[memberName] = n;
            }
          } else {
            elm[memberName] = newValue;
          }
        } catch (e) {
        }
      }
      let xlink = false;
      {
        if (ln !== (ln = ln.replace(/^xlink\:?/, ""))) {
          memberName = ln;
          xlink = true;
        }
      }
      if (newValue == null || newValue === false) {
        if (newValue !== false || elm.getAttribute(memberName) === "") {
          if (xlink) {
            elm.removeAttributeNS(XLINK_NS, memberName);
          } else {
            elm.removeAttribute(memberName);
          }
        }
      } else if ((!isProp || flags & 4 || isSvg) && !isComplex) {
        newValue = newValue === true ? "" : newValue;
        if (xlink) {
          elm.setAttributeNS(XLINK_NS, memberName, newValue);
        } else {
          elm.setAttribute(memberName, newValue);
        }
      }
    }
  }
};
var parseClassListRegex = /\s/;
var parseClassList = (value) => !value ? [] : value.split(parseClassListRegex);
var CAPTURE_EVENT_SUFFIX = "Capture";
var CAPTURE_EVENT_REGEX = new RegExp(CAPTURE_EVENT_SUFFIX + "$");
var updateElement = (oldVnode, newVnode, isSvgMode2) => {
  const elm = newVnode.$elm$.nodeType === 11 && newVnode.$elm$.host ? newVnode.$elm$.host : newVnode.$elm$;
  const oldVnodeAttrs = oldVnode && oldVnode.$attrs$ || EMPTY_OBJ;
  const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;
  {
    for (const memberName of sortedAttrNames(Object.keys(oldVnodeAttrs))) {
      if (!(memberName in newVnodeAttrs)) {
        setAccessor(elm, memberName, oldVnodeAttrs[memberName], void 0, isSvgMode2, newVnode.$flags$);
      }
    }
  }
  for (const memberName of sortedAttrNames(Object.keys(newVnodeAttrs))) {
    setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode2, newVnode.$flags$);
  }
};
function sortedAttrNames(attrNames) {
  return attrNames.includes("ref") ? (
    // we need to sort these to ensure that `'ref'` is the last attr
    [...attrNames.filter((attr) => attr !== "ref"), "ref"]
  ) : (
    // no need to sort, return the original array
    attrNames
  );
}
var scopeId;
var contentRef;
var hostTagName;
var useNativeShadowDom = false;
var checkSlotFallbackVisibility = false;
var checkSlotRelocate = false;
var isSvgMode = false;
var createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {
  var _a;
  const newVNode2 = newParentVNode.$children$[childIndex];
  let i2 = 0;
  let elm;
  let childNode;
  let oldVNode;
  if (!useNativeShadowDom) {
    checkSlotRelocate = true;
    if (newVNode2.$tag$ === "slot") {
      if (scopeId) {
        parentElm.classList.add(scopeId + "-s");
      }
      newVNode2.$flags$ |= newVNode2.$children$ ? (
        // slot element has fallback content
        // still create an element that "mocks" the slot element
        2
      ) : (
        // slot element does not have fallback content
        // create an html comment we'll use to always reference
        // where actual slot content should sit next to
        1
      );
    }
  }
  if (newVNode2.$text$ !== null) {
    elm = newVNode2.$elm$ = doc.createTextNode(newVNode2.$text$);
  } else if (newVNode2.$flags$ & 1) {
    elm = newVNode2.$elm$ = doc.createTextNode("");
  } else {
    if (!isSvgMode) {
      isSvgMode = newVNode2.$tag$ === "svg";
    }
    elm = newVNode2.$elm$ = doc.createElementNS(isSvgMode ? SVG_NS : HTML_NS, !useNativeShadowDom && BUILD.slotRelocation && newVNode2.$flags$ & 2 ? "slot-fb" : newVNode2.$tag$);
    if (isSvgMode && newVNode2.$tag$ === "foreignObject") {
      isSvgMode = false;
    }
    {
      updateElement(null, newVNode2, isSvgMode);
    }
    const rootNode = elm.getRootNode();
    const isElementWithinShadowRoot = !rootNode.querySelector("body");
    if (!isElementWithinShadowRoot && BUILD.scoped && isDef(scopeId) && elm["s-si"] !== scopeId) {
      elm.classList.add(elm["s-si"] = scopeId);
    }
    {
      updateElementScopeIds(elm, parentElm);
    }
    if (newVNode2.$children$) {
      for (i2 = 0; i2 < newVNode2.$children$.length; ++i2) {
        childNode = createElm(oldParentVNode, newVNode2, i2, elm);
        if (childNode) {
          elm.appendChild(childNode);
        }
      }
    }
    {
      if (newVNode2.$tag$ === "svg") {
        isSvgMode = false;
      } else if (elm.tagName === "foreignObject") {
        isSvgMode = true;
      }
    }
  }
  elm["s-hn"] = hostTagName;
  {
    if (newVNode2.$flags$ & (2 | 1)) {
      elm["s-sr"] = true;
      elm["s-cr"] = contentRef;
      elm["s-sn"] = newVNode2.$name$ || "";
      elm["s-rf"] = (_a = newVNode2.$attrs$) == null ? void 0 : _a.ref;
      oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];
      if (oldVNode && oldVNode.$tag$ === newVNode2.$tag$ && oldParentVNode.$elm$) {
        {
          relocateToHostRoot(oldParentVNode.$elm$);
        }
      }
    }
  }
  return elm;
};
var relocateToHostRoot = (parentElm) => {
  plt.$flags$ |= 1;
  const host = parentElm.closest(hostTagName.toLowerCase());
  if (host != null) {
    const contentRefNode = Array.from(host.childNodes).find((ref) => ref["s-cr"]);
    const childNodeArray = Array.from(parentElm.childNodes);
    for (const childNode of contentRefNode ? childNodeArray.reverse() : childNodeArray) {
      if (childNode["s-sh"] != null) {
        insertBefore(host, childNode, contentRefNode != null ? contentRefNode : null);
        childNode["s-sh"] = void 0;
        checkSlotRelocate = true;
      }
    }
  }
  plt.$flags$ &= ~1;
};
var putBackInOriginalLocation = (parentElm, recursive) => {
  plt.$flags$ |= 1;
  const oldSlotChildNodes = Array.from(parentElm.childNodes);
  if (parentElm["s-sr"] && BUILD.experimentalSlotFixes) {
    let node = parentElm;
    while (node = node.nextSibling) {
      if (node && node["s-sn"] === parentElm["s-sn"] && node["s-sh"] === hostTagName) {
        oldSlotChildNodes.push(node);
      }
    }
  }
  for (let i2 = oldSlotChildNodes.length - 1; i2 >= 0; i2--) {
    const childNode = oldSlotChildNodes[i2];
    if (childNode["s-hn"] !== hostTagName && childNode["s-ol"]) {
      insertBefore(parentReferenceNode(childNode), childNode, referenceNode(childNode));
      childNode["s-ol"].remove();
      childNode["s-ol"] = void 0;
      childNode["s-sh"] = void 0;
      checkSlotRelocate = true;
    }
    if (recursive) {
      putBackInOriginalLocation(childNode, recursive);
    }
  }
  plt.$flags$ &= ~1;
};
var addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {
  let containerElm = parentElm["s-cr"] && parentElm["s-cr"].parentNode || parentElm;
  let childNode;
  if (containerElm.shadowRoot && containerElm.tagName === hostTagName) {
    containerElm = containerElm.shadowRoot;
  }
  for (; startIdx <= endIdx; ++startIdx) {
    if (vnodes[startIdx]) {
      childNode = createElm(null, parentVNode, startIdx, parentElm);
      if (childNode) {
        vnodes[startIdx].$elm$ = childNode;
        insertBefore(containerElm, childNode, referenceNode(before));
      }
    }
  }
};
var removeVnodes = (vnodes, startIdx, endIdx) => {
  for (let index = startIdx; index <= endIdx; ++index) {
    const vnode = vnodes[index];
    if (vnode) {
      const elm = vnode.$elm$;
      nullifyVNodeRefs(vnode);
      if (elm) {
        {
          checkSlotFallbackVisibility = true;
          if (elm["s-ol"]) {
            elm["s-ol"].remove();
          } else {
            putBackInOriginalLocation(elm, true);
          }
        }
        elm.remove();
      }
    }
  }
};
var updateChildren = (parentElm, oldCh, newVNode2, newCh, isInitialRender = false) => {
  let oldStartIdx = 0;
  let newStartIdx = 0;
  let idxInOld = 0;
  let i2 = 0;
  let oldEndIdx = oldCh.length - 1;
  let oldStartVnode = oldCh[0];
  let oldEndVnode = oldCh[oldEndIdx];
  let newEndIdx = newCh.length - 1;
  let newStartVnode = newCh[0];
  let newEndVnode = newCh[newEndIdx];
  let node;
  let elmToMove;
  while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
    if (oldStartVnode == null) {
      oldStartVnode = oldCh[++oldStartIdx];
    } else if (oldEndVnode == null) {
      oldEndVnode = oldCh[--oldEndIdx];
    } else if (newStartVnode == null) {
      newStartVnode = newCh[++newStartIdx];
    } else if (newEndVnode == null) {
      newEndVnode = newCh[--newEndIdx];
    } else if (isSameVnode(oldStartVnode, newStartVnode, isInitialRender)) {
      patch(oldStartVnode, newStartVnode, isInitialRender);
      oldStartVnode = oldCh[++oldStartIdx];
      newStartVnode = newCh[++newStartIdx];
    } else if (isSameVnode(oldEndVnode, newEndVnode, isInitialRender)) {
      patch(oldEndVnode, newEndVnode, isInitialRender);
      oldEndVnode = oldCh[--oldEndIdx];
      newEndVnode = newCh[--newEndIdx];
    } else if (isSameVnode(oldStartVnode, newEndVnode, isInitialRender)) {
      if (oldStartVnode.$tag$ === "slot" || newEndVnode.$tag$ === "slot") {
        putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);
      }
      patch(oldStartVnode, newEndVnode, isInitialRender);
      insertBefore(parentElm, oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);
      oldStartVnode = oldCh[++oldStartIdx];
      newEndVnode = newCh[--newEndIdx];
    } else if (isSameVnode(oldEndVnode, newStartVnode, isInitialRender)) {
      if (oldStartVnode.$tag$ === "slot" || newEndVnode.$tag$ === "slot") {
        putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);
      }
      patch(oldEndVnode, newStartVnode, isInitialRender);
      insertBefore(parentElm, oldEndVnode.$elm$, oldStartVnode.$elm$);
      oldEndVnode = oldCh[--oldEndIdx];
      newStartVnode = newCh[++newStartIdx];
    } else {
      idxInOld = -1;
      {
        for (i2 = oldStartIdx; i2 <= oldEndIdx; ++i2) {
          if (oldCh[i2] && oldCh[i2].$key$ !== null && oldCh[i2].$key$ === newStartVnode.$key$) {
            idxInOld = i2;
            break;
          }
        }
      }
      if (idxInOld >= 0) {
        elmToMove = oldCh[idxInOld];
        if (elmToMove.$tag$ !== newStartVnode.$tag$) {
          node = createElm(oldCh && oldCh[newStartIdx], newVNode2, idxInOld, parentElm);
        } else {
          patch(elmToMove, newStartVnode, isInitialRender);
          oldCh[idxInOld] = void 0;
          node = elmToMove.$elm$;
        }
        newStartVnode = newCh[++newStartIdx];
      } else {
        node = createElm(oldCh && oldCh[newStartIdx], newVNode2, newStartIdx, parentElm);
        newStartVnode = newCh[++newStartIdx];
      }
      if (node) {
        {
          insertBefore(parentReferenceNode(oldStartVnode.$elm$), node, referenceNode(oldStartVnode.$elm$));
        }
      }
    }
  }
  if (oldStartIdx > oldEndIdx) {
    addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode2, newCh, newStartIdx, newEndIdx);
  } else if (newStartIdx > newEndIdx) {
    removeVnodes(oldCh, oldStartIdx, oldEndIdx);
  }
};
var isSameVnode = (leftVNode, rightVNode, isInitialRender = false) => {
  if (leftVNode.$tag$ === rightVNode.$tag$) {
    if (leftVNode.$tag$ === "slot") {
      if (
        // The component gets hydrated and no VDOM has been initialized.
        // Here the comparison can't happen as $name$ property is not set for `leftNode`.
        "$nodeId$" in leftVNode && isInitialRender && // `leftNode` is not from type HTMLComment which would cause many
        // hydration comments to be removed
        leftVNode.$elm$.nodeType !== 8
      ) {
        return false;
      }
      return leftVNode.$name$ === rightVNode.$name$;
    }
    if (!isInitialRender) {
      return leftVNode.$key$ === rightVNode.$key$;
    }
    return true;
  }
  return false;
};
var referenceNode = (node) => {
  return node && node["s-ol"] || node;
};
var parentReferenceNode = (node) => (node["s-ol"] ? node["s-ol"] : node).parentNode;
var patch = (oldVNode, newVNode2, isInitialRender = false) => {
  const elm = newVNode2.$elm$ = oldVNode.$elm$;
  const oldChildren = oldVNode.$children$;
  const newChildren = newVNode2.$children$;
  const tag = newVNode2.$tag$;
  const text = newVNode2.$text$;
  let defaultHolder;
  if (text === null) {
    {
      isSvgMode = tag === "svg" ? true : tag === "foreignObject" ? false : isSvgMode;
    }
    {
      if (tag === "slot" && !useNativeShadowDom) {
        if (oldVNode.$name$ !== newVNode2.$name$) {
          newVNode2.$elm$["s-sn"] = newVNode2.$name$ || "";
          relocateToHostRoot(newVNode2.$elm$.parentElement);
        }
      } else {
        updateElement(oldVNode, newVNode2, isSvgMode);
      }
    }
    if (oldChildren !== null && newChildren !== null) {
      updateChildren(elm, oldChildren, newVNode2, newChildren, isInitialRender);
    } else if (newChildren !== null) {
      if (oldVNode.$text$ !== null) {
        elm.textContent = "";
      }
      addVnodes(elm, null, newVNode2, newChildren, 0, newChildren.length - 1);
    } else if (
      // don't do this on initial render as it can cause non-hydrated content to be removed
      !isInitialRender && BUILD.updatable && oldChildren !== null
    ) {
      removeVnodes(oldChildren, 0, oldChildren.length - 1);
    }
    if (isSvgMode && tag === "svg") {
      isSvgMode = false;
    }
  } else if (defaultHolder = elm["s-cr"]) {
    defaultHolder.parentNode.textContent = text;
  } else if (oldVNode.$text$ !== text) {
    elm.data = text;
  }
};
var updateFallbackSlotVisibility = (elm) => {
  const childNodes = elm.childNodes;
  for (const childNode of childNodes) {
    if (childNode.nodeType === 1) {
      if (childNode["s-sr"]) {
        const slotName = childNode["s-sn"];
        childNode.hidden = false;
        for (const siblingNode of childNodes) {
          if (siblingNode !== childNode) {
            if (siblingNode["s-hn"] !== childNode["s-hn"] || slotName !== "") {
              if (siblingNode.nodeType === 1 && (slotName === siblingNode.getAttribute("slot") || slotName === siblingNode["s-sn"]) || siblingNode.nodeType === 3 && slotName === siblingNode["s-sn"]) {
                childNode.hidden = true;
                break;
              }
            } else {
              if (siblingNode.nodeType === 1 || siblingNode.nodeType === 3 && siblingNode.textContent.trim() !== "") {
                childNode.hidden = true;
                break;
              }
            }
          }
        }
      }
      updateFallbackSlotVisibility(childNode);
    }
  }
};
var relocateNodes = [];
var markSlotContentForRelocation = (elm) => {
  let node;
  let hostContentNodes;
  let j;
  for (const childNode of elm.childNodes) {
    if (childNode["s-sr"] && (node = childNode["s-cr"]) && node.parentNode) {
      hostContentNodes = node.parentNode.childNodes;
      const slotName = childNode["s-sn"];
      for (j = hostContentNodes.length - 1; j >= 0; j--) {
        node = hostContentNodes[j];
        if (!node["s-cn"] && !node["s-nr"] && node["s-hn"] !== childNode["s-hn"] && (!node["s-sh"] || node["s-sh"] !== childNode["s-hn"])) {
          if (isNodeLocatedInSlot(node, slotName)) {
            let relocateNodeData = relocateNodes.find((r) => r.$nodeToRelocate$ === node);
            checkSlotFallbackVisibility = true;
            node["s-sn"] = node["s-sn"] || slotName;
            if (relocateNodeData) {
              relocateNodeData.$nodeToRelocate$["s-sh"] = childNode["s-hn"];
              relocateNodeData.$slotRefNode$ = childNode;
            } else {
              node["s-sh"] = childNode["s-hn"];
              relocateNodes.push({
                $slotRefNode$: childNode,
                $nodeToRelocate$: node
              });
            }
            if (node["s-sr"]) {
              relocateNodes.map((relocateNode) => {
                if (isNodeLocatedInSlot(relocateNode.$nodeToRelocate$, node["s-sn"])) {
                  relocateNodeData = relocateNodes.find((r) => r.$nodeToRelocate$ === node);
                  if (relocateNodeData && !relocateNode.$slotRefNode$) {
                    relocateNode.$slotRefNode$ = relocateNodeData.$slotRefNode$;
                  }
                }
              });
            }
          } else if (!relocateNodes.some((r) => r.$nodeToRelocate$ === node)) {
            relocateNodes.push({
              $nodeToRelocate$: node
            });
          }
        }
      }
    }
    if (childNode.nodeType === 1) {
      markSlotContentForRelocation(childNode);
    }
  }
};
var isNodeLocatedInSlot = (nodeToRelocate, slotName) => {
  if (nodeToRelocate.nodeType === 1) {
    if (nodeToRelocate.getAttribute("slot") === null && slotName === "") {
      return true;
    }
    if (nodeToRelocate.getAttribute("slot") === slotName) {
      return true;
    }
    return false;
  }
  if (nodeToRelocate["s-sn"] === slotName) {
    return true;
  }
  return slotName === "";
};
var nullifyVNodeRefs = (vNode) => {
  {
    vNode.$attrs$ && vNode.$attrs$.ref && vNode.$attrs$.ref(null);
    vNode.$children$ && vNode.$children$.map(nullifyVNodeRefs);
  }
};
var insertBefore = (parent, newNode, reference) => {
  const inserted = parent == null ? void 0 : parent.insertBefore(newNode, reference);
  {
    updateElementScopeIds(newNode, parent);
  }
  return inserted;
};
var findScopeIds = (element) => {
  const scopeIds = [];
  if (element) {
    scopeIds.push(...element["s-scs"] || [], element["s-si"], element["s-sc"], ...findScopeIds(element.parentElement));
  }
  return scopeIds;
};
var updateElementScopeIds = (element, parent, iterateChildNodes = false) => {
  var _a;
  if (element && parent && element.nodeType === 1) {
    const scopeIds = new Set(findScopeIds(parent).filter(Boolean));
    if (scopeIds.size) {
      (_a = element.classList) == null ? void 0 : _a.add(...element["s-scs"] = [...scopeIds]);
      if (element["s-ol"] || iterateChildNodes) {
        for (const childNode of Array.from(element.childNodes)) {
          updateElementScopeIds(childNode, element, true);
        }
      }
    }
  }
};
var renderVdom = (hostRef, renderFnResults, isInitialLoad = false) => {
  var _a, _b, _c, _d, _e;
  const hostElm = hostRef.$hostElement$;
  const cmpMeta = hostRef.$cmpMeta$;
  const oldVNode = hostRef.$vnode$ || newVNode(null, null);
  const rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);
  hostTagName = hostElm.tagName;
  if (cmpMeta.$attrsToReflect$) {
    rootVnode.$attrs$ = rootVnode.$attrs$ || {};
    cmpMeta.$attrsToReflect$.map(([propName, attribute]) => rootVnode.$attrs$[attribute] = hostElm[propName]);
  }
  if (isInitialLoad && rootVnode.$attrs$) {
    for (const key of Object.keys(rootVnode.$attrs$)) {
      if (hostElm.hasAttribute(key) && !["key", "ref", "style", "class"].includes(key)) {
        rootVnode.$attrs$[key] = hostElm[key];
      }
    }
  }
  rootVnode.$tag$ = null;
  rootVnode.$flags$ |= 4;
  hostRef.$vnode$ = rootVnode;
  rootVnode.$elm$ = oldVNode.$elm$ = hostElm.shadowRoot || hostElm;
  {
    scopeId = hostElm["s-sc"];
  }
  useNativeShadowDom = (cmpMeta.$flags$ & 1) !== 0;
  {
    contentRef = hostElm["s-cr"];
    checkSlotFallbackVisibility = false;
  }
  patch(oldVNode, rootVnode, isInitialLoad);
  {
    plt.$flags$ |= 1;
    if (checkSlotRelocate) {
      markSlotContentForRelocation(rootVnode.$elm$);
      for (const relocateData of relocateNodes) {
        const nodeToRelocate = relocateData.$nodeToRelocate$;
        if (!nodeToRelocate["s-ol"]) {
          const orgLocationNode = doc.createTextNode("");
          orgLocationNode["s-nr"] = nodeToRelocate;
          insertBefore(nodeToRelocate.parentNode, nodeToRelocate["s-ol"] = orgLocationNode, nodeToRelocate);
        }
      }
      for (const relocateData of relocateNodes) {
        const nodeToRelocate = relocateData.$nodeToRelocate$;
        const slotRefNode = relocateData.$slotRefNode$;
        if (slotRefNode) {
          const parentNodeRef = slotRefNode.parentNode;
          let insertBeforeNode = slotRefNode.nextSibling;
          if (insertBeforeNode && insertBeforeNode.nodeType === 1) {
            let orgLocationNode = (_a = nodeToRelocate["s-ol"]) == null ? void 0 : _a.previousSibling;
            while (orgLocationNode) {
              let refNode = (_b = orgLocationNode["s-nr"]) != null ? _b : null;
              if (refNode && refNode["s-sn"] === nodeToRelocate["s-sn"] && parentNodeRef === refNode.parentNode) {
                refNode = refNode.nextSibling;
                while (refNode === nodeToRelocate || (refNode == null ? void 0 : refNode["s-sr"])) {
                  refNode = refNode == null ? void 0 : refNode.nextSibling;
                }
                if (!refNode || !refNode["s-nr"]) {
                  insertBeforeNode = refNode;
                  break;
                }
              }
              orgLocationNode = orgLocationNode.previousSibling;
            }
          }
          if (!insertBeforeNode && parentNodeRef !== nodeToRelocate.parentNode || nodeToRelocate.nextSibling !== insertBeforeNode) {
            if (nodeToRelocate !== insertBeforeNode) {
              insertBefore(parentNodeRef, nodeToRelocate, insertBeforeNode);
              if (nodeToRelocate.nodeType === 1) {
                nodeToRelocate.hidden = (_c = nodeToRelocate["s-ih"]) != null ? _c : false;
              }
            }
          }
          nodeToRelocate && typeof slotRefNode["s-rf"] === "function" && slotRefNode["s-rf"](nodeToRelocate);
        } else {
          if (nodeToRelocate.nodeType === 1) {
            if (isInitialLoad) {
              nodeToRelocate["s-ih"] = (_d = nodeToRelocate.hidden) != null ? _d : false;
            }
            nodeToRelocate.hidden = true;
          }
        }
      }
    }
    if (checkSlotFallbackVisibility) {
      updateFallbackSlotVisibility(rootVnode.$elm$);
    }
    plt.$flags$ &= ~1;
    relocateNodes.length = 0;
  }
  if (cmpMeta.$flags$ & 2) {
    for (const childNode of rootVnode.$elm$.childNodes) {
      if (childNode["s-hn"] !== hostTagName && !childNode["s-sh"]) {
        if (isInitialLoad && childNode["s-ih"] == null) {
          childNode["s-ih"] = (_e = childNode.hidden) != null ? _e : false;
        }
        childNode.hidden = true;
      }
    }
  }
  contentRef = void 0;
};
var attachToAncestor = (hostRef, ancestorComponent) => {
  if (ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent["s-p"]) {
    ancestorComponent["s-p"].push(new Promise((r) => hostRef.$onRenderResolve$ = r));
  }
};
var scheduleUpdate = (hostRef, isInitialLoad) => {
  {
    hostRef.$flags$ |= 16;
  }
  if (hostRef.$flags$ & 4) {
    hostRef.$flags$ |= 512;
    return;
  }
  attachToAncestor(hostRef, hostRef.$ancestorComponent$);
  const dispatch = () => dispatchHooks(hostRef, isInitialLoad);
  return writeTask(dispatch);
};
var dispatchHooks = (hostRef, isInitialLoad) => {
  const elm = hostRef.$hostElement$;
  const endSchedule = createTime("scheduleUpdate", hostRef.$cmpMeta$.$tagName$);
  const instance = hostRef.$lazyInstance$;
  if (!instance) {
    throw new Error(`Can't render component <${elm.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);
  }
  let maybePromise;
  if (isInitialLoad) {
    {
      hostRef.$flags$ |= 256;
      if (hostRef.$queuedListeners$) {
        hostRef.$queuedListeners$.map(([methodName, event]) => safeCall(instance, methodName, event));
        hostRef.$queuedListeners$ = void 0;
      }
    }
    {
      maybePromise = safeCall(instance, "componentWillLoad");
    }
  }
  {
    maybePromise = enqueue(maybePromise, () => safeCall(instance, "componentWillRender"));
  }
  endSchedule();
  return enqueue(maybePromise, () => updateComponent(hostRef, instance, isInitialLoad));
};
var enqueue = (maybePromise, fn) => isPromisey(maybePromise) ? maybePromise.then(fn).catch((err2) => {
  console.error(err2);
  fn();
}) : fn();
var isPromisey = (maybePromise) => maybePromise instanceof Promise || maybePromise && maybePromise.then && typeof maybePromise.then === "function";
var updateComponent = (hostRef, instance, isInitialLoad) => __async(void 0, null, function* () {
  var _a;
  const elm = hostRef.$hostElement$;
  const endUpdate = createTime("update", hostRef.$cmpMeta$.$tagName$);
  const rc = elm["s-rc"];
  if (isInitialLoad) {
    attachStyles(hostRef);
  }
  const endRender = createTime("render", hostRef.$cmpMeta$.$tagName$);
  {
    callRender(hostRef, instance, elm, isInitialLoad);
  }
  if (rc) {
    rc.map((cb) => cb());
    elm["s-rc"] = void 0;
  }
  endRender();
  endUpdate();
  {
    const childrenPromises = (_a = elm["s-p"]) != null ? _a : [];
    const postUpdate = () => postUpdateComponent(hostRef);
    if (childrenPromises.length === 0) {
      postUpdate();
    } else {
      Promise.all(childrenPromises).then(postUpdate);
      hostRef.$flags$ |= 4;
      childrenPromises.length = 0;
    }
  }
});
var callRender = (hostRef, instance, elm, isInitialLoad) => {
  try {
    instance = instance.render && instance.render();
    {
      hostRef.$flags$ &= ~16;
    }
    {
      hostRef.$flags$ |= 2;
    }
    {
      {
        {
          renderVdom(hostRef, instance, isInitialLoad);
        }
      }
    }
  } catch (e) {
    consoleError(e, hostRef.$hostElement$);
  }
  return null;
};
var postUpdateComponent = (hostRef) => {
  const tagName = hostRef.$cmpMeta$.$tagName$;
  const elm = hostRef.$hostElement$;
  const endPostUpdate = createTime("postUpdate", tagName);
  const instance = hostRef.$lazyInstance$;
  const ancestorComponent = hostRef.$ancestorComponent$;
  {
    safeCall(instance, "componentDidRender");
  }
  if (!(hostRef.$flags$ & 64)) {
    hostRef.$flags$ |= 64;
    {
      addHydratedFlag(elm);
    }
    {
      safeCall(instance, "componentDidLoad");
    }
    endPostUpdate();
    {
      hostRef.$onReadyResolve$(elm);
      if (!ancestorComponent) {
        appDidLoad();
      }
    }
  } else {
    {
      safeCall(instance, "componentDidUpdate");
    }
    endPostUpdate();
  }
  {
    hostRef.$onInstanceResolve$(elm);
  }
  {
    if (hostRef.$onRenderResolve$) {
      hostRef.$onRenderResolve$();
      hostRef.$onRenderResolve$ = void 0;
    }
    if (hostRef.$flags$ & 512) {
      nextTick(() => scheduleUpdate(hostRef, false));
    }
    hostRef.$flags$ &= ~(4 | 512);
  }
};
var forceUpdate = (ref) => {
  {
    const hostRef = getHostRef(ref);
    const isConnected = hostRef.$hostElement$.isConnected;
    if (isConnected && (hostRef.$flags$ & (2 | 16)) === 2) {
      scheduleUpdate(hostRef, false);
    }
    return isConnected;
  }
};
var appDidLoad = (who) => {
  {
    addHydratedFlag(doc.documentElement);
  }
  nextTick(() => emitEvent(win, "appload", {
    detail: {
      namespace: NAMESPACE
    }
  }));
};
var safeCall = (instance, method, arg) => {
  if (instance && instance[method]) {
    try {
      return instance[method](arg);
    } catch (e) {
      consoleError(e);
    }
  }
  return void 0;
};
var addHydratedFlag = (elm) => {
  var _a;
  return elm.classList.add((_a = BUILD.hydratedSelectorName) != null ? _a : "hydrated");
};
var getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);
var setValue = (ref, propName, newVal, cmpMeta) => {
  const hostRef = getHostRef(ref);
  if (!hostRef) {
    throw new Error(`Couldn't find host element for "${cmpMeta.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);
  }
  const elm = hostRef.$hostElement$;
  const oldVal = hostRef.$instanceValues$.get(propName);
  const flags = hostRef.$flags$;
  const instance = hostRef.$lazyInstance$;
  newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);
  const areBothNaN = Number.isNaN(oldVal) && Number.isNaN(newVal);
  const didValueChange = newVal !== oldVal && !areBothNaN;
  if ((!(flags & 8) || oldVal === void 0) && didValueChange) {
    hostRef.$instanceValues$.set(propName, newVal);
    if (instance) {
      if (cmpMeta.$watchers$ && flags & 128) {
        const watchMethods = cmpMeta.$watchers$[propName];
        if (watchMethods) {
          watchMethods.map((watchMethodName) => {
            try {
              instance[watchMethodName](newVal, oldVal, propName);
            } catch (e) {
              consoleError(e, elm);
            }
          });
        }
      }
      if ((flags & (2 | 16)) === 2) {
        scheduleUpdate(hostRef, false);
      }
    }
  }
};
var proxyComponent = (Cstr, cmpMeta, flags) => {
  var _a, _b;
  const prototype = Cstr.prototype;
  if (cmpMeta.$members$ || cmpMeta.$watchers$ || Cstr.watchers) {
    if (Cstr.watchers && !cmpMeta.$watchers$) {
      cmpMeta.$watchers$ = Cstr.watchers;
    }
    const members = Object.entries((_a = cmpMeta.$members$) != null ? _a : {});
    members.map(([memberName, [memberFlags]]) => {
      if (memberFlags & 31 || flags & 2 && memberFlags & 32) {
        Object.defineProperty(prototype, memberName, {
          get() {
            return getValue(this, memberName);
          },
          set(newValue) {
            setValue(this, memberName, newValue, cmpMeta);
          },
          configurable: true,
          enumerable: true
        });
      } else if (flags & 1 && memberFlags & 64) {
        Object.defineProperty(prototype, memberName, {
          value(...args) {
            var _a2;
            const ref = getHostRef(this);
            return (_a2 = ref == null ? void 0 : ref.$onInstancePromise$) == null ? void 0 : _a2.then(() => {
              var _a3;
              return (_a3 = ref.$lazyInstance$) == null ? void 0 : _a3[memberName](...args);
            });
          }
        });
      }
    });
    if (flags & 1) {
      const attrNameToPropName = /* @__PURE__ */ new Map();
      prototype.attributeChangedCallback = function(attrName, oldValue, newValue) {
        plt.jmp(() => {
          var _a2;
          const propName = attrNameToPropName.get(attrName);
          if (this.hasOwnProperty(propName)) {
            newValue = this[propName];
            delete this[propName];
          } else if (prototype.hasOwnProperty(propName) && typeof this[propName] === "number" && // cast type to number to avoid TS compiler issues
          this[propName] == newValue) {
            return;
          } else if (propName == null) {
            const hostRef = getHostRef(this);
            const flags2 = hostRef == null ? void 0 : hostRef.$flags$;
            if (flags2 && !(flags2 & 8) && flags2 & 128 && newValue !== oldValue) {
              const instance = hostRef.$lazyInstance$;
              const entry = (_a2 = cmpMeta.$watchers$) == null ? void 0 : _a2[attrName];
              entry == null ? void 0 : entry.forEach((callbackName) => {
                if (instance[callbackName] != null) {
                  instance[callbackName].call(instance, newValue, oldValue, attrName);
                }
              });
            }
            return;
          }
          this[propName] = newValue === null && typeof this[propName] === "boolean" ? false : newValue;
        });
      };
      Cstr.observedAttributes = Array.from(/* @__PURE__ */ new Set([...Object.keys((_b = cmpMeta.$watchers$) != null ? _b : {}), ...members.filter(
        ([_, m]) => m[0] & 15
        /* HasAttribute */
      ).map(([propName, m]) => {
        var _a2;
        const attrName = m[1] || propName;
        attrNameToPropName.set(attrName, propName);
        if (m[0] & 512) {
          (_a2 = cmpMeta.$attrsToReflect$) == null ? void 0 : _a2.push([propName, attrName]);
        }
        return attrName;
      })]));
    }
  }
  return Cstr;
};
var initializeComponent = (elm, hostRef, cmpMeta, hmrVersionId) => __async(void 0, null, function* () {
  let Cstr;
  if ((hostRef.$flags$ & 32) === 0) {
    hostRef.$flags$ |= 32;
    const bundleId = cmpMeta.$lazyBundleId$;
    if (bundleId) {
      const CstrImport = loadModule(cmpMeta);
      if (CstrImport && "then" in CstrImport) {
        const endLoad = uniqueTime();
        Cstr = yield CstrImport;
        endLoad();
      } else {
        Cstr = CstrImport;
      }
      if (!Cstr) {
        throw new Error(`Constructor for "${cmpMeta.$tagName$}#${hostRef.$modeName$}" was not found`);
      }
      if (!Cstr.isProxied) {
        {
          cmpMeta.$watchers$ = Cstr.watchers;
        }
        proxyComponent(
          Cstr,
          cmpMeta,
          2
          /* proxyState */
        );
        Cstr.isProxied = true;
      }
      const endNewInstance = createTime("createInstance", cmpMeta.$tagName$);
      {
        hostRef.$flags$ |= 8;
      }
      try {
        new Cstr(hostRef);
      } catch (e) {
        consoleError(e);
      }
      {
        hostRef.$flags$ &= ~8;
      }
      {
        hostRef.$flags$ |= 128;
      }
      endNewInstance();
      fireConnectedCallback(hostRef.$lazyInstance$);
    } else {
      Cstr = elm.constructor;
      const cmpTag = elm.localName;
      customElements.whenDefined(cmpTag).then(
        () => hostRef.$flags$ |= 128
        /* isWatchReady */
      );
    }
    if (Cstr && Cstr.style) {
      let style;
      if (typeof Cstr.style === "string") {
        style = Cstr.style;
      } else if (typeof Cstr.style !== "string") {
        hostRef.$modeName$ = computeMode(elm);
        if (hostRef.$modeName$) {
          style = Cstr.style[hostRef.$modeName$];
        }
      }
      const scopeId2 = getScopeId(cmpMeta, hostRef.$modeName$);
      if (!styles.has(scopeId2)) {
        const endRegisterStyles = createTime("registerStyles", cmpMeta.$tagName$);
        registerStyle(scopeId2, style, !!(cmpMeta.$flags$ & 1));
        endRegisterStyles();
      }
    }
  }
  const ancestorComponent = hostRef.$ancestorComponent$;
  const schedule = () => scheduleUpdate(hostRef, true);
  if (ancestorComponent && ancestorComponent["s-rc"]) {
    ancestorComponent["s-rc"].push(schedule);
  } else {
    schedule();
  }
});
var fireConnectedCallback = (instance) => {
  {
    safeCall(instance, "connectedCallback");
  }
};
var connectedCallback = (elm) => {
  if ((plt.$flags$ & 1) === 0) {
    const hostRef = getHostRef(elm);
    const cmpMeta = hostRef.$cmpMeta$;
    const endConnected = createTime("connectedCallback", cmpMeta.$tagName$);
    if (!(hostRef.$flags$ & 1)) {
      hostRef.$flags$ |= 1;
      let hostId;
      {
        hostId = elm.getAttribute(HYDRATE_ID);
        if (hostId) {
          if (cmpMeta.$flags$ & 1) {
            const scopeId2 = addStyle(elm.shadowRoot, cmpMeta, elm.getAttribute("s-mode"));
            elm.classList.remove(scopeId2 + "-h", scopeId2 + "-s");
          }
          initializeClientHydrate(elm, cmpMeta.$tagName$, hostId, hostRef);
        }
      }
      if (!hostId) {
        if (
          // TODO(STENCIL-854): Remove code related to legacy shadowDomShim field
          cmpMeta.$flags$ & (4 | 8)
        ) {
          setContentReference(elm);
        }
      }
      {
        let ancestorComponent = elm;
        while (ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host) {
          if (ancestorComponent.nodeType === 1 && ancestorComponent.hasAttribute("s-id") && ancestorComponent["s-p"] || ancestorComponent["s-p"]) {
            attachToAncestor(hostRef, hostRef.$ancestorComponent$ = ancestorComponent);
            break;
          }
        }
      }
      if (cmpMeta.$members$) {
        Object.entries(cmpMeta.$members$).map(([memberName, [memberFlags]]) => {
          if (memberFlags & 31 && elm.hasOwnProperty(memberName)) {
            const value = elm[memberName];
            delete elm[memberName];
            elm[memberName] = value;
          }
        });
      }
      {
        initializeComponent(elm, hostRef, cmpMeta);
      }
    } else {
      addHostEventListeners(elm, hostRef, cmpMeta.$listeners$);
      if (hostRef == null ? void 0 : hostRef.$lazyInstance$) {
        fireConnectedCallback(hostRef.$lazyInstance$);
      } else if (hostRef == null ? void 0 : hostRef.$onReadyPromise$) {
        hostRef.$onReadyPromise$.then(() => fireConnectedCallback(hostRef.$lazyInstance$));
      }
    }
    endConnected();
  }
};
var setContentReference = (elm) => {
  const contentRefElm = elm["s-cr"] = doc.createComment("");
  contentRefElm["s-cn"] = true;
  insertBefore(elm, contentRefElm, elm.firstChild);
};
var disconnectInstance = (instance) => {
  {
    safeCall(instance, "disconnectedCallback");
  }
};
var disconnectedCallback = (elm) => __async(void 0, null, function* () {
  if ((plt.$flags$ & 1) === 0) {
    const hostRef = getHostRef(elm);
    {
      if (hostRef.$rmListeners$) {
        hostRef.$rmListeners$.map((rmListener) => rmListener());
        hostRef.$rmListeners$ = void 0;
      }
    }
    if (hostRef == null ? void 0 : hostRef.$lazyInstance$) {
      disconnectInstance(hostRef.$lazyInstance$);
    } else if (hostRef == null ? void 0 : hostRef.$onReadyPromise$) {
      hostRef.$onReadyPromise$.then(() => disconnectInstance(hostRef.$lazyInstance$));
    }
  }
});
var patchPseudoShadowDom = (hostElementPrototype, descriptorPrototype) => {
  patchCloneNode(hostElementPrototype);
  patchSlotAppendChild(hostElementPrototype);
  patchSlotAppend(hostElementPrototype);
  patchSlotPrepend(hostElementPrototype);
  patchSlotInsertAdjacentElement(hostElementPrototype);
  patchSlotInsertAdjacentHTML(hostElementPrototype);
  patchSlotInsertAdjacentText(hostElementPrototype);
  patchTextContent(hostElementPrototype);
  patchChildSlotNodes(hostElementPrototype, descriptorPrototype);
  patchSlotRemoveChild(hostElementPrototype);
};
var patchCloneNode = (HostElementPrototype) => {
  const orgCloneNode = HostElementPrototype.cloneNode;
  HostElementPrototype.cloneNode = function(deep) {
    const srcNode = this;
    const isShadowDom = srcNode.shadowRoot && supportsShadow;
    const clonedNode = orgCloneNode.call(srcNode, isShadowDom ? deep : false);
    if (!isShadowDom && deep) {
      let i2 = 0;
      let slotted, nonStencilNode;
      const stencilPrivates = ["s-id", "s-cr", "s-lr", "s-rc", "s-sc", "s-p", "s-cn", "s-sr", "s-sn", "s-hn", "s-ol", "s-nr", "s-si", "s-rf", "s-scs"];
      for (; i2 < srcNode.childNodes.length; i2++) {
        slotted = srcNode.childNodes[i2]["s-nr"];
        nonStencilNode = stencilPrivates.every((privateField) => !srcNode.childNodes[i2][privateField]);
        if (slotted) {
          if (clonedNode.__appendChild) {
            clonedNode.__appendChild(slotted.cloneNode(true));
          } else {
            clonedNode.appendChild(slotted.cloneNode(true));
          }
        }
        if (nonStencilNode) {
          clonedNode.appendChild(srcNode.childNodes[i2].cloneNode(true));
        }
      }
    }
    return clonedNode;
  };
};
var patchSlotAppendChild = (HostElementPrototype) => {
  HostElementPrototype.__appendChild = HostElementPrototype.appendChild;
  HostElementPrototype.appendChild = function(newChild) {
    const slotName = newChild["s-sn"] = getSlotName(newChild);
    const slotNode = getHostSlotNode(this.childNodes, slotName, this.tagName);
    if (slotNode) {
      const slotChildNodes = getHostSlotChildNodes(slotNode, slotName);
      const appendAfter = slotChildNodes[slotChildNodes.length - 1];
      const insertedNode = insertBefore(appendAfter.parentNode, newChild, appendAfter.nextSibling);
      updateFallbackSlotVisibility(this);
      return insertedNode;
    }
    return this.__appendChild(newChild);
  };
};
var patchSlotRemoveChild = (ElementPrototype) => {
  ElementPrototype.__removeChild = ElementPrototype.removeChild;
  ElementPrototype.removeChild = function(toRemove) {
    if (toRemove && typeof toRemove["s-sn"] !== "undefined") {
      const slotNode = getHostSlotNode(this.childNodes, toRemove["s-sn"], this.tagName);
      if (slotNode) {
        const slotChildNodes = getHostSlotChildNodes(slotNode, toRemove["s-sn"]);
        const existingNode = slotChildNodes.find((n) => n === toRemove);
        if (existingNode) {
          existingNode.remove();
          updateFallbackSlotVisibility(this);
          return;
        }
      }
    }
    return this.__removeChild(toRemove);
  };
};
var patchSlotPrepend = (HostElementPrototype) => {
  const originalPrepend = HostElementPrototype.prepend;
  HostElementPrototype.prepend = function(...newChildren) {
    newChildren.forEach((newChild) => {
      if (typeof newChild === "string") {
        newChild = this.ownerDocument.createTextNode(newChild);
      }
      const slotName = newChild["s-sn"] = getSlotName(newChild);
      const slotNode = getHostSlotNode(this.childNodes, slotName, this.tagName);
      if (slotNode) {
        const slotPlaceholder = document.createTextNode("");
        slotPlaceholder["s-nr"] = newChild;
        slotNode["s-cr"].parentNode.__appendChild(slotPlaceholder);
        newChild["s-ol"] = slotPlaceholder;
        const slotChildNodes = getHostSlotChildNodes(slotNode, slotName);
        const appendAfter = slotChildNodes[0];
        return insertBefore(appendAfter.parentNode, newChild, appendAfter.nextSibling);
      }
      if (newChild.nodeType === 1 && !!newChild.getAttribute("slot")) {
        newChild.hidden = true;
      }
      return originalPrepend.call(this, newChild);
    });
  };
};
var patchSlotAppend = (HostElementPrototype) => {
  HostElementPrototype.append = function(...newChildren) {
    newChildren.forEach((newChild) => {
      if (typeof newChild === "string") {
        newChild = this.ownerDocument.createTextNode(newChild);
      }
      this.appendChild(newChild);
    });
  };
};
var patchSlotInsertAdjacentHTML = (HostElementPrototype) => {
  const originalInsertAdjacentHtml = HostElementPrototype.insertAdjacentHTML;
  HostElementPrototype.insertAdjacentHTML = function(position, text) {
    if (position !== "afterbegin" && position !== "beforeend") {
      return originalInsertAdjacentHtml.call(this, position, text);
    }
    const container = this.ownerDocument.createElement("_");
    let node;
    container.innerHTML = text;
    if (position === "afterbegin") {
      while (node = container.firstChild) {
        this.prepend(node);
      }
    } else if (position === "beforeend") {
      while (node = container.firstChild) {
        this.append(node);
      }
    }
  };
};
var patchSlotInsertAdjacentText = (HostElementPrototype) => {
  HostElementPrototype.insertAdjacentText = function(position, text) {
    this.insertAdjacentHTML(position, text);
  };
};
var patchSlotInsertAdjacentElement = (HostElementPrototype) => {
  const originalInsertAdjacentElement = HostElementPrototype.insertAdjacentElement;
  HostElementPrototype.insertAdjacentElement = function(position, element) {
    if (position !== "afterbegin" && position !== "beforeend") {
      return originalInsertAdjacentElement.call(this, position, element);
    }
    if (position === "afterbegin") {
      this.prepend(element);
      return element;
    } else if (position === "beforeend") {
      this.append(element);
      return element;
    }
    return element;
  };
};
var patchTextContent = (hostElementPrototype) => {
  const descriptor = Object.getOwnPropertyDescriptor(Node.prototype, "textContent");
  Object.defineProperty(hostElementPrototype, "__textContent", descriptor);
  {
    Object.defineProperty(hostElementPrototype, "textContent", {
      // To mimic shadow root behavior, we need to return the text content of all
      // nodes in a slot reference node
      get() {
        const slotRefNodes = getAllChildSlotNodes(this.childNodes);
        const textContent = slotRefNodes.map((node) => {
          var _a, _b;
          const text = [];
          let slotContent = node.nextSibling;
          while (slotContent && slotContent["s-sn"] === node["s-sn"]) {
            if (slotContent.nodeType === 3 || slotContent.nodeType === 1) {
              text.push((_b = (_a = slotContent.textContent) == null ? void 0 : _a.trim()) != null ? _b : "");
            }
            slotContent = slotContent.nextSibling;
          }
          return text.filter((ref) => ref !== "").join(" ");
        }).filter((text) => text !== "").join(" ");
        return " " + textContent + " ";
      },
      // To mimic shadow root behavior, we need to overwrite all nodes in a slot
      // reference node. If a default slot reference node exists, the text content will be
      // placed there. Otherwise, the new text node will be hidden
      set(value) {
        const slotRefNodes = getAllChildSlotNodes(this.childNodes);
        slotRefNodes.forEach((node) => {
          let slotContent = node.nextSibling;
          while (slotContent && slotContent["s-sn"] === node["s-sn"]) {
            const tmp = slotContent;
            slotContent = slotContent.nextSibling;
            tmp.remove();
          }
          if (node["s-sn"] === "") {
            const textNode = this.ownerDocument.createTextNode(value);
            textNode["s-sn"] = "";
            insertBefore(node.parentElement, textNode, node.nextSibling);
          } else {
            node.remove();
          }
        });
      }
    });
  }
};
var patchChildSlotNodes = (elm, cmpMeta) => {
  class FakeNodeList extends Array {
    item(n) {
      return this[n];
    }
  }
  if (cmpMeta.$flags$ & 8) {
    const childNodesFn = elm.__lookupGetter__("childNodes");
    Object.defineProperty(elm, "children", {
      get() {
        return this.childNodes.map((n) => n.nodeType === 1);
      }
    });
    Object.defineProperty(elm, "childElementCount", {
      get() {
        return elm.children.length;
      }
    });
    Object.defineProperty(elm, "childNodes", {
      get() {
        const childNodes = childNodesFn.call(this);
        if ((plt.$flags$ & 1) === 0 && getHostRef(this).$flags$ & 2) {
          const result = new FakeNodeList();
          for (let i2 = 0; i2 < childNodes.length; i2++) {
            const slot = childNodes[i2]["s-nr"];
            if (slot) {
              result.push(slot);
            }
          }
          return result;
        }
        return FakeNodeList.from(childNodes);
      }
    });
  }
};
var getAllChildSlotNodes = (childNodes) => {
  const slotRefNodes = [];
  for (const childNode of Array.from(childNodes)) {
    if (childNode["s-sr"]) {
      slotRefNodes.push(childNode);
    }
    slotRefNodes.push(...getAllChildSlotNodes(childNode.childNodes));
  }
  return slotRefNodes;
};
var getSlotName = (node) => node["s-sn"] || node.nodeType === 1 && node.getAttribute("slot") || "";
var getHostSlotNode = (childNodes, slotName, hostName) => {
  let i2 = 0;
  let childNode;
  for (; i2 < childNodes.length; i2++) {
    childNode = childNodes[i2];
    if (childNode["s-sr"] && childNode["s-sn"] === slotName && childNode["s-hn"] === hostName) {
      return childNode;
    }
    childNode = getHostSlotNode(childNode.childNodes, slotName, hostName);
    if (childNode) {
      return childNode;
    }
  }
  return null;
};
var getHostSlotChildNodes = (n, slotName) => {
  const childNodes = [n];
  while ((n = n.nextSibling) && n["s-sn"] === slotName) {
    childNodes.push(n);
  }
  return childNodes;
};
var bootstrapLazy = (lazyBundles, options = {}) => {
  var _a;
  const endBootstrap = createTime();
  const cmpTags = [];
  const exclude = options.exclude || [];
  const customElements2 = win.customElements;
  const head = doc.head;
  const metaCharset = /* @__PURE__ */ head.querySelector("meta[charset]");
  const dataStyles = /* @__PURE__ */ doc.createElement("style");
  const deferredConnectedCallbacks = [];
  let appLoadFallback;
  let isBootstrapping = true;
  Object.assign(plt, options);
  plt.$resourcesUrl$ = new URL(options.resourcesUrl || "./", doc.baseURI).href;
  {
    plt.$flags$ |= 2;
  }
  let hasSlotRelocation = false;
  lazyBundles.map((lazyBundle) => {
    lazyBundle[1].map((compactMeta) => {
      var _a2;
      const cmpMeta = {
        $flags$: compactMeta[0],
        $tagName$: compactMeta[1],
        $members$: compactMeta[2],
        $listeners$: compactMeta[3]
      };
      if (cmpMeta.$flags$ & 4) {
        hasSlotRelocation = true;
      }
      {
        cmpMeta.$members$ = compactMeta[2];
      }
      {
        cmpMeta.$listeners$ = compactMeta[3];
      }
      {
        cmpMeta.$attrsToReflect$ = [];
      }
      {
        cmpMeta.$watchers$ = (_a2 = compactMeta[4]) != null ? _a2 : {};
      }
      const tagName = cmpMeta.$tagName$;
      const HostElement = class extends HTMLElement {
        // StencilLazyHost
        constructor(self) {
          super(self);
          this.hasRegisteredEventListeners = false;
          self = this;
          registerHost(self, cmpMeta);
          if (cmpMeta.$flags$ & 1) {
            {
              if (!self.shadowRoot) {
                {
                  self.attachShadow({
                    mode: "open",
                    delegatesFocus: !!(cmpMeta.$flags$ & 16)
                  });
                }
              } else {
                if (self.shadowRoot.mode !== "open") {
                  throw new Error(`Unable to re-use existing shadow root for ${cmpMeta.$tagName$}! Mode is set to ${self.shadowRoot.mode} but Stencil only supports open shadow roots.`);
                }
              }
            }
          }
        }
        connectedCallback() {
          const hostRef = getHostRef(this);
          if (!this.hasRegisteredEventListeners) {
            this.hasRegisteredEventListeners = true;
            addHostEventListeners(this, hostRef, cmpMeta.$listeners$);
          }
          if (appLoadFallback) {
            clearTimeout(appLoadFallback);
            appLoadFallback = null;
          }
          if (isBootstrapping) {
            deferredConnectedCallbacks.push(this);
          } else {
            plt.jmp(() => connectedCallback(this));
          }
        }
        disconnectedCallback() {
          plt.jmp(() => disconnectedCallback(this));
        }
        componentOnReady() {
          return getHostRef(this).$onReadyPromise$;
        }
      };
      {
        if (cmpMeta.$flags$ & 2) {
          patchPseudoShadowDom(HostElement.prototype, cmpMeta);
        }
      }
      cmpMeta.$lazyBundleId$ = lazyBundle[0];
      if (!exclude.includes(tagName) && !customElements2.get(tagName)) {
        cmpTags.push(tagName);
        customElements2.define(tagName, proxyComponent(
          HostElement,
          cmpMeta,
          1
          /* isElementConstructor */
        ));
      }
    });
  });
  if (cmpTags.length > 0) {
    if (hasSlotRelocation) {
      dataStyles.textContent += SLOT_FB_CSS;
    }
    {
      dataStyles.textContent += cmpTags.sort() + HYDRATED_CSS;
    }
    if (dataStyles.innerHTML.length) {
      dataStyles.setAttribute("data-styles", "");
      const nonce = (_a = plt.$nonce$) != null ? _a : queryNonceMetaTagContent(doc);
      if (nonce != null) {
        dataStyles.setAttribute("nonce", nonce);
      }
      head.insertBefore(dataStyles, metaCharset ? metaCharset.nextSibling : head.firstChild);
    }
  }
  isBootstrapping = false;
  if (deferredConnectedCallbacks.length) {
    deferredConnectedCallbacks.map((host) => host.connectedCallback());
  } else {
    {
      plt.jmp(() => appLoadFallback = setTimeout(appDidLoad, 30));
    }
  }
  endBootstrap();
};
var addHostEventListeners = (elm, hostRef, listeners, attachParentListeners) => {
  if (listeners) {
    listeners.map(([flags, name, method]) => {
      const target = getHostListenerTarget(elm, flags);
      const handler = hostListenerProxy(hostRef, method);
      const opts = hostListenerOpts(flags);
      plt.ael(target, name, handler, opts);
      (hostRef.$rmListeners$ = hostRef.$rmListeners$ || []).push(() => plt.rel(target, name, handler, opts));
    });
  }
};
var hostListenerProxy = (hostRef, methodName) => (ev) => {
  var _a;
  try {
    {
      if (hostRef.$flags$ & 256) {
        (_a = hostRef.$lazyInstance$) == null ? void 0 : _a[methodName](ev);
      } else {
        (hostRef.$queuedListeners$ = hostRef.$queuedListeners$ || []).push([methodName, ev]);
      }
    }
  } catch (e) {
    consoleError(e);
  }
};
var getHostListenerTarget = (elm, flags) => {
  if (flags & 4) return doc;
  if (flags & 8) return win;
  if (flags & 16) return doc.body;
  return elm;
};
var hostListenerOpts = (flags) => supportsListenerOptions ? {
  passive: (flags & 1) !== 0,
  capture: (flags & 2) !== 0
} : (flags & 2) !== 0;

export {
  Build,
  registerInstance,
  readTask,
  writeTask,
  getAssetPath,
  h,
  Host,
  setMode,
  getMode,
  getElement,
  createEvent,
  forceUpdate,
  bootstrapLazy
};
/*! Bundled license information:

@ionic/core/dist/esm/index-527b9e34.js:
  (*!
   * (C) Ionic http://ionicframework.com - MIT License
   *)
  (*!__STENCIL_STATIC_IMPORT_SWITCH__*)
*/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pbmRleC01MjdiOWUzNC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuY29uc3QgTkFNRVNQQUNFID0gJ2lvbmljJztcbmNvbnN0IEJVSUxEID0gLyogaW9uaWMgKi97XG4gIGFsbFJlbmRlckZuOiBmYWxzZSxcbiAgYXBwZW5kQ2hpbGRTbG90Rml4OiB0cnVlLFxuICBhc3luY0xvYWRpbmc6IHRydWUsXG4gIGFzeW5jUXVldWU6IGZhbHNlLFxuICBhdHRhY2hTdHlsZXM6IHRydWUsXG4gIGNsb25lTm9kZUZpeDogdHJ1ZSxcbiAgY21wRGlkTG9hZDogdHJ1ZSxcbiAgY21wRGlkUmVuZGVyOiB0cnVlLFxuICBjbXBEaWRVbmxvYWQ6IGZhbHNlLFxuICBjbXBEaWRVcGRhdGU6IHRydWUsXG4gIGNtcFNob3VsZFVwZGF0ZTogZmFsc2UsXG4gIGNtcFdpbGxMb2FkOiB0cnVlLFxuICBjbXBXaWxsUmVuZGVyOiB0cnVlLFxuICBjbXBXaWxsVXBkYXRlOiBmYWxzZSxcbiAgY29ubmVjdGVkQ2FsbGJhY2s6IHRydWUsXG4gIGNvbnN0cnVjdGFibGVDU1M6IHRydWUsXG4gIGNzc0Fubm90YXRpb25zOiB0cnVlLFxuICBkZXZUb29sczogZmFsc2UsXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrOiB0cnVlLFxuICBlbGVtZW50OiBmYWxzZSxcbiAgZXZlbnQ6IHRydWUsXG4gIGV4cGVyaW1lbnRhbFNjb3BlZFNsb3RDaGFuZ2VzOiB0cnVlLFxuICBleHBlcmltZW50YWxTbG90Rml4ZXM6IHRydWUsXG4gIGZvcm1Bc3NvY2lhdGVkOiBmYWxzZSxcbiAgaGFzUmVuZGVyRm46IHRydWUsXG4gIGhvc3RMaXN0ZW5lcjogdHJ1ZSxcbiAgaG9zdExpc3RlbmVyVGFyZ2V0OiB0cnVlLFxuICBob3N0TGlzdGVuZXJUYXJnZXRCb2R5OiB0cnVlLFxuICBob3N0TGlzdGVuZXJUYXJnZXREb2N1bWVudDogdHJ1ZSxcbiAgaG9zdExpc3RlbmVyVGFyZ2V0UGFyZW50OiBmYWxzZSxcbiAgaG9zdExpc3RlbmVyVGFyZ2V0V2luZG93OiB0cnVlLFxuICBob3RNb2R1bGVSZXBsYWNlbWVudDogZmFsc2UsXG4gIGh5ZHJhdGVDbGllbnRTaWRlOiB0cnVlLFxuICBoeWRyYXRlU2VydmVyU2lkZTogZmFsc2UsXG4gIGh5ZHJhdGVkQXR0cmlidXRlOiBmYWxzZSxcbiAgaHlkcmF0ZWRDbGFzczogdHJ1ZSxcbiAgaHlkcmF0ZWRTZWxlY3Rvck5hbWU6IFwiaHlkcmF0ZWRcIixcbiAgaW5pdGlhbGl6ZU5leHRUaWNrOiBmYWxzZSxcbiAgaW52aXNpYmxlUHJlaHlkcmF0aW9uOiB0cnVlLFxuICBpc0RlYnVnOiBmYWxzZSxcbiAgaXNEZXY6IGZhbHNlLFxuICBpc1Rlc3Rpbmc6IGZhbHNlLFxuICBsYXp5TG9hZDogdHJ1ZSxcbiAgbGlmZWN5Y2xlOiB0cnVlLFxuICBsaWZlY3ljbGVET01FdmVudHM6IGZhbHNlLFxuICBtZW1iZXI6IHRydWUsXG4gIG1ldGhvZDogdHJ1ZSxcbiAgbW9kZTogdHJ1ZSxcbiAgb2JzZXJ2ZUF0dHJpYnV0ZTogdHJ1ZSxcbiAgcHJvZmlsZTogZmFsc2UsXG4gIHByb3A6IHRydWUsXG4gIHByb3BCb29sZWFuOiB0cnVlLFxuICBwcm9wTXV0YWJsZTogdHJ1ZSxcbiAgcHJvcE51bWJlcjogdHJ1ZSxcbiAgcHJvcFN0cmluZzogdHJ1ZSxcbiAgcmVmbGVjdDogdHJ1ZSxcbiAgc2NvcGVkOiB0cnVlLFxuICBzY29wZWRTbG90VGV4dENvbnRlbnRGaXg6IHRydWUsXG4gIHNjcmlwdERhdGFPcHRzOiBmYWxzZSxcbiAgc2hhZG93RGVsZWdhdGVzRm9jdXM6IHRydWUsXG4gIHNoYWRvd0RvbTogdHJ1ZSxcbiAgc2xvdDogdHJ1ZSxcbiAgc2xvdENoaWxkTm9kZXNGaXg6IHRydWUsXG4gIHNsb3RSZWxvY2F0aW9uOiB0cnVlLFxuICBzdGF0ZTogdHJ1ZSxcbiAgc3R5bGU6IHRydWUsXG4gIHN2ZzogdHJ1ZSxcbiAgdGFza1F1ZXVlOiB0cnVlLFxuICB0cmFuc2Zvcm1UYWdOYW1lOiBmYWxzZSxcbiAgdXBkYXRhYmxlOiB0cnVlLFxuICB2ZG9tQXR0cmlidXRlOiB0cnVlLFxuICB2ZG9tQ2xhc3M6IHRydWUsXG4gIHZkb21GdW5jdGlvbmFsOiB0cnVlLFxuICB2ZG9tS2V5OiB0cnVlLFxuICB2ZG9tTGlzdGVuZXI6IHRydWUsXG4gIHZkb21Qcm9wT3JBdHRyOiB0cnVlLFxuICB2ZG9tUmVmOiB0cnVlLFxuICB2ZG9tUmVuZGVyOiB0cnVlLFxuICB2ZG9tU3R5bGU6IHRydWUsXG4gIHZkb21UZXh0OiB0cnVlLFxuICB2ZG9tWGxpbms6IHRydWUsXG4gIHdhdGNoQ2FsbGJhY2s6IHRydWVcbn07XG5cbi8qXG4gU3RlbmNpbCBDbGllbnQgUGxhdGZvcm0gdjQuMjAuMCB8IE1JVCBMaWNlbnNlZCB8IGh0dHBzOi8vc3RlbmNpbGpzLmNvbVxuICovXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKSBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7XG4gICAgZ2V0OiBhbGxbbmFtZV0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxuICB9KTtcbn07XG52YXIgQnVpbGQgPSB7XG4gIGlzRGV2OiBmYWxzZSxcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBpc1NlcnZlcjogZmFsc2UsXG4gIGlzVGVzdGluZzogZmFsc2Vcbn07XG52YXIgaG9zdFJlZnMgPSAvKiBAX19QVVJFX18gKi9uZXcgV2Vha01hcCgpO1xudmFyIGdldEhvc3RSZWYgPSByZWYgPT4gaG9zdFJlZnMuZ2V0KHJlZik7XG52YXIgcmVnaXN0ZXJJbnN0YW5jZSA9IChsYXp5SW5zdGFuY2UsIGhvc3RSZWYpID0+IGhvc3RSZWZzLnNldChob3N0UmVmLiRsYXp5SW5zdGFuY2UkID0gbGF6eUluc3RhbmNlLCBob3N0UmVmKTtcbnZhciByZWdpc3Rlckhvc3QgPSAoaG9zdEVsZW1lbnQsIGNtcE1ldGEpID0+IHtcbiAgY29uc3QgaG9zdFJlZiA9IHtcbiAgICAkZmxhZ3MkOiAwLFxuICAgICRob3N0RWxlbWVudCQ6IGhvc3RFbGVtZW50LFxuICAgICRjbXBNZXRhJDogY21wTWV0YSxcbiAgICAkaW5zdGFuY2VWYWx1ZXMkOiAvKiBAX19QVVJFX18gKi9uZXcgTWFwKClcbiAgfTtcbiAge1xuICAgIGhvc3RSZWYuJG9uSW5zdGFuY2VQcm9taXNlJCA9IG5ldyBQcm9taXNlKHIgPT4gaG9zdFJlZi4kb25JbnN0YW5jZVJlc29sdmUkID0gcik7XG4gIH1cbiAge1xuICAgIGhvc3RSZWYuJG9uUmVhZHlQcm9taXNlJCA9IG5ldyBQcm9taXNlKHIgPT4gaG9zdFJlZi4kb25SZWFkeVJlc29sdmUkID0gcik7XG4gICAgaG9zdEVsZW1lbnRbXCJzLXBcIl0gPSBbXTtcbiAgICBob3N0RWxlbWVudFtcInMtcmNcIl0gPSBbXTtcbiAgfVxuICByZXR1cm4gaG9zdFJlZnMuc2V0KGhvc3RFbGVtZW50LCBob3N0UmVmKTtcbn07XG52YXIgaXNNZW1iZXJJbkVsZW1lbnQgPSAoZWxtLCBtZW1iZXJOYW1lKSA9PiBtZW1iZXJOYW1lIGluIGVsbTtcbnZhciBjb25zb2xlRXJyb3IgPSAoZSwgZWwpID0+ICgwLCBjb25zb2xlLmVycm9yKShlLCBlbCk7XG5cbi8vIHNyYy9jbGllbnQvY2xpZW50LWxvYWQtbW9kdWxlLnRzXG52YXIgY21wTW9kdWxlcyA9IC8qIEBfX1BVUkVfXyAqL25ldyBNYXAoKTtcbnZhciBsb2FkTW9kdWxlID0gKGNtcE1ldGEsIGhvc3RSZWYsIGhtclZlcnNpb25JZCkgPT4ge1xuICBjb25zdCBleHBvcnROYW1lID0gY21wTWV0YS4kdGFnTmFtZSQucmVwbGFjZSgvLS9nLCBcIl9cIik7XG4gIGNvbnN0IGJ1bmRsZUlkID0gY21wTWV0YS4kbGF6eUJ1bmRsZUlkJDtcbiAgaWYgKCFidW5kbGVJZCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgbW9kdWxlID0gY21wTW9kdWxlcy5nZXQoYnVuZGxlSWQpO1xuICBpZiAobW9kdWxlKSB7XG4gICAgcmV0dXJuIG1vZHVsZVtleHBvcnROYW1lXTtcbiAgfVxuICAvKiFfX1NURU5DSUxfU1RBVElDX0lNUE9SVF9TV0lUQ0hfXyovXG4gIHJldHVybiBpbXBvcnQoLyogQHZpdGUtaWdub3JlICovXG4gIC8qIHdlYnBhY2tJbmNsdWRlOiAvXFwuZW50cnlcXC5qcyQvICovXG4gIC8qIHdlYnBhY2tFeGNsdWRlOiAvXFwuc3lzdGVtXFwuZW50cnlcXC5qcyQvICovXG4gIC8qIHdlYnBhY2tNb2RlOiBcImxhenlcIiAqL1xuICBgLi8ke2J1bmRsZUlkfS5lbnRyeS5qcyR7XCJcIn1gKS50aGVuKGltcG9ydGVkTW9kdWxlID0+IHtcbiAgICB7XG4gICAgICBjbXBNb2R1bGVzLnNldChidW5kbGVJZCwgaW1wb3J0ZWRNb2R1bGUpO1xuICAgIH1cbiAgICByZXR1cm4gaW1wb3J0ZWRNb2R1bGVbZXhwb3J0TmFtZV07XG4gIH0sIGNvbnNvbGVFcnJvcik7XG59O1xuXG4vLyBzcmMvY2xpZW50L2NsaWVudC1zdHlsZS50c1xudmFyIHN0eWxlcyA9IC8qIEBfX1BVUkVfXyAqL25ldyBNYXAoKTtcbnZhciBtb2RlUmVzb2x1dGlvbkNoYWluID0gW107XG5cbi8vIHNyYy9ydW50aW1lL3J1bnRpbWUtY29uc3RhbnRzLnRzXG52YXIgQ09OVEVOVF9SRUZfSUQgPSBcInJcIjtcbnZhciBPUkdfTE9DQVRJT05fSUQgPSBcIm9cIjtcbnZhciBTTE9UX05PREVfSUQgPSBcInNcIjtcbnZhciBURVhUX05PREVfSUQgPSBcInRcIjtcbnZhciBIWURSQVRFX0lEID0gXCJzLWlkXCI7XG52YXIgSFlEUkFURURfU1RZTEVfSUQgPSBcInN0eS1pZFwiO1xudmFyIEhZRFJBVEVfQ0hJTERfSUQgPSBcImMtaWRcIjtcbnZhciBIWURSQVRFRF9DU1MgPSBcInt2aXNpYmlsaXR5OmhpZGRlbn0uaHlkcmF0ZWR7dmlzaWJpbGl0eTppbmhlcml0fVwiO1xudmFyIFNMT1RfRkJfQ1NTID0gXCJzbG90LWZie2Rpc3BsYXk6Y29udGVudHN9c2xvdC1mYltoaWRkZW5de2Rpc3BsYXk6bm9uZX1cIjtcbnZhciBYTElOS19OUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xudmFyIHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fTtcbnZhciBkb2MgPSB3aW4uZG9jdW1lbnQgfHwge1xuICBoZWFkOiB7fVxufTtcbnZhciBIID0gd2luLkhUTUxFbGVtZW50IHx8IGNsYXNzIHt9O1xudmFyIHBsdCA9IHtcbiAgJGZsYWdzJDogMCxcbiAgJHJlc291cmNlc1VybCQ6IFwiXCIsXG4gIGptcDogaDIgPT4gaDIoKSxcbiAgcmFmOiBoMiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaDIpLFxuICBhZWw6IChlbCwgZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cykgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSxcbiAgcmVsOiAoZWwsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cyksXG4gIGNlOiAoZXZlbnROYW1lLCBvcHRzKSA9PiBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCBvcHRzKVxufTtcbnZhciBzdXBwb3J0c1NoYWRvdyA9IEJVSUxELnNoYWRvd0RvbTtcbnZhciBzdXBwb3J0c0xpc3RlbmVyT3B0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLygoKSA9PiB7XG4gIGxldCBzdXBwb3J0c0xpc3RlbmVyT3B0aW9uczIgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImVcIiwgbnVsbCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBzdXBwb3J0c0xpc3RlbmVyT3B0aW9uczIgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSBjYXRjaCAoZSkge31cbiAgcmV0dXJuIHN1cHBvcnRzTGlzdGVuZXJPcHRpb25zMjtcbn0pKCk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSB2ID0+IFByb21pc2UucmVzb2x2ZSh2KTtcbnZhciBzdXBwb3J0c0NvbnN0cnVjdGFibGVTdHlsZXNoZWV0cyA9IC8qIEBfX1BVUkVfXyAqLygoKSA9PiB7XG4gIHRyeSB7XG4gICAgbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICByZXR1cm4gdHlwZW9mIG5ldyBDU1NTdHlsZVNoZWV0KCkucmVwbGFjZVN5bmMgPT09IFwiZnVuY3Rpb25cIjtcbiAgfSBjYXRjaCAoZSkge31cbiAgcmV0dXJuIGZhbHNlO1xufSkoKTtcbnZhciBxdWV1ZVBlbmRpbmcgPSBmYWxzZTtcbnZhciBxdWV1ZURvbVJlYWRzID0gW107XG52YXIgcXVldWVEb21Xcml0ZXMgPSBbXTtcbnZhciBxdWV1ZVRhc2sgPSAocXVldWUsIHdyaXRlKSA9PiBjYiA9PiB7XG4gIHF1ZXVlLnB1c2goY2IpO1xuICBpZiAoIXF1ZXVlUGVuZGluZykge1xuICAgIHF1ZXVlUGVuZGluZyA9IHRydWU7XG4gICAgaWYgKHdyaXRlICYmIHBsdC4kZmxhZ3MkICYgNCAvKiBxdWV1ZVN5bmMgKi8pIHtcbiAgICAgIG5leHRUaWNrKGZsdXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGx0LnJhZihmbHVzaCk7XG4gICAgfVxuICB9XG59O1xudmFyIGNvbnN1bWUgPSBxdWV1ZSA9PiB7XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCBxdWV1ZS5sZW5ndGg7IGkyKyspIHtcbiAgICB0cnkge1xuICAgICAgcXVldWVbaTJdKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIHF1ZXVlLmxlbmd0aCA9IDA7XG59O1xudmFyIGZsdXNoID0gKCkgPT4ge1xuICBjb25zdW1lKHF1ZXVlRG9tUmVhZHMpO1xuICB7XG4gICAgY29uc3VtZShxdWV1ZURvbVdyaXRlcyk7XG4gICAgaWYgKHF1ZXVlUGVuZGluZyA9IHF1ZXVlRG9tUmVhZHMubGVuZ3RoID4gMCkge1xuICAgICAgcGx0LnJhZihmbHVzaCk7XG4gICAgfVxuICB9XG59O1xudmFyIG5leHRUaWNrID0gY2IgPT4gcHJvbWlzZVJlc29sdmUoKS50aGVuKGNiKTtcbnZhciByZWFkVGFzayA9IC8qIEBfX1BVUkVfXyAqL3F1ZXVlVGFzayhxdWV1ZURvbVJlYWRzLCBmYWxzZSk7XG52YXIgd3JpdGVUYXNrID0gLyogQF9fUFVSRV9fICovcXVldWVUYXNrKHF1ZXVlRG9tV3JpdGVzLCB0cnVlKTtcblxuLy8gc3JjL3J1bnRpbWUvYXNzZXQtcGF0aC50c1xudmFyIGdldEFzc2V0UGF0aCA9IHBhdGggPT4ge1xuICBjb25zdCBhc3NldFVybCA9IG5ldyBVUkwocGF0aCwgcGx0LiRyZXNvdXJjZXNVcmwkKTtcbiAgcmV0dXJuIGFzc2V0VXJsLm9yaWdpbiAhPT0gd2luLmxvY2F0aW9uLm9yaWdpbiA/IGFzc2V0VXJsLmhyZWYgOiBhc3NldFVybC5wYXRobmFtZTtcbn07XG5cbi8vIHNyYy91dGlscy9jb25zdGFudHMudHNcbnZhciBFTVBUWV9PQkogPSB7fTtcbnZhciBTVkdfTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG52YXIgSFRNTF9OUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG4vLyBzcmMvdXRpbHMvaGVscGVycy50c1xudmFyIGlzRGVmID0gdiA9PiB2ICE9IG51bGw7XG52YXIgaXNDb21wbGV4VHlwZSA9IG8gPT4ge1xuICBvID0gdHlwZW9mIG87XG4gIHJldHVybiBvID09PSBcIm9iamVjdFwiIHx8IG8gPT09IFwiZnVuY3Rpb25cIjtcbn07XG5cbi8vIHNyYy91dGlscy9xdWVyeS1ub25jZS1tZXRhLXRhZy1jb250ZW50LnRzXG5mdW5jdGlvbiBxdWVyeU5vbmNlTWV0YVRhZ0NvbnRlbnQoZG9jMikge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9IGRvYzIuaGVhZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImNzcC1ub25jZVwiXScpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKSkgIT0gbnVsbCA/IF9jIDogdm9pZCAwO1xufVxuXG4vLyBzcmMvdXRpbHMvcmVzdWx0LnRzXG52YXIgcmVzdWx0X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHJlc3VsdF9leHBvcnRzLCB7XG4gIGVycjogKCkgPT4gZXJyLFxuICBtYXA6ICgpID0+IG1hcCxcbiAgb2s6ICgpID0+IG9rLFxuICB1bndyYXA6ICgpID0+IHVud3JhcCxcbiAgdW53cmFwRXJyOiAoKSA9PiB1bndyYXBFcnJcbn0pO1xudmFyIG9rID0gdmFsdWUgPT4gKHtcbiAgaXNPazogdHJ1ZSxcbiAgaXNFcnI6IGZhbHNlLFxuICB2YWx1ZVxufSk7XG52YXIgZXJyID0gdmFsdWUgPT4gKHtcbiAgaXNPazogZmFsc2UsXG4gIGlzRXJyOiB0cnVlLFxuICB2YWx1ZVxufSk7XG5mdW5jdGlvbiBtYXAocmVzdWx0LCBmbikge1xuICBpZiAocmVzdWx0LmlzT2spIHtcbiAgICBjb25zdCB2YWwgPSBmbihyZXN1bHQudmFsdWUpO1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdmFsLnRoZW4obmV3VmFsID0+IG9rKG5ld1ZhbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2sodmFsKTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlc3VsdC5pc0Vycikge1xuICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgIHJldHVybiBlcnIodmFsdWUpO1xuICB9XG4gIHRocm93IFwic2hvdWxkIG5ldmVyIGdldCBoZXJlXCI7XG59XG52YXIgdW53cmFwID0gcmVzdWx0ID0+IHtcbiAgaWYgKHJlc3VsdC5pc09rKSB7XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyByZXN1bHQudmFsdWU7XG4gIH1cbn07XG52YXIgdW53cmFwRXJyID0gcmVzdWx0ID0+IHtcbiAgaWYgKHJlc3VsdC5pc0Vycikge1xuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgcmVzdWx0LnZhbHVlO1xuICB9XG59O1xudmFyIGNyZWF0ZVRpbWUgPSAoZm5OYW1lLCB0YWdOYW1lID0gXCJcIikgPT4ge1xuICB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJldHVybjtcbiAgICB9O1xuICB9XG59O1xudmFyIHVuaXF1ZVRpbWUgPSAoa2V5LCBtZWFzdXJlVGV4dCkgPT4ge1xuICB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJldHVybjtcbiAgICB9O1xuICB9XG59O1xudmFyIGggPSAobm9kZU5hbWUsIHZub2RlRGF0YSwgLi4uY2hpbGRyZW4pID0+IHtcbiAgbGV0IGNoaWxkID0gbnVsbDtcbiAgbGV0IGtleSA9IG51bGw7XG4gIGxldCBzbG90TmFtZSA9IG51bGw7XG4gIGxldCBzaW1wbGUgPSBmYWxzZTtcbiAgbGV0IGxhc3RTaW1wbGUgPSBmYWxzZTtcbiAgY29uc3Qgdk5vZGVDaGlsZHJlbiA9IFtdO1xuICBjb25zdCB3YWxrID0gYyA9PiB7XG4gICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGMubGVuZ3RoOyBpMisrKSB7XG4gICAgICBjaGlsZCA9IGNbaTJdO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgIHdhbGsoY2hpbGQpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZCAhPSBudWxsICYmIHR5cGVvZiBjaGlsZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgaWYgKHNpbXBsZSA9IHR5cGVvZiBub2RlTmFtZSAhPT0gXCJmdW5jdGlvblwiICYmICFpc0NvbXBsZXhUeXBlKGNoaWxkKSkge1xuICAgICAgICAgIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcbiAgICAgICAgICB2Tm9kZUNoaWxkcmVuW3ZOb2RlQ2hpbGRyZW4ubGVuZ3RoIC0gMV0uJHRleHQkICs9IGNoaWxkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZOb2RlQ2hpbGRyZW4ucHVzaChzaW1wbGUgPyBuZXdWTm9kZShudWxsLCBjaGlsZCkgOiBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFNpbXBsZSA9IHNpbXBsZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHdhbGsoY2hpbGRyZW4pO1xuICBpZiAodm5vZGVEYXRhKSB7XG4gICAgaWYgKHZub2RlRGF0YS5rZXkpIHtcbiAgICAgIGtleSA9IHZub2RlRGF0YS5rZXk7XG4gICAgfVxuICAgIGlmICh2bm9kZURhdGEubmFtZSkge1xuICAgICAgc2xvdE5hbWUgPSB2bm9kZURhdGEubmFtZTtcbiAgICB9XG4gICAge1xuICAgICAgY29uc3QgY2xhc3NEYXRhID0gdm5vZGVEYXRhLmNsYXNzTmFtZSB8fCB2bm9kZURhdGEuY2xhc3M7XG4gICAgICBpZiAoY2xhc3NEYXRhKSB7XG4gICAgICAgIHZub2RlRGF0YS5jbGFzcyA9IHR5cGVvZiBjbGFzc0RhdGEgIT09IFwib2JqZWN0XCIgPyBjbGFzc0RhdGEgOiBPYmplY3Qua2V5cyhjbGFzc0RhdGEpLmZpbHRlcihrID0+IGNsYXNzRGF0YVtrXSkuam9pbihcIiBcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2Ygbm9kZU5hbWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBub2RlTmFtZSh2bm9kZURhdGEgPT09IG51bGwgPyB7fSA6IHZub2RlRGF0YSwgdk5vZGVDaGlsZHJlbiwgdmRvbUZuVXRpbHMpO1xuICB9XG4gIGNvbnN0IHZub2RlID0gbmV3Vk5vZGUobm9kZU5hbWUsIG51bGwpO1xuICB2bm9kZS4kYXR0cnMkID0gdm5vZGVEYXRhO1xuICBpZiAodk5vZGVDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgdm5vZGUuJGNoaWxkcmVuJCA9IHZOb2RlQ2hpbGRyZW47XG4gIH1cbiAge1xuICAgIHZub2RlLiRrZXkkID0ga2V5O1xuICB9XG4gIHtcbiAgICB2bm9kZS4kbmFtZSQgPSBzbG90TmFtZTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59O1xudmFyIG5ld1ZOb2RlID0gKHRhZywgdGV4dCkgPT4ge1xuICBjb25zdCB2bm9kZSA9IHtcbiAgICAkZmxhZ3MkOiAwLFxuICAgICR0YWckOiB0YWcsXG4gICAgJHRleHQkOiB0ZXh0LFxuICAgICRlbG0kOiBudWxsLFxuICAgICRjaGlsZHJlbiQ6IG51bGxcbiAgfTtcbiAge1xuICAgIHZub2RlLiRhdHRycyQgPSBudWxsO1xuICB9XG4gIHtcbiAgICB2bm9kZS4ka2V5JCA9IG51bGw7XG4gIH1cbiAge1xuICAgIHZub2RlLiRuYW1lJCA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufTtcbnZhciBIb3N0ID0ge307XG52YXIgaXNIb3N0ID0gbm9kZSA9PiBub2RlICYmIG5vZGUuJHRhZyQgPT09IEhvc3Q7XG52YXIgdmRvbUZuVXRpbHMgPSB7XG4gIGZvckVhY2g6IChjaGlsZHJlbiwgY2IpID0+IGNoaWxkcmVuLm1hcChjb252ZXJ0VG9QdWJsaWMpLmZvckVhY2goY2IpLFxuICBtYXA6IChjaGlsZHJlbiwgY2IpID0+IGNoaWxkcmVuLm1hcChjb252ZXJ0VG9QdWJsaWMpLm1hcChjYikubWFwKGNvbnZlcnRUb1ByaXZhdGUpXG59O1xudmFyIGNvbnZlcnRUb1B1YmxpYyA9IG5vZGUgPT4gKHtcbiAgdmF0dHJzOiBub2RlLiRhdHRycyQsXG4gIHZjaGlsZHJlbjogbm9kZS4kY2hpbGRyZW4kLFxuICB2a2V5OiBub2RlLiRrZXkkLFxuICB2bmFtZTogbm9kZS4kbmFtZSQsXG4gIHZ0YWc6IG5vZGUuJHRhZyQsXG4gIHZ0ZXh0OiBub2RlLiR0ZXh0JFxufSk7XG52YXIgY29udmVydFRvUHJpdmF0ZSA9IG5vZGUgPT4ge1xuICBpZiAodHlwZW9mIG5vZGUudnRhZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY29uc3Qgdm5vZGVEYXRhID0ge1xuICAgICAgLi4ubm9kZS52YXR0cnNcbiAgICB9O1xuICAgIGlmIChub2RlLnZrZXkpIHtcbiAgICAgIHZub2RlRGF0YS5rZXkgPSBub2RlLnZrZXk7XG4gICAgfVxuICAgIGlmIChub2RlLnZuYW1lKSB7XG4gICAgICB2bm9kZURhdGEubmFtZSA9IG5vZGUudm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBoKG5vZGUudnRhZywgdm5vZGVEYXRhLCAuLi4obm9kZS52Y2hpbGRyZW4gfHwgW10pKTtcbiAgfVxuICBjb25zdCB2bm9kZSA9IG5ld1ZOb2RlKG5vZGUudnRhZywgbm9kZS52dGV4dCk7XG4gIHZub2RlLiRhdHRycyQgPSBub2RlLnZhdHRycztcbiAgdm5vZGUuJGNoaWxkcmVuJCA9IG5vZGUudmNoaWxkcmVuO1xuICB2bm9kZS4ka2V5JCA9IG5vZGUudmtleTtcbiAgdm5vZGUuJG5hbWUkID0gbm9kZS52bmFtZTtcbiAgcmV0dXJuIHZub2RlO1xufTtcblxuLy8gc3JjL3J1bnRpbWUvY2xpZW50LWh5ZHJhdGUudHNcbnZhciBpbml0aWFsaXplQ2xpZW50SHlkcmF0ZSA9IChob3N0RWxtLCB0YWdOYW1lLCBob3N0SWQsIGhvc3RSZWYpID0+IHtcbiAgY29uc3QgZW5kSHlkcmF0ZSA9IGNyZWF0ZVRpbWUoXCJoeWRyYXRlQ2xpZW50XCIsIHRhZ05hbWUpO1xuICBjb25zdCBzaGFkb3dSb290ID0gaG9zdEVsbS5zaGFkb3dSb290O1xuICBjb25zdCBjaGlsZFJlbmRlck5vZGVzID0gW107XG4gIGNvbnN0IHNsb3ROb2RlcyA9IFtdO1xuICBjb25zdCBzaGFkb3dSb290Tm9kZXMgPSBzaGFkb3dSb290ID8gW10gOiBudWxsO1xuICBjb25zdCB2bm9kZSA9IGhvc3RSZWYuJHZub2RlJCA9IG5ld1ZOb2RlKHRhZ05hbWUsIG51bGwpO1xuICBpZiAoIXBsdC4kb3JnTG9jTm9kZXMkKSB7XG4gICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShkb2MuYm9keSwgcGx0LiRvcmdMb2NOb2RlcyQgPSAvKiBAX19QVVJFX18gKi9uZXcgTWFwKCkpO1xuICB9XG4gIGhvc3RFbG1bSFlEUkFURV9JRF0gPSBob3N0SWQ7XG4gIGhvc3RFbG0ucmVtb3ZlQXR0cmlidXRlKEhZRFJBVEVfSUQpO1xuICBjbGllbnRIeWRyYXRlKHZub2RlLCBjaGlsZFJlbmRlck5vZGVzLCBzbG90Tm9kZXMsIHNoYWRvd1Jvb3ROb2RlcywgaG9zdEVsbSwgaG9zdEVsbSwgaG9zdElkKTtcbiAgY2hpbGRSZW5kZXJOb2Rlcy5tYXAoYyA9PiB7XG4gICAgY29uc3Qgb3JnTG9jYXRpb25JZCA9IGMuJGhvc3RJZCQgKyBcIi5cIiArIGMuJG5vZGVJZCQ7XG4gICAgY29uc3Qgb3JnTG9jYXRpb25Ob2RlID0gcGx0LiRvcmdMb2NOb2RlcyQuZ2V0KG9yZ0xvY2F0aW9uSWQpO1xuICAgIGNvbnN0IG5vZGUgPSBjLiRlbG0kO1xuICAgIGlmIChvcmdMb2NhdGlvbk5vZGUgJiYgc3VwcG9ydHNTaGFkb3cgJiYgb3JnTG9jYXRpb25Ob2RlW1wicy1lblwiXSA9PT0gXCJcIikge1xuICAgICAgb3JnTG9jYXRpb25Ob2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIG9yZ0xvY2F0aW9uTm9kZS5uZXh0U2libGluZyk7XG4gICAgfVxuICAgIGlmICghc2hhZG93Um9vdCkge1xuICAgICAgbm9kZVtcInMtaG5cIl0gPSB0YWdOYW1lO1xuICAgICAgaWYgKG9yZ0xvY2F0aW9uTm9kZSkge1xuICAgICAgICBub2RlW1wicy1vbFwiXSA9IG9yZ0xvY2F0aW9uTm9kZTtcbiAgICAgICAgbm9kZVtcInMtb2xcIl1bXCJzLW5yXCJdID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGx0LiRvcmdMb2NOb2RlcyQuZGVsZXRlKG9yZ0xvY2F0aW9uSWQpO1xuICB9KTtcbiAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICBzaGFkb3dSb290Tm9kZXMubWFwKHNoYWRvd1Jvb3ROb2RlID0+IHtcbiAgICAgIGlmIChzaGFkb3dSb290Tm9kZSkge1xuICAgICAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHNoYWRvd1Jvb3ROb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBlbmRIeWRyYXRlKCk7XG59O1xudmFyIGNsaWVudEh5ZHJhdGUgPSAocGFyZW50Vk5vZGUsIGNoaWxkUmVuZGVyTm9kZXMsIHNsb3ROb2Rlcywgc2hhZG93Um9vdE5vZGVzLCBob3N0RWxtLCBub2RlLCBob3N0SWQpID0+IHtcbiAgbGV0IGNoaWxkTm9kZVR5cGU7XG4gIGxldCBjaGlsZElkU3BsdDtcbiAgbGV0IGNoaWxkVk5vZGU7XG4gIGxldCBpMjtcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICBjaGlsZE5vZGVUeXBlID0gbm9kZS5nZXRBdHRyaWJ1dGUoSFlEUkFURV9DSElMRF9JRCk7XG4gICAgaWYgKGNoaWxkTm9kZVR5cGUpIHtcbiAgICAgIGNoaWxkSWRTcGx0ID0gY2hpbGROb2RlVHlwZS5zcGxpdChcIi5cIik7XG4gICAgICBpZiAoY2hpbGRJZFNwbHRbMF0gPT09IGhvc3RJZCB8fCBjaGlsZElkU3BsdFswXSA9PT0gXCIwXCIpIHtcbiAgICAgICAgY2hpbGRWTm9kZSA9IHtcbiAgICAgICAgICAkZmxhZ3MkOiAwLFxuICAgICAgICAgICRob3N0SWQkOiBjaGlsZElkU3BsdFswXSxcbiAgICAgICAgICAkbm9kZUlkJDogY2hpbGRJZFNwbHRbMV0sXG4gICAgICAgICAgJGRlcHRoJDogY2hpbGRJZFNwbHRbMl0sXG4gICAgICAgICAgJGluZGV4JDogY2hpbGRJZFNwbHRbM10sXG4gICAgICAgICAgJHRhZyQ6IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICRlbG0kOiBub2RlLFxuICAgICAgICAgICRhdHRycyQ6IG51bGwsXG4gICAgICAgICAgJGNoaWxkcmVuJDogbnVsbCxcbiAgICAgICAgICAka2V5JDogbnVsbCxcbiAgICAgICAgICAkbmFtZSQ6IG51bGwsXG4gICAgICAgICAgJHRleHQkOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIGNoaWxkUmVuZGVyTm9kZXMucHVzaChjaGlsZFZOb2RlKTtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoSFlEUkFURV9DSElMRF9JRCk7XG4gICAgICAgIGlmICghcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiQgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlO1xuICAgICAgICBwYXJlbnRWTm9kZSA9IGNoaWxkVk5vZGU7XG4gICAgICAgIGlmIChzaGFkb3dSb290Tm9kZXMgJiYgY2hpbGRWTm9kZS4kZGVwdGgkID09PSBcIjBcIikge1xuICAgICAgICAgIHNoYWRvd1Jvb3ROb2Rlc1tjaGlsZFZOb2RlLiRpbmRleCRdID0gY2hpbGRWTm9kZS4kZWxtJDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICBmb3IgKGkyID0gbm9kZS5zaGFkb3dSb290LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaTIgPj0gMDsgaTItLSkge1xuICAgICAgICBjbGllbnRIeWRyYXRlKHBhcmVudFZOb2RlLCBjaGlsZFJlbmRlck5vZGVzLCBzbG90Tm9kZXMsIHNoYWRvd1Jvb3ROb2RlcywgaG9zdEVsbSwgbm9kZS5zaGFkb3dSb290LmNoaWxkTm9kZXNbaTJdLCBob3N0SWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkyID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGkyID49IDA7IGkyLS0pIHtcbiAgICAgIGNsaWVudEh5ZHJhdGUocGFyZW50Vk5vZGUsIGNoaWxkUmVuZGVyTm9kZXMsIHNsb3ROb2Rlcywgc2hhZG93Um9vdE5vZGVzLCBob3N0RWxtLCBub2RlLmNoaWxkTm9kZXNbaTJdLCBob3N0SWQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIENvbW1lbnROb2RlICovKSB7XG4gICAgY2hpbGRJZFNwbHQgPSBub2RlLm5vZGVWYWx1ZS5zcGxpdChcIi5cIik7XG4gICAgaWYgKGNoaWxkSWRTcGx0WzFdID09PSBob3N0SWQgfHwgY2hpbGRJZFNwbHRbMV0gPT09IFwiMFwiKSB7XG4gICAgICBjaGlsZE5vZGVUeXBlID0gY2hpbGRJZFNwbHRbMF07XG4gICAgICBjaGlsZFZOb2RlID0ge1xuICAgICAgICAkZmxhZ3MkOiAwLFxuICAgICAgICAkaG9zdElkJDogY2hpbGRJZFNwbHRbMV0sXG4gICAgICAgICRub2RlSWQkOiBjaGlsZElkU3BsdFsyXSxcbiAgICAgICAgJGRlcHRoJDogY2hpbGRJZFNwbHRbM10sXG4gICAgICAgICRpbmRleCQ6IGNoaWxkSWRTcGx0WzRdLFxuICAgICAgICAkZWxtJDogbm9kZSxcbiAgICAgICAgJGF0dHJzJDogbnVsbCxcbiAgICAgICAgJGNoaWxkcmVuJDogbnVsbCxcbiAgICAgICAgJGtleSQ6IG51bGwsXG4gICAgICAgICRuYW1lJDogbnVsbCxcbiAgICAgICAgJHRhZyQ6IG51bGwsXG4gICAgICAgICR0ZXh0JDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmIChjaGlsZE5vZGVUeXBlID09PSBURVhUX05PREVfSUQpIHtcbiAgICAgICAgY2hpbGRWTm9kZS4kZWxtJCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChjaGlsZFZOb2RlLiRlbG0kICYmIGNoaWxkVk5vZGUuJGVsbSQubm9kZVR5cGUgPT09IDMgLyogVGV4dE5vZGUgKi8pIHtcbiAgICAgICAgICBjaGlsZFZOb2RlLiR0ZXh0JCA9IGNoaWxkVk5vZGUuJGVsbSQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgY2hpbGRSZW5kZXJOb2Rlcy5wdXNoKGNoaWxkVk5vZGUpO1xuICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgaWYgKCFwYXJlbnRWTm9kZS4kY2hpbGRyZW4kKSB7XG4gICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgaWYgKHNoYWRvd1Jvb3ROb2RlcyAmJiBjaGlsZFZOb2RlLiRkZXB0aCQgPT09IFwiMFwiKSB7XG4gICAgICAgICAgICBzaGFkb3dSb290Tm9kZXNbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGUuJGVsbSQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkVk5vZGUuJGhvc3RJZCQgPT09IGhvc3RJZCkge1xuICAgICAgICBpZiAoY2hpbGROb2RlVHlwZSA9PT0gU0xPVF9OT0RFX0lEKSB7XG4gICAgICAgICAgY2hpbGRWTm9kZS4kdGFnJCA9IFwic2xvdFwiO1xuICAgICAgICAgIGlmIChjaGlsZElkU3BsdFs1XSkge1xuICAgICAgICAgICAgbm9kZVtcInMtc25cIl0gPSBjaGlsZFZOb2RlLiRuYW1lJCA9IGNoaWxkSWRTcGx0WzVdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlW1wicy1zblwiXSA9IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGVbXCJzLXNyXCJdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoc2hhZG93Um9vdE5vZGVzKSB7XG4gICAgICAgICAgICBjaGlsZFZOb2RlLiRlbG0kID0gZG9jLmNyZWF0ZUVsZW1lbnQoY2hpbGRWTm9kZS4kdGFnJCk7XG4gICAgICAgICAgICBpZiAoY2hpbGRWTm9kZS4kbmFtZSQpIHtcbiAgICAgICAgICAgICAgY2hpbGRWTm9kZS4kZWxtJC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIGNoaWxkVk5vZGUuJG5hbWUkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGRWTm9kZS4kZWxtJCwgbm9kZSk7XG4gICAgICAgICAgICBub2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKGNoaWxkVk5vZGUuJGRlcHRoJCA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgc2hhZG93Um9vdE5vZGVzW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlLiRlbG0kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzbG90Tm9kZXMucHVzaChjaGlsZFZOb2RlKTtcbiAgICAgICAgICBpZiAoIXBhcmVudFZOb2RlLiRjaGlsZHJlbiQpIHtcbiAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiQgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJFtjaGlsZFZOb2RlLiRpbmRleCRdID0gY2hpbGRWTm9kZTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZE5vZGVUeXBlID09PSBDT05URU5UX1JFRl9JRCkge1xuICAgICAgICAgIGlmIChzaGFkb3dSb290Tm9kZXMpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RFbG1bXCJzLWNyXCJdID0gbm9kZTtcbiAgICAgICAgICAgIG5vZGVbXCJzLWNuXCJdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAocGFyZW50Vk5vZGUgJiYgcGFyZW50Vk5vZGUuJHRhZyQgPT09IFwic3R5bGVcIikge1xuICAgIGNvbnN0IHZub2RlID0gbmV3Vk5vZGUobnVsbCwgbm9kZS50ZXh0Q29udGVudCk7XG4gICAgdm5vZGUuJGVsbSQgPSBub2RlO1xuICAgIHZub2RlLiRpbmRleCQgPSBcIjBcIjtcbiAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kID0gW3Zub2RlXTtcbiAgfVxufTtcbnZhciBpbml0aWFsaXplRG9jdW1lbnRIeWRyYXRlID0gKG5vZGUsIG9yZ0xvY05vZGVzKSA9PiB7XG4gIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgbGV0IGkyID0gMDtcbiAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICBmb3IgKDsgaTIgPCBub2RlLnNoYWRvd1Jvb3QuY2hpbGROb2Rlcy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShub2RlLnNoYWRvd1Jvb3QuY2hpbGROb2Rlc1tpMl0sIG9yZ0xvY05vZGVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChpMiA9IDA7IGkyIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaTIrKykge1xuICAgICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShub2RlLmNoaWxkTm9kZXNbaTJdLCBvcmdMb2NOb2Rlcyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogQ29tbWVudE5vZGUgKi8pIHtcbiAgICBjb25zdCBjaGlsZElkU3BsdCA9IG5vZGUubm9kZVZhbHVlLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAoY2hpbGRJZFNwbHRbMF0gPT09IE9SR19MT0NBVElPTl9JRCkge1xuICAgICAgb3JnTG9jTm9kZXMuc2V0KGNoaWxkSWRTcGx0WzFdICsgXCIuXCIgKyBjaGlsZElkU3BsdFsyXSwgbm9kZSk7XG4gICAgICBub2RlLm5vZGVWYWx1ZSA9IFwiXCI7XG4gICAgICBub2RlW1wicy1lblwiXSA9IGNoaWxkSWRTcGx0WzNdO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL3J1bnRpbWUvbW9kZS50c1xudmFyIGNvbXB1dGVNb2RlID0gZWxtID0+IG1vZGVSZXNvbHV0aW9uQ2hhaW4ubWFwKGgyID0+IGgyKGVsbSkpLmZpbmQobSA9PiAhIW0pO1xudmFyIHNldE1vZGUgPSBoYW5kbGVyID0+IG1vZGVSZXNvbHV0aW9uQ2hhaW4ucHVzaChoYW5kbGVyKTtcbnZhciBnZXRNb2RlID0gcmVmID0+IGdldEhvc3RSZWYocmVmKS4kbW9kZU5hbWUkO1xudmFyIHBhcnNlUHJvcGVydHlWYWx1ZSA9IChwcm9wVmFsdWUsIHByb3BUeXBlKSA9PiB7XG4gIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiAhaXNDb21wbGV4VHlwZShwcm9wVmFsdWUpKSB7XG4gICAgaWYgKHByb3BUeXBlICYgNCAvKiBCb29sZWFuICovKSB7XG4gICAgICByZXR1cm4gcHJvcFZhbHVlID09PSBcImZhbHNlXCIgPyBmYWxzZSA6IHByb3BWYWx1ZSA9PT0gXCJcIiB8fCAhIXByb3BWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHByb3BUeXBlICYgMiAvKiBOdW1iZXIgKi8pIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHByb3BWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChwcm9wVHlwZSAmIDEgLyogU3RyaW5nICovKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHByb3BWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWU7XG4gIH1cbiAgcmV0dXJuIHByb3BWYWx1ZTtcbn07XG52YXIgZ2V0RWxlbWVudCA9IHJlZiA9PiBnZXRIb3N0UmVmKHJlZikuJGhvc3RFbGVtZW50JDtcblxuLy8gc3JjL3J1bnRpbWUvZXZlbnQtZW1pdHRlci50c1xudmFyIGNyZWF0ZUV2ZW50ID0gKHJlZiwgbmFtZSwgZmxhZ3MpID0+IHtcbiAgY29uc3QgZWxtID0gZ2V0RWxlbWVudChyZWYpO1xuICByZXR1cm4ge1xuICAgIGVtaXQ6IGRldGFpbCA9PiB7XG4gICAgICByZXR1cm4gZW1pdEV2ZW50KGVsbSwgbmFtZSwge1xuICAgICAgICBidWJibGVzOiAhIShmbGFncyAmIDQgLyogQnViYmxlcyAqLyksXG4gICAgICAgIGNvbXBvc2VkOiAhIShmbGFncyAmIDIgLyogQ29tcG9zZWQgKi8pLFxuICAgICAgICBjYW5jZWxhYmxlOiAhIShmbGFncyAmIDEgLyogQ2FuY2VsbGFibGUgKi8pLFxuICAgICAgICBkZXRhaWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG52YXIgZW1pdEV2ZW50ID0gKGVsbSwgbmFtZSwgb3B0cykgPT4ge1xuICBjb25zdCBldiA9IHBsdC5jZShuYW1lLCBvcHRzKTtcbiAgZWxtLmRpc3BhdGNoRXZlbnQoZXYpO1xuICByZXR1cm4gZXY7XG59O1xudmFyIHJvb3RBcHBsaWVkU3R5bGVzID0gLyogQF9fUFVSRV9fICovbmV3IFdlYWtNYXAoKTtcbnZhciByZWdpc3RlclN0eWxlID0gKHNjb3BlSWQyLCBjc3NUZXh0LCBhbGxvd0NTKSA9PiB7XG4gIGxldCBzdHlsZSA9IHN0eWxlcy5nZXQoc2NvcGVJZDIpO1xuICBpZiAoc3VwcG9ydHNDb25zdHJ1Y3RhYmxlU3R5bGVzaGVldHMgJiYgYWxsb3dDUykge1xuICAgIHN0eWxlID0gc3R5bGUgfHwgbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICBpZiAodHlwZW9mIHN0eWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBzdHlsZSA9IGNzc1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLnJlcGxhY2VTeW5jKGNzc1RleHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGNzc1RleHQ7XG4gIH1cbiAgc3R5bGVzLnNldChzY29wZUlkMiwgc3R5bGUpO1xufTtcbnZhciBhZGRTdHlsZSA9IChzdHlsZUNvbnRhaW5lck5vZGUsIGNtcE1ldGEsIG1vZGUpID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCBzY29wZUlkMiA9IGdldFNjb3BlSWQoY21wTWV0YSwgbW9kZSk7XG4gIGNvbnN0IHN0eWxlID0gc3R5bGVzLmdldChzY29wZUlkMik7XG4gIHN0eWxlQ29udGFpbmVyTm9kZSA9IHN0eWxlQ29udGFpbmVyTm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogRG9jdW1lbnRGcmFnbWVudCAqLyA/IHN0eWxlQ29udGFpbmVyTm9kZSA6IGRvYztcbiAgaWYgKHN0eWxlKSB7XG4gICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc3R5bGVDb250YWluZXJOb2RlID0gc3R5bGVDb250YWluZXJOb2RlLmhlYWQgfHwgc3R5bGVDb250YWluZXJOb2RlO1xuICAgICAgbGV0IGFwcGxpZWRTdHlsZXMgPSByb290QXBwbGllZFN0eWxlcy5nZXQoc3R5bGVDb250YWluZXJOb2RlKTtcbiAgICAgIGxldCBzdHlsZUVsbTtcbiAgICAgIGlmICghYXBwbGllZFN0eWxlcykge1xuICAgICAgICByb290QXBwbGllZFN0eWxlcy5zZXQoc3R5bGVDb250YWluZXJOb2RlLCBhcHBsaWVkU3R5bGVzID0gLyogQF9fUFVSRV9fICovbmV3IFNldCgpKTtcbiAgICAgIH1cbiAgICAgIGlmICghYXBwbGllZFN0eWxlcy5oYXMoc2NvcGVJZDIpKSB7XG4gICAgICAgIGlmIChzdHlsZUNvbnRhaW5lck5vZGUuaG9zdCAmJiAoc3R5bGVFbG0gPSBzdHlsZUNvbnRhaW5lck5vZGUucXVlcnlTZWxlY3RvcihgWyR7SFlEUkFURURfU1RZTEVfSUR9PVwiJHtzY29wZUlkMn1cIl1gKSkpIHtcbiAgICAgICAgICBzdHlsZUVsbS5pbm5lckhUTUwgPSBzdHlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZUVsbSA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgICAgc3R5bGVFbG0uaW5uZXJIVE1MID0gc3R5bGU7XG4gICAgICAgICAgY29uc3Qgbm9uY2UgPSAoX2EgPSBwbHQuJG5vbmNlJCkgIT0gbnVsbCA/IF9hIDogcXVlcnlOb25jZU1ldGFUYWdDb250ZW50KGRvYyk7XG4gICAgICAgICAgaWYgKG5vbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0eWxlRWxtLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaW5qZWN0U3R5bGUgPVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIHdlIHJlbmRlciBhIHNjb3BlZCBjb21wb25lbnRcbiAgICAgICAgICAgKi9cbiAgICAgICAgICAhKGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykgfHxcbiAgICAgICAgICAvKipcbiAgICAgICAgICAqIHdlIGFyZSB1c2luZyBzaGFkb3cgZG9tIGFuZCByZW5kZXIgdGhlIHN0eWxlIHRhZyB3aXRoaW4gdGhlIHNoYWRvd1Jvb3RcbiAgICAgICAgICAqL1xuICAgICAgICAgIGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLyAmJiBzdHlsZUNvbnRhaW5lck5vZGUubm9kZU5hbWUgIT09IFwiSEVBRFwiO1xuICAgICAgICAgIGlmIChpbmplY3RTdHlsZSkge1xuICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlLmluc2VydEJlZm9yZShzdHlsZUVsbSwgc3R5bGVDb250YWluZXJOb2RlLnF1ZXJ5U2VsZWN0b3IoXCJsaW5rXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNtcE1ldGEuJGZsYWdzJCAmIDQgLyogaGFzU2xvdFJlbG9jYXRpb24gKi8pIHtcbiAgICAgICAgICBzdHlsZUVsbS5pbm5lckhUTUwgKz0gU0xPVF9GQl9DU1M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcGxpZWRTdHlsZXMpIHtcbiAgICAgICAgICBhcHBsaWVkU3R5bGVzLmFkZChzY29wZUlkMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzdHlsZUNvbnRhaW5lck5vZGUuYWRvcHRlZFN0eWxlU2hlZXRzLmluY2x1ZGVzKHN0eWxlKSkge1xuICAgICAgc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFsuLi5zdHlsZUNvbnRhaW5lck5vZGUuYWRvcHRlZFN0eWxlU2hlZXRzLCBzdHlsZV07XG4gICAgfVxuICB9XG4gIHJldHVybiBzY29wZUlkMjtcbn07XG52YXIgYXR0YWNoU3R5bGVzID0gaG9zdFJlZiA9PiB7XG4gIGNvbnN0IGNtcE1ldGEgPSBob3N0UmVmLiRjbXBNZXRhJDtcbiAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCBmbGFncyA9IGNtcE1ldGEuJGZsYWdzJDtcbiAgY29uc3QgZW5kQXR0YWNoU3R5bGVzID0gY3JlYXRlVGltZShcImF0dGFjaFN0eWxlc1wiLCBjbXBNZXRhLiR0YWdOYW1lJCk7XG4gIGNvbnN0IHNjb3BlSWQyID0gYWRkU3R5bGUoZWxtLnNoYWRvd1Jvb3QgPyBlbG0uc2hhZG93Um9vdCA6IGVsbS5nZXRSb290Tm9kZSgpLCBjbXBNZXRhLCBob3N0UmVmLiRtb2RlTmFtZSQpO1xuICBpZiAoZmxhZ3MgJiAxMCAvKiBuZWVkc1Njb3BlZEVuY2Fwc3VsYXRpb24gKi8gJiYgZmxhZ3MgJiAyIC8qIHNjb3BlZENzc0VuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICBlbG1bXCJzLXNjXCJdID0gc2NvcGVJZDI7XG4gICAgZWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZDIgKyBcIi1oXCIpO1xuICAgIGlmIChmbGFncyAmIDIgLyogc2NvcGVkQ3NzRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZDIgKyBcIi1zXCIpO1xuICAgIH1cbiAgfVxuICBlbmRBdHRhY2hTdHlsZXMoKTtcbn07XG52YXIgZ2V0U2NvcGVJZCA9IChjbXAsIG1vZGUpID0+IFwic2MtXCIgKyAobW9kZSAmJiBjbXAuJGZsYWdzJCAmIDMyIC8qIGhhc01vZGUgKi8gPyBjbXAuJHRhZ05hbWUkICsgXCItXCIgKyBtb2RlIDogY21wLiR0YWdOYW1lJCk7XG52YXIgc2V0QWNjZXNzb3IgPSAoZWxtLCBtZW1iZXJOYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUsIGlzU3ZnLCBmbGFncykgPT4ge1xuICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgbGV0IGlzUHJvcCA9IGlzTWVtYmVySW5FbGVtZW50KGVsbSwgbWVtYmVyTmFtZSk7XG4gICAgbGV0IGxuID0gbWVtYmVyTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChtZW1iZXJOYW1lID09PSBcImNsYXNzXCIpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGVsbS5jbGFzc0xpc3Q7XG4gICAgICBjb25zdCBvbGRDbGFzc2VzID0gcGFyc2VDbGFzc0xpc3Qob2xkVmFsdWUpO1xuICAgICAgY29uc3QgbmV3Q2xhc3NlcyA9IHBhcnNlQ2xhc3NMaXN0KG5ld1ZhbHVlKTtcbiAgICAgIGNsYXNzTGlzdC5yZW1vdmUoLi4ub2xkQ2xhc3Nlcy5maWx0ZXIoYyA9PiBjICYmICFuZXdDbGFzc2VzLmluY2x1ZGVzKGMpKSk7XG4gICAgICBjbGFzc0xpc3QuYWRkKC4uLm5ld0NsYXNzZXMuZmlsdGVyKGMgPT4gYyAmJiAhb2xkQ2xhc3Nlcy5pbmNsdWRlcyhjKSkpO1xuICAgIH0gZWxzZSBpZiAobWVtYmVyTmFtZSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgIGlmICghbmV3VmFsdWUgfHwgbmV3VmFsdWVbcHJvcF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHByb3AuaW5jbHVkZXMoXCItXCIpKSB7XG4gICAgICAgICAgICAgIGVsbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVsbS5zdHlsZVtwcm9wXSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKCFvbGRWYWx1ZSB8fCBuZXdWYWx1ZVtwcm9wXSAhPT0gb2xkVmFsdWVbcHJvcF0pIHtcbiAgICAgICAgICBpZiAocHJvcC5pbmNsdWRlcyhcIi1cIikpIHtcbiAgICAgICAgICAgIGVsbS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCBuZXdWYWx1ZVtwcm9wXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsbS5zdHlsZVtwcm9wXSA9IG5ld1ZhbHVlW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVtYmVyTmFtZSA9PT0gXCJrZXlcIikgO2Vsc2UgaWYgKG1lbWJlck5hbWUgPT09IFwicmVmXCIpIHtcbiAgICAgIGlmIChuZXdWYWx1ZSkge1xuICAgICAgICBuZXdWYWx1ZShlbG0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzUHJvcCAmJiBtZW1iZXJOYW1lWzBdID09PSBcIm9cIiAmJiBtZW1iZXJOYW1lWzFdID09PSBcIm5cIikge1xuICAgICAgaWYgKG1lbWJlck5hbWVbMl0gPT09IFwiLVwiKSB7XG4gICAgICAgIG1lbWJlck5hbWUgPSBtZW1iZXJOYW1lLnNsaWNlKDMpO1xuICAgICAgfSBlbHNlIGlmIChpc01lbWJlckluRWxlbWVudCh3aW4sIGxuKSkge1xuICAgICAgICBtZW1iZXJOYW1lID0gbG4uc2xpY2UoMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1iZXJOYW1lID0gbG5bMl0gKyBtZW1iZXJOYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgaWYgKG9sZFZhbHVlIHx8IG5ld1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNhcHR1cmUgPSBtZW1iZXJOYW1lLmVuZHNXaXRoKENBUFRVUkVfRVZFTlRfU1VGRklYKTtcbiAgICAgICAgbWVtYmVyTmFtZSA9IG1lbWJlck5hbWUucmVwbGFjZShDQVBUVVJFX0VWRU5UX1JFR0VYLCBcIlwiKTtcbiAgICAgICAgaWYgKG9sZFZhbHVlKSB7XG4gICAgICAgICAgcGx0LnJlbChlbG0sIG1lbWJlck5hbWUsIG9sZFZhbHVlLCBjYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICBwbHQuYWVsKGVsbSwgbWVtYmVyTmFtZSwgbmV3VmFsdWUsIGNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlzQ29tcGxleCA9IGlzQ29tcGxleFR5cGUobmV3VmFsdWUpO1xuICAgICAgaWYgKChpc1Byb3AgfHwgaXNDb21wbGV4ICYmIG5ld1ZhbHVlICE9PSBudWxsKSAmJiAhaXNTdmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWVsbS50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IG5ld1ZhbHVlID09IG51bGwgPyBcIlwiIDogbmV3VmFsdWU7XG4gICAgICAgICAgICBpZiAobWVtYmVyTmFtZSA9PT0gXCJsaXN0XCIpIHtcbiAgICAgICAgICAgICAgaXNQcm9wID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9sZFZhbHVlID09IG51bGwgfHwgZWxtW21lbWJlck5hbWVdICE9IG4pIHtcbiAgICAgICAgICAgICAgZWxtW21lbWJlck5hbWVdID0gbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxtW21lbWJlck5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgbGV0IHhsaW5rID0gZmFsc2U7XG4gICAgICB7XG4gICAgICAgIGlmIChsbiAhPT0gKGxuID0gbG4ucmVwbGFjZSgvXnhsaW5rXFw6Py8sIFwiXCIpKSkge1xuICAgICAgICAgIG1lbWJlck5hbWUgPSBsbjtcbiAgICAgICAgICB4bGluayA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG5ld1ZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgIT09IGZhbHNlIHx8IGVsbS5nZXRBdHRyaWJ1dGUobWVtYmVyTmFtZSkgPT09IFwiXCIpIHtcbiAgICAgICAgICBpZiAoeGxpbmspIHtcbiAgICAgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGVOUyhYTElOS19OUywgbWVtYmVyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUobWVtYmVyTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCghaXNQcm9wIHx8IGZsYWdzICYgNCAvKiBpc0hvc3QgKi8gfHwgaXNTdmcpICYmICFpc0NvbXBsZXgpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBuZXdWYWx1ZSA9PT0gdHJ1ZSA/IFwiXCIgOiBuZXdWYWx1ZTtcbiAgICAgICAgaWYgKHhsaW5rKSB7XG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TLCBtZW1iZXJOYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShtZW1iZXJOYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG52YXIgcGFyc2VDbGFzc0xpc3RSZWdleCA9IC9cXHMvO1xudmFyIHBhcnNlQ2xhc3NMaXN0ID0gdmFsdWUgPT4gIXZhbHVlID8gW10gOiB2YWx1ZS5zcGxpdChwYXJzZUNsYXNzTGlzdFJlZ2V4KTtcbnZhciBDQVBUVVJFX0VWRU5UX1NVRkZJWCA9IFwiQ2FwdHVyZVwiO1xudmFyIENBUFRVUkVfRVZFTlRfUkVHRVggPSBuZXcgUmVnRXhwKENBUFRVUkVfRVZFTlRfU1VGRklYICsgXCIkXCIpO1xuXG4vLyBzcmMvcnVudGltZS92ZG9tL3VwZGF0ZS1lbGVtZW50LnRzXG52YXIgdXBkYXRlRWxlbWVudCA9IChvbGRWbm9kZSwgbmV3Vm5vZGUsIGlzU3ZnTW9kZTIpID0+IHtcbiAgY29uc3QgZWxtID0gbmV3Vm5vZGUuJGVsbSQubm9kZVR5cGUgPT09IDExIC8qIERvY3VtZW50RnJhZ21lbnQgKi8gJiYgbmV3Vm5vZGUuJGVsbSQuaG9zdCA/IG5ld1Zub2RlLiRlbG0kLmhvc3QgOiBuZXdWbm9kZS4kZWxtJDtcbiAgY29uc3Qgb2xkVm5vZGVBdHRycyA9IG9sZFZub2RlICYmIG9sZFZub2RlLiRhdHRycyQgfHwgRU1QVFlfT0JKO1xuICBjb25zdCBuZXdWbm9kZUF0dHJzID0gbmV3Vm5vZGUuJGF0dHJzJCB8fCBFTVBUWV9PQko7XG4gIHtcbiAgICBmb3IgKGNvbnN0IG1lbWJlck5hbWUgb2Ygc29ydGVkQXR0ck5hbWVzKE9iamVjdC5rZXlzKG9sZFZub2RlQXR0cnMpKSkge1xuICAgICAgaWYgKCEobWVtYmVyTmFtZSBpbiBuZXdWbm9kZUF0dHJzKSkge1xuICAgICAgICBzZXRBY2Nlc3NvcihlbG0sIG1lbWJlck5hbWUsIG9sZFZub2RlQXR0cnNbbWVtYmVyTmFtZV0sIHZvaWQgMCwgaXNTdmdNb2RlMiwgbmV3Vm5vZGUuJGZsYWdzJCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgbWVtYmVyTmFtZSBvZiBzb3J0ZWRBdHRyTmFtZXMoT2JqZWN0LmtleXMobmV3Vm5vZGVBdHRycykpKSB7XG4gICAgc2V0QWNjZXNzb3IoZWxtLCBtZW1iZXJOYW1lLCBvbGRWbm9kZUF0dHJzW21lbWJlck5hbWVdLCBuZXdWbm9kZUF0dHJzW21lbWJlck5hbWVdLCBpc1N2Z01vZGUyLCBuZXdWbm9kZS4kZmxhZ3MkKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNvcnRlZEF0dHJOYW1lcyhhdHRyTmFtZXMpIHtcbiAgcmV0dXJuIGF0dHJOYW1lcy5pbmNsdWRlcyhcInJlZlwiKSA/XG4gIC8vIHdlIG5lZWQgdG8gc29ydCB0aGVzZSB0byBlbnN1cmUgdGhhdCBgJ3JlZidgIGlzIHRoZSBsYXN0IGF0dHJcbiAgWy4uLmF0dHJOYW1lcy5maWx0ZXIoYXR0ciA9PiBhdHRyICE9PSBcInJlZlwiKSwgXCJyZWZcIl0gOlxuICAvLyBubyBuZWVkIHRvIHNvcnQsIHJldHVybiB0aGUgb3JpZ2luYWwgYXJyYXlcbiAgYXR0ck5hbWVzO1xufVxuXG4vLyBzcmMvcnVudGltZS92ZG9tL3Zkb20tcmVuZGVyLnRzXG52YXIgc2NvcGVJZDtcbnZhciBjb250ZW50UmVmO1xudmFyIGhvc3RUYWdOYW1lO1xudmFyIHVzZU5hdGl2ZVNoYWRvd0RvbSA9IGZhbHNlO1xudmFyIGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSA9IGZhbHNlO1xudmFyIGNoZWNrU2xvdFJlbG9jYXRlID0gZmFsc2U7XG52YXIgaXNTdmdNb2RlID0gZmFsc2U7XG52YXIgY3JlYXRlRWxtID0gKG9sZFBhcmVudFZOb2RlLCBuZXdQYXJlbnRWTm9kZSwgY2hpbGRJbmRleCwgcGFyZW50RWxtKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgbmV3Vk5vZGUyID0gbmV3UGFyZW50Vk5vZGUuJGNoaWxkcmVuJFtjaGlsZEluZGV4XTtcbiAgbGV0IGkyID0gMDtcbiAgbGV0IGVsbTtcbiAgbGV0IGNoaWxkTm9kZTtcbiAgbGV0IG9sZFZOb2RlO1xuICBpZiAoIXVzZU5hdGl2ZVNoYWRvd0RvbSkge1xuICAgIGNoZWNrU2xvdFJlbG9jYXRlID0gdHJ1ZTtcbiAgICBpZiAobmV3Vk5vZGUyLiR0YWckID09PSBcInNsb3RcIikge1xuICAgICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgICAgcGFyZW50RWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCArIFwiLXNcIik7XG4gICAgICB9XG4gICAgICBuZXdWTm9kZTIuJGZsYWdzJCB8PSBuZXdWTm9kZTIuJGNoaWxkcmVuJCA/XG4gICAgICAvLyBzbG90IGVsZW1lbnQgaGFzIGZhbGxiYWNrIGNvbnRlbnRcbiAgICAgIC8vIHN0aWxsIGNyZWF0ZSBhbiBlbGVtZW50IHRoYXQgXCJtb2Nrc1wiIHRoZSBzbG90IGVsZW1lbnRcbiAgICAgIDIgLyogaXNTbG90RmFsbGJhY2sgKi8gOlxuICAgICAgLy8gc2xvdCBlbGVtZW50IGRvZXMgbm90IGhhdmUgZmFsbGJhY2sgY29udGVudFxuICAgICAgLy8gY3JlYXRlIGFuIGh0bWwgY29tbWVudCB3ZSdsbCB1c2UgdG8gYWx3YXlzIHJlZmVyZW5jZVxuICAgICAgLy8gd2hlcmUgYWN0dWFsIHNsb3QgY29udGVudCBzaG91bGQgc2l0IG5leHQgdG9cbiAgICAgIDEgLyogaXNTbG90UmVmZXJlbmNlICovO1xuICAgIH1cbiAgfVxuICBpZiAobmV3Vk5vZGUyLiR0ZXh0JCAhPT0gbnVsbCkge1xuICAgIGVsbSA9IG5ld1ZOb2RlMi4kZWxtJCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShuZXdWTm9kZTIuJHRleHQkKTtcbiAgfSBlbHNlIGlmIChuZXdWTm9kZTIuJGZsYWdzJCAmIDEgLyogaXNTbG90UmVmZXJlbmNlICovKSB7XG4gICAgZWxtID0gbmV3Vk5vZGUyLiRlbG0kID0gZG9jLmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICB9IGVsc2Uge1xuICAgIGlmICghaXNTdmdNb2RlKSB7XG4gICAgICBpc1N2Z01vZGUgPSBuZXdWTm9kZTIuJHRhZyQgPT09IFwic3ZnXCI7XG4gICAgfVxuICAgIGVsbSA9IG5ld1ZOb2RlMi4kZWxtJCA9IGRvYy5jcmVhdGVFbGVtZW50TlMoaXNTdmdNb2RlID8gU1ZHX05TIDogSFRNTF9OUywgIXVzZU5hdGl2ZVNoYWRvd0RvbSAmJiBCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiBuZXdWTm9kZTIuJGZsYWdzJCAmIDIgLyogaXNTbG90RmFsbGJhY2sgKi8gPyBcInNsb3QtZmJcIiA6IG5ld1ZOb2RlMi4kdGFnJCk7XG4gICAgaWYgKGlzU3ZnTW9kZSAmJiBuZXdWTm9kZTIuJHRhZyQgPT09IFwiZm9yZWlnbk9iamVjdFwiKSB7XG4gICAgICBpc1N2Z01vZGUgPSBmYWxzZTtcbiAgICB9XG4gICAge1xuICAgICAgdXBkYXRlRWxlbWVudChudWxsLCBuZXdWTm9kZTIsIGlzU3ZnTW9kZSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3ROb2RlID0gZWxtLmdldFJvb3ROb2RlKCk7XG4gICAgY29uc3QgaXNFbGVtZW50V2l0aGluU2hhZG93Um9vdCA9ICFyb290Tm9kZS5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICBpZiAoIWlzRWxlbWVudFdpdGhpblNoYWRvd1Jvb3QgJiYgQlVJTEQuc2NvcGVkICYmIGlzRGVmKHNjb3BlSWQpICYmIGVsbVtcInMtc2lcIl0gIT09IHNjb3BlSWQpIHtcbiAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKGVsbVtcInMtc2lcIl0gPSBzY29wZUlkKTtcbiAgICB9XG4gICAge1xuICAgICAgdXBkYXRlRWxlbWVudFNjb3BlSWRzKGVsbSwgcGFyZW50RWxtKTtcbiAgICB9XG4gICAgaWYgKG5ld1ZOb2RlMi4kY2hpbGRyZW4kKSB7XG4gICAgICBmb3IgKGkyID0gMDsgaTIgPCBuZXdWTm9kZTIuJGNoaWxkcmVuJC5sZW5ndGg7ICsraTIpIHtcbiAgICAgICAgY2hpbGROb2RlID0gY3JlYXRlRWxtKG9sZFBhcmVudFZOb2RlLCBuZXdWTm9kZTIsIGkyLCBlbG0pO1xuICAgICAgICBpZiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgZWxtLmFwcGVuZENoaWxkKGNoaWxkTm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgaWYgKG5ld1ZOb2RlMi4kdGFnJCA9PT0gXCJzdmdcIikge1xuICAgICAgICBpc1N2Z01vZGUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoZWxtLnRhZ05hbWUgPT09IFwiZm9yZWlnbk9iamVjdFwiKSB7XG4gICAgICAgIGlzU3ZnTW9kZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsbVtcInMtaG5cIl0gPSBob3N0VGFnTmFtZTtcbiAge1xuICAgIGlmIChuZXdWTm9kZTIuJGZsYWdzJCAmICgyIC8qIGlzU2xvdEZhbGxiYWNrICovIHwgMSAvKiBpc1Nsb3RSZWZlcmVuY2UgKi8pKSB7XG4gICAgICBlbG1bXCJzLXNyXCJdID0gdHJ1ZTtcbiAgICAgIGVsbVtcInMtY3JcIl0gPSBjb250ZW50UmVmO1xuICAgICAgZWxtW1wicy1zblwiXSA9IG5ld1ZOb2RlMi4kbmFtZSQgfHwgXCJcIjtcbiAgICAgIGVsbVtcInMtcmZcIl0gPSAoX2EgPSBuZXdWTm9kZTIuJGF0dHJzJCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlZjtcbiAgICAgIG9sZFZOb2RlID0gb2xkUGFyZW50Vk5vZGUgJiYgb2xkUGFyZW50Vk5vZGUuJGNoaWxkcmVuJCAmJiBvbGRQYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkSW5kZXhdO1xuICAgICAgaWYgKG9sZFZOb2RlICYmIG9sZFZOb2RlLiR0YWckID09PSBuZXdWTm9kZTIuJHRhZyQgJiYgb2xkUGFyZW50Vk5vZGUuJGVsbSQpIHtcbiAgICAgICAge1xuICAgICAgICAgIHJlbG9jYXRlVG9Ib3N0Um9vdChvbGRQYXJlbnRWTm9kZS4kZWxtJCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsbTtcbn07XG52YXIgcmVsb2NhdGVUb0hvc3RSb290ID0gcGFyZW50RWxtID0+IHtcbiAgcGx0LiRmbGFncyQgfD0gMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLztcbiAgY29uc3QgaG9zdCA9IHBhcmVudEVsbS5jbG9zZXN0KGhvc3RUYWdOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICBpZiAoaG9zdCAhPSBudWxsKSB7XG4gICAgY29uc3QgY29udGVudFJlZk5vZGUgPSBBcnJheS5mcm9tKGhvc3QuY2hpbGROb2RlcykuZmluZChyZWYgPT4gcmVmW1wicy1jclwiXSk7XG4gICAgY29uc3QgY2hpbGROb2RlQXJyYXkgPSBBcnJheS5mcm9tKHBhcmVudEVsbS5jaGlsZE5vZGVzKTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiBjb250ZW50UmVmTm9kZSA/IGNoaWxkTm9kZUFycmF5LnJldmVyc2UoKSA6IGNoaWxkTm9kZUFycmF5KSB7XG4gICAgICBpZiAoY2hpbGROb2RlW1wicy1zaFwiXSAhPSBudWxsKSB7XG4gICAgICAgIGluc2VydEJlZm9yZShob3N0LCBjaGlsZE5vZGUsIGNvbnRlbnRSZWZOb2RlICE9IG51bGwgPyBjb250ZW50UmVmTm9kZSA6IG51bGwpO1xuICAgICAgICBjaGlsZE5vZGVbXCJzLXNoXCJdID0gdm9pZCAwO1xuICAgICAgICBjaGVja1Nsb3RSZWxvY2F0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBsdC4kZmxhZ3MkICY9IH4xIC8qIGlzVG1wRGlzY29ubmVjdGVkICovO1xufTtcbnZhciBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uID0gKHBhcmVudEVsbSwgcmVjdXJzaXZlKSA9PiB7XG4gIHBsdC4kZmxhZ3MkIHw9IDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi87XG4gIGNvbnN0IG9sZFNsb3RDaGlsZE5vZGVzID0gQXJyYXkuZnJvbShwYXJlbnRFbG0uY2hpbGROb2Rlcyk7XG4gIGlmIChwYXJlbnRFbG1bXCJzLXNyXCJdICYmIEJVSUxELmV4cGVyaW1lbnRhbFNsb3RGaXhlcykge1xuICAgIGxldCBub2RlID0gcGFyZW50RWxtO1xuICAgIHdoaWxlIChub2RlID0gbm9kZS5uZXh0U2libGluZykge1xuICAgICAgaWYgKG5vZGUgJiYgbm9kZVtcInMtc25cIl0gPT09IHBhcmVudEVsbVtcInMtc25cIl0gJiYgbm9kZVtcInMtc2hcIl0gPT09IGhvc3RUYWdOYW1lKSB7XG4gICAgICAgIG9sZFNsb3RDaGlsZE5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkyID0gb2xkU2xvdENoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaTIgPj0gMDsgaTItLSkge1xuICAgIGNvbnN0IGNoaWxkTm9kZSA9IG9sZFNsb3RDaGlsZE5vZGVzW2kyXTtcbiAgICBpZiAoY2hpbGROb2RlW1wicy1oblwiXSAhPT0gaG9zdFRhZ05hbWUgJiYgY2hpbGROb2RlW1wicy1vbFwiXSkge1xuICAgICAgaW5zZXJ0QmVmb3JlKHBhcmVudFJlZmVyZW5jZU5vZGUoY2hpbGROb2RlKSwgY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKGNoaWxkTm9kZSkpO1xuICAgICAgY2hpbGROb2RlW1wicy1vbFwiXS5yZW1vdmUoKTtcbiAgICAgIGNoaWxkTm9kZVtcInMtb2xcIl0gPSB2b2lkIDA7XG4gICAgICBjaGlsZE5vZGVbXCJzLXNoXCJdID0gdm9pZCAwO1xuICAgICAgY2hlY2tTbG90UmVsb2NhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAocmVjdXJzaXZlKSB7XG4gICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKGNoaWxkTm9kZSwgcmVjdXJzaXZlKTtcbiAgICB9XG4gIH1cbiAgcGx0LiRmbGFncyQgJj0gfjEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi87XG59O1xudmFyIGFkZFZub2RlcyA9IChwYXJlbnRFbG0sIGJlZm9yZSwgcGFyZW50Vk5vZGUsIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkgPT4ge1xuICBsZXQgY29udGFpbmVyRWxtID0gcGFyZW50RWxtW1wicy1jclwiXSAmJiBwYXJlbnRFbG1bXCJzLWNyXCJdLnBhcmVudE5vZGUgfHwgcGFyZW50RWxtO1xuICBsZXQgY2hpbGROb2RlO1xuICBpZiAoY29udGFpbmVyRWxtLnNoYWRvd1Jvb3QgJiYgY29udGFpbmVyRWxtLnRhZ05hbWUgPT09IGhvc3RUYWdOYW1lKSB7XG4gICAgY29udGFpbmVyRWxtID0gY29udGFpbmVyRWxtLnNoYWRvd1Jvb3Q7XG4gIH1cbiAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgIGlmICh2bm9kZXNbc3RhcnRJZHhdKSB7XG4gICAgICBjaGlsZE5vZGUgPSBjcmVhdGVFbG0obnVsbCwgcGFyZW50Vk5vZGUsIHN0YXJ0SWR4LCBwYXJlbnRFbG0pO1xuICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICB2bm9kZXNbc3RhcnRJZHhdLiRlbG0kID0gY2hpbGROb2RlO1xuICAgICAgICBpbnNlcnRCZWZvcmUoY29udGFpbmVyRWxtLCBjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUoYmVmb3JlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIHJlbW92ZVZub2RlcyA9ICh2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgpID0+IHtcbiAgZm9yIChsZXQgaW5kZXggPSBzdGFydElkeDsgaW5kZXggPD0gZW5kSWR4OyArK2luZGV4KSB7XG4gICAgY29uc3Qgdm5vZGUgPSB2bm9kZXNbaW5kZXhdO1xuICAgIGlmICh2bm9kZSkge1xuICAgICAgY29uc3QgZWxtID0gdm5vZGUuJGVsbSQ7XG4gICAgICBudWxsaWZ5Vk5vZGVSZWZzKHZub2RlKTtcbiAgICAgIGlmIChlbG0pIHtcbiAgICAgICAge1xuICAgICAgICAgIGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgaWYgKGVsbVtcInMtb2xcIl0pIHtcbiAgICAgICAgICAgIGVsbVtcInMtb2xcIl0ucmVtb3ZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24oZWxtLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxtLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbnZhciB1cGRhdGVDaGlsZHJlbiA9IChwYXJlbnRFbG0sIG9sZENoLCBuZXdWTm9kZTIsIG5ld0NoLCBpc0luaXRpYWxSZW5kZXIgPSBmYWxzZSkgPT4ge1xuICBsZXQgb2xkU3RhcnRJZHggPSAwO1xuICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICBsZXQgaWR4SW5PbGQgPSAwO1xuICBsZXQgaTIgPSAwO1xuICBsZXQgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgbGV0IG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFswXTtcbiAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgbGV0IG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gIGxldCBuZXdTdGFydFZub2RlID0gbmV3Q2hbMF07XG4gIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gIGxldCBub2RlO1xuICBsZXQgZWxtVG9Nb3ZlO1xuICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgIGlmIChvbGRTdGFydFZub2RlID09IG51bGwpIHtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICB9IGVsc2UgaWYgKG9sZEVuZFZub2RlID09IG51bGwpIHtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAobmV3U3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIGlmIChuZXdFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKGlzU2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGlzSW5pdGlhbFJlbmRlcikpIHtcbiAgICAgIHBhdGNoKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGlzSW5pdGlhbFJlbmRlcik7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGlzSW5pdGlhbFJlbmRlcikpIHtcbiAgICAgIHBhdGNoKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgaXNJbml0aWFsUmVuZGVyKTtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaXNJbml0aWFsUmVuZGVyKSkge1xuICAgICAgaWYgKG9sZFN0YXJ0Vm5vZGUuJHRhZyQgPT09IFwic2xvdFwiIHx8IG5ld0VuZFZub2RlLiR0YWckID09PSBcInNsb3RcIikge1xuICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKG9sZFN0YXJ0Vm5vZGUuJGVsbSQucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgfVxuICAgICAgcGF0Y2gob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGlzSW5pdGlhbFJlbmRlcik7XG4gICAgICBpbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRTdGFydFZub2RlLiRlbG0kLCBvbGRFbmRWbm9kZS4kZWxtJC5uZXh0U2libGluZyk7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKGlzU2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlLCBpc0luaXRpYWxSZW5kZXIpKSB7XG4gICAgICBpZiAob2xkU3RhcnRWbm9kZS4kdGFnJCA9PT0gXCJzbG90XCIgfHwgbmV3RW5kVm5vZGUuJHRhZyQgPT09IFwic2xvdFwiKSB7XG4gICAgICAgIHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24ob2xkRW5kVm5vZGUuJGVsbSQucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgfVxuICAgICAgcGF0Y2gob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGlzSW5pdGlhbFJlbmRlcik7XG4gICAgICBpbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS4kZWxtJCwgb2xkU3RhcnRWbm9kZS4kZWxtJCk7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWR4SW5PbGQgPSAtMTtcbiAgICAgIHtcbiAgICAgICAgZm9yIChpMiA9IG9sZFN0YXJ0SWR4OyBpMiA8PSBvbGRFbmRJZHg7ICsraTIpIHtcbiAgICAgICAgICBpZiAob2xkQ2hbaTJdICYmIG9sZENoW2kyXS4ka2V5JCAhPT0gbnVsbCAmJiBvbGRDaFtpMl0uJGtleSQgPT09IG5ld1N0YXJ0Vm5vZGUuJGtleSQpIHtcbiAgICAgICAgICAgIGlkeEluT2xkID0gaTI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpZHhJbk9sZCA+PSAwKSB7XG4gICAgICAgIGVsbVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcbiAgICAgICAgaWYgKGVsbVRvTW92ZS4kdGFnJCAhPT0gbmV3U3RhcnRWbm9kZS4kdGFnJCkge1xuICAgICAgICAgIG5vZGUgPSBjcmVhdGVFbG0ob2xkQ2ggJiYgb2xkQ2hbbmV3U3RhcnRJZHhdLCBuZXdWTm9kZTIsIGlkeEluT2xkLCBwYXJlbnRFbG0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaXNJbml0aWFsUmVuZGVyKTtcbiAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB2b2lkIDA7XG4gICAgICAgICAgbm9kZSA9IGVsbVRvTW92ZS4kZWxtJDtcbiAgICAgICAgfVxuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gY3JlYXRlRWxtKG9sZENoICYmIG9sZENoW25ld1N0YXJ0SWR4XSwgbmV3Vk5vZGUyLCBuZXdTdGFydElkeCwgcGFyZW50RWxtKTtcbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAge1xuICAgICAgICAgIGluc2VydEJlZm9yZShwYXJlbnRSZWZlcmVuY2VOb2RlKG9sZFN0YXJ0Vm5vZGUuJGVsbSQpLCBub2RlLCByZWZlcmVuY2VOb2RlKG9sZFN0YXJ0Vm5vZGUuJGVsbSQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcbiAgICBhZGRWbm9kZXMocGFyZW50RWxtLCBuZXdDaFtuZXdFbmRJZHggKyAxXSA9PSBudWxsID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLiRlbG0kLCBuZXdWTm9kZTIsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4KTtcbiAgfSBlbHNlIGlmIChuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xuICAgIHJlbW92ZVZub2RlcyhvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gIH1cbn07XG52YXIgaXNTYW1lVm5vZGUgPSAobGVmdFZOb2RlLCByaWdodFZOb2RlLCBpc0luaXRpYWxSZW5kZXIgPSBmYWxzZSkgPT4ge1xuICBpZiAobGVmdFZOb2RlLiR0YWckID09PSByaWdodFZOb2RlLiR0YWckKSB7XG4gICAgaWYgKGxlZnRWTm9kZS4kdGFnJCA9PT0gXCJzbG90XCIpIHtcbiAgICAgIGlmIChcbiAgICAgIC8vIFRoZSBjb21wb25lbnQgZ2V0cyBoeWRyYXRlZCBhbmQgbm8gVkRPTSBoYXMgYmVlbiBpbml0aWFsaXplZC5cbiAgICAgIC8vIEhlcmUgdGhlIGNvbXBhcmlzb24gY2FuJ3QgaGFwcGVuIGFzICRuYW1lJCBwcm9wZXJ0eSBpcyBub3Qgc2V0IGZvciBgbGVmdE5vZGVgLlxuICAgICAgXCIkbm9kZUlkJFwiIGluIGxlZnRWTm9kZSAmJiBpc0luaXRpYWxSZW5kZXIgJiZcbiAgICAgIC8vIGBsZWZ0Tm9kZWAgaXMgbm90IGZyb20gdHlwZSBIVE1MQ29tbWVudCB3aGljaCB3b3VsZCBjYXVzZSBtYW55XG4gICAgICAvLyBoeWRyYXRpb24gY29tbWVudHMgdG8gYmUgcmVtb3ZlZFxuICAgICAgbGVmdFZOb2RlLiRlbG0kLm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZWZ0Vk5vZGUuJG5hbWUkID09PSByaWdodFZOb2RlLiRuYW1lJDtcbiAgICB9XG4gICAgaWYgKCFpc0luaXRpYWxSZW5kZXIpIHtcbiAgICAgIHJldHVybiBsZWZ0Vk5vZGUuJGtleSQgPT09IHJpZ2h0Vk5vZGUuJGtleSQ7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG52YXIgcmVmZXJlbmNlTm9kZSA9IG5vZGUgPT4ge1xuICByZXR1cm4gbm9kZSAmJiBub2RlW1wicy1vbFwiXSB8fCBub2RlO1xufTtcbnZhciBwYXJlbnRSZWZlcmVuY2VOb2RlID0gbm9kZSA9PiAobm9kZVtcInMtb2xcIl0gPyBub2RlW1wicy1vbFwiXSA6IG5vZGUpLnBhcmVudE5vZGU7XG52YXIgcGF0Y2ggPSAob2xkVk5vZGUsIG5ld1ZOb2RlMiwgaXNJbml0aWFsUmVuZGVyID0gZmFsc2UpID0+IHtcbiAgY29uc3QgZWxtID0gbmV3Vk5vZGUyLiRlbG0kID0gb2xkVk5vZGUuJGVsbSQ7XG4gIGNvbnN0IG9sZENoaWxkcmVuID0gb2xkVk5vZGUuJGNoaWxkcmVuJDtcbiAgY29uc3QgbmV3Q2hpbGRyZW4gPSBuZXdWTm9kZTIuJGNoaWxkcmVuJDtcbiAgY29uc3QgdGFnID0gbmV3Vk5vZGUyLiR0YWckO1xuICBjb25zdCB0ZXh0ID0gbmV3Vk5vZGUyLiR0ZXh0JDtcbiAgbGV0IGRlZmF1bHRIb2xkZXI7XG4gIGlmICh0ZXh0ID09PSBudWxsKSB7XG4gICAge1xuICAgICAgaXNTdmdNb2RlID0gdGFnID09PSBcInN2Z1wiID8gdHJ1ZSA6IHRhZyA9PT0gXCJmb3JlaWduT2JqZWN0XCIgPyBmYWxzZSA6IGlzU3ZnTW9kZTtcbiAgICB9XG4gICAge1xuICAgICAgaWYgKHRhZyA9PT0gXCJzbG90XCIgJiYgIXVzZU5hdGl2ZVNoYWRvd0RvbSkge1xuICAgICAgICBpZiAob2xkVk5vZGUuJG5hbWUkICE9PSBuZXdWTm9kZTIuJG5hbWUkKSB7XG4gICAgICAgICAgbmV3Vk5vZGUyLiRlbG0kW1wicy1zblwiXSA9IG5ld1ZOb2RlMi4kbmFtZSQgfHwgXCJcIjtcbiAgICAgICAgICByZWxvY2F0ZVRvSG9zdFJvb3QobmV3Vk5vZGUyLiRlbG0kLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVFbGVtZW50KG9sZFZOb2RlLCBuZXdWTm9kZTIsIGlzU3ZnTW9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbGRDaGlsZHJlbiAhPT0gbnVsbCAmJiBuZXdDaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaGlsZHJlbiwgbmV3Vk5vZGUyLCBuZXdDaGlsZHJlbiwgaXNJbml0aWFsUmVuZGVyKTtcbiAgICB9IGVsc2UgaWYgKG5ld0NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICBpZiAob2xkVk5vZGUuJHRleHQkICE9PSBudWxsKSB7XG4gICAgICAgIGVsbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBhZGRWbm9kZXMoZWxtLCBudWxsLCBuZXdWTm9kZTIsIG5ld0NoaWxkcmVuLCAwLCBuZXdDaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgIC8vIGRvbid0IGRvIHRoaXMgb24gaW5pdGlhbCByZW5kZXIgYXMgaXQgY2FuIGNhdXNlIG5vbi1oeWRyYXRlZCBjb250ZW50IHRvIGJlIHJlbW92ZWRcbiAgICAhaXNJbml0aWFsUmVuZGVyICYmIEJVSUxELnVwZGF0YWJsZSAmJiBvbGRDaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoaWxkcmVuLCAwLCBvbGRDaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKGlzU3ZnTW9kZSAmJiB0YWcgPT09IFwic3ZnXCIpIHtcbiAgICAgIGlzU3ZnTW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWZhdWx0SG9sZGVyID0gZWxtW1wicy1jclwiXSkge1xuICAgIGRlZmF1bHRIb2xkZXIucGFyZW50Tm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH0gZWxzZSBpZiAob2xkVk5vZGUuJHRleHQkICE9PSB0ZXh0KSB7XG4gICAgZWxtLmRhdGEgPSB0ZXh0O1xuICB9XG59O1xudmFyIHVwZGF0ZUZhbGxiYWNrU2xvdFZpc2liaWxpdHkgPSBlbG0gPT4ge1xuICBjb25zdCBjaGlsZE5vZGVzID0gZWxtLmNoaWxkTm9kZXM7XG4gIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIGNoaWxkTm9kZXMpIHtcbiAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICBpZiAoY2hpbGROb2RlW1wicy1zclwiXSkge1xuICAgICAgICBjb25zdCBzbG90TmFtZSA9IGNoaWxkTm9kZVtcInMtc25cIl07XG4gICAgICAgIGNoaWxkTm9kZS5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBzaWJsaW5nTm9kZSBvZiBjaGlsZE5vZGVzKSB7XG4gICAgICAgICAgaWYgKHNpYmxpbmdOb2RlICE9PSBjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChzaWJsaW5nTm9kZVtcInMtaG5cIl0gIT09IGNoaWxkTm9kZVtcInMtaG5cIl0gfHwgc2xvdE5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgaWYgKHNpYmxpbmdOb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovICYmIChzbG90TmFtZSA9PT0gc2libGluZ05vZGUuZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBzbG90TmFtZSA9PT0gc2libGluZ05vZGVbXCJzLXNuXCJdKSB8fCBzaWJsaW5nTm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0Tm9kZSAqLyAmJiBzbG90TmFtZSA9PT0gc2libGluZ05vZGVbXCJzLXNuXCJdKSB7XG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChzaWJsaW5nTm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLyB8fCBzaWJsaW5nTm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0Tm9kZSAqLyAmJiBzaWJsaW5nTm9kZS50ZXh0Q29udGVudC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eShjaGlsZE5vZGUpO1xuICAgIH1cbiAgfVxufTtcbnZhciByZWxvY2F0ZU5vZGVzID0gW107XG52YXIgbWFya1Nsb3RDb250ZW50Rm9yUmVsb2NhdGlvbiA9IGVsbSA9PiB7XG4gIGxldCBub2RlO1xuICBsZXQgaG9zdENvbnRlbnROb2RlcztcbiAgbGV0IGo7XG4gIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIGVsbS5jaGlsZE5vZGVzKSB7XG4gICAgaWYgKGNoaWxkTm9kZVtcInMtc3JcIl0gJiYgKG5vZGUgPSBjaGlsZE5vZGVbXCJzLWNyXCJdKSAmJiBub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIGhvc3RDb250ZW50Tm9kZXMgPSBub2RlLnBhcmVudE5vZGUuY2hpbGROb2RlcztcbiAgICAgIGNvbnN0IHNsb3ROYW1lID0gY2hpbGROb2RlW1wicy1zblwiXTtcbiAgICAgIGZvciAoaiA9IGhvc3RDb250ZW50Tm9kZXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgbm9kZSA9IGhvc3RDb250ZW50Tm9kZXNbal07XG4gICAgICAgIGlmICghbm9kZVtcInMtY25cIl0gJiYgIW5vZGVbXCJzLW5yXCJdICYmIG5vZGVbXCJzLWhuXCJdICE9PSBjaGlsZE5vZGVbXCJzLWhuXCJdICYmICghbm9kZVtcInMtc2hcIl0gfHwgbm9kZVtcInMtc2hcIl0gIT09IGNoaWxkTm9kZVtcInMtaG5cIl0pKSB7XG4gICAgICAgICAgaWYgKGlzTm9kZUxvY2F0ZWRJblNsb3Qobm9kZSwgc2xvdE5hbWUpKSB7XG4gICAgICAgICAgICBsZXQgcmVsb2NhdGVOb2RlRGF0YSA9IHJlbG9jYXRlTm9kZXMuZmluZChyID0+IHIuJG5vZGVUb1JlbG9jYXRlJCA9PT0gbm9kZSk7XG4gICAgICAgICAgICBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgbm9kZVtcInMtc25cIl0gPSBub2RlW1wicy1zblwiXSB8fCBzbG90TmFtZTtcbiAgICAgICAgICAgIGlmIChyZWxvY2F0ZU5vZGVEYXRhKSB7XG4gICAgICAgICAgICAgIHJlbG9jYXRlTm9kZURhdGEuJG5vZGVUb1JlbG9jYXRlJFtcInMtc2hcIl0gPSBjaGlsZE5vZGVbXCJzLWhuXCJdO1xuICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVEYXRhLiRzbG90UmVmTm9kZSQgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBub2RlW1wicy1zaFwiXSA9IGNoaWxkTm9kZVtcInMtaG5cIl07XG4gICAgICAgICAgICAgIHJlbG9jYXRlTm9kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgJHNsb3RSZWZOb2RlJDogY2hpbGROb2RlLFxuICAgICAgICAgICAgICAgICRub2RlVG9SZWxvY2F0ZSQ6IG5vZGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZVtcInMtc3JcIl0pIHtcbiAgICAgICAgICAgICAgcmVsb2NhdGVOb2Rlcy5tYXAocmVsb2NhdGVOb2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOb2RlTG9jYXRlZEluU2xvdChyZWxvY2F0ZU5vZGUuJG5vZGVUb1JlbG9jYXRlJCwgbm9kZVtcInMtc25cIl0pKSB7XG4gICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVEYXRhID0gcmVsb2NhdGVOb2Rlcy5maW5kKHIgPT4gci4kbm9kZVRvUmVsb2NhdGUkID09PSBub2RlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChyZWxvY2F0ZU5vZGVEYXRhICYmICFyZWxvY2F0ZU5vZGUuJHNsb3RSZWZOb2RlJCkge1xuICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGUuJHNsb3RSZWZOb2RlJCA9IHJlbG9jYXRlTm9kZURhdGEuJHNsb3RSZWZOb2RlJDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIXJlbG9jYXRlTm9kZXMuc29tZShyID0+IHIuJG5vZGVUb1JlbG9jYXRlJCA9PT0gbm9kZSkpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlTm9kZXMucHVzaCh7XG4gICAgICAgICAgICAgICRub2RlVG9SZWxvY2F0ZSQ6IG5vZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICBtYXJrU2xvdENvbnRlbnRGb3JSZWxvY2F0aW9uKGNoaWxkTm9kZSk7XG4gICAgfVxuICB9XG59O1xudmFyIGlzTm9kZUxvY2F0ZWRJblNsb3QgPSAobm9kZVRvUmVsb2NhdGUsIHNsb3ROYW1lKSA9PiB7XG4gIGlmIChub2RlVG9SZWxvY2F0ZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgIGlmIChub2RlVG9SZWxvY2F0ZS5nZXRBdHRyaWJ1dGUoXCJzbG90XCIpID09PSBudWxsICYmIHNsb3ROYW1lID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGVUb1JlbG9jYXRlLmdldEF0dHJpYnV0ZShcInNsb3RcIikgPT09IHNsb3ROYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChub2RlVG9SZWxvY2F0ZVtcInMtc25cIl0gPT09IHNsb3ROYW1lKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHNsb3ROYW1lID09PSBcIlwiO1xufTtcbnZhciBudWxsaWZ5Vk5vZGVSZWZzID0gdk5vZGUgPT4ge1xuICB7XG4gICAgdk5vZGUuJGF0dHJzJCAmJiB2Tm9kZS4kYXR0cnMkLnJlZiAmJiB2Tm9kZS4kYXR0cnMkLnJlZihudWxsKTtcbiAgICB2Tm9kZS4kY2hpbGRyZW4kICYmIHZOb2RlLiRjaGlsZHJlbiQubWFwKG51bGxpZnlWTm9kZVJlZnMpO1xuICB9XG59O1xudmFyIGluc2VydEJlZm9yZSA9IChwYXJlbnQsIG5ld05vZGUsIHJlZmVyZW5jZSkgPT4ge1xuICBjb25zdCBpbnNlcnRlZCA9IHBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50Lmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2UpO1xuICB7XG4gICAgdXBkYXRlRWxlbWVudFNjb3BlSWRzKG5ld05vZGUsIHBhcmVudCk7XG4gIH1cbiAgcmV0dXJuIGluc2VydGVkO1xufTtcbnZhciBmaW5kU2NvcGVJZHMgPSBlbGVtZW50ID0+IHtcbiAgY29uc3Qgc2NvcGVJZHMgPSBbXTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBzY29wZUlkcy5wdXNoKC4uLihlbGVtZW50W1wicy1zY3NcIl0gfHwgW10pLCBlbGVtZW50W1wicy1zaVwiXSwgZWxlbWVudFtcInMtc2NcIl0sIC4uLmZpbmRTY29wZUlkcyhlbGVtZW50LnBhcmVudEVsZW1lbnQpKTtcbiAgfVxuICByZXR1cm4gc2NvcGVJZHM7XG59O1xudmFyIHVwZGF0ZUVsZW1lbnRTY29wZUlkcyA9IChlbGVtZW50LCBwYXJlbnQsIGl0ZXJhdGVDaGlsZE5vZGVzID0gZmFsc2UpID0+IHtcbiAgdmFyIF9hO1xuICBpZiAoZWxlbWVudCAmJiBwYXJlbnQgJiYgZWxlbWVudC5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgIGNvbnN0IHNjb3BlSWRzID0gbmV3IFNldChmaW5kU2NvcGVJZHMocGFyZW50KS5maWx0ZXIoQm9vbGVhbikpO1xuICAgIGlmIChzY29wZUlkcy5zaXplKSB7XG4gICAgICAoX2EgPSBlbGVtZW50LmNsYXNzTGlzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFkZCguLi4oZWxlbWVudFtcInMtc2NzXCJdID0gWy4uLnNjb3BlSWRzXSkpO1xuICAgICAgaWYgKGVsZW1lbnRbXCJzLW9sXCJdIHx8IGl0ZXJhdGVDaGlsZE5vZGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKSkge1xuICAgICAgICAgIHVwZGF0ZUVsZW1lbnRTY29wZUlkcyhjaGlsZE5vZGUsIGVsZW1lbnQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIHJlbmRlclZkb20gPSAoaG9zdFJlZiwgcmVuZGVyRm5SZXN1bHRzLCBpc0luaXRpYWxMb2FkID0gZmFsc2UpID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgY29uc3QgaG9zdEVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICBjb25zdCBvbGRWTm9kZSA9IGhvc3RSZWYuJHZub2RlJCB8fCBuZXdWTm9kZShudWxsLCBudWxsKTtcbiAgY29uc3Qgcm9vdFZub2RlID0gaXNIb3N0KHJlbmRlckZuUmVzdWx0cykgPyByZW5kZXJGblJlc3VsdHMgOiBoKG51bGwsIG51bGwsIHJlbmRlckZuUmVzdWx0cyk7XG4gIGhvc3RUYWdOYW1lID0gaG9zdEVsbS50YWdOYW1lO1xuICBpZiAoY21wTWV0YS4kYXR0cnNUb1JlZmxlY3QkKSB7XG4gICAgcm9vdFZub2RlLiRhdHRycyQgPSByb290Vm5vZGUuJGF0dHJzJCB8fCB7fTtcbiAgICBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQubWFwKChbcHJvcE5hbWUsIGF0dHJpYnV0ZV0pID0+IHJvb3RWbm9kZS4kYXR0cnMkW2F0dHJpYnV0ZV0gPSBob3N0RWxtW3Byb3BOYW1lXSk7XG4gIH1cbiAgaWYgKGlzSW5pdGlhbExvYWQgJiYgcm9vdFZub2RlLiRhdHRycyQpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyb290Vm5vZGUuJGF0dHJzJCkpIHtcbiAgICAgIGlmIChob3N0RWxtLmhhc0F0dHJpYnV0ZShrZXkpICYmICFbXCJrZXlcIiwgXCJyZWZcIiwgXCJzdHlsZVwiLCBcImNsYXNzXCJdLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgcm9vdFZub2RlLiRhdHRycyRba2V5XSA9IGhvc3RFbG1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcm9vdFZub2RlLiR0YWckID0gbnVsbDtcbiAgcm9vdFZub2RlLiRmbGFncyQgfD0gNCAvKiBpc0hvc3QgKi87XG4gIGhvc3RSZWYuJHZub2RlJCA9IHJvb3RWbm9kZTtcbiAgcm9vdFZub2RlLiRlbG0kID0gb2xkVk5vZGUuJGVsbSQgPSBob3N0RWxtLnNoYWRvd1Jvb3QgfHwgaG9zdEVsbTtcbiAge1xuICAgIHNjb3BlSWQgPSBob3N0RWxtW1wicy1zY1wiXTtcbiAgfVxuICB1c2VOYXRpdmVTaGFkb3dEb20gPSAoY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSAhPT0gMDtcbiAge1xuICAgIGNvbnRlbnRSZWYgPSBob3N0RWxtW1wicy1jclwiXTtcbiAgICBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSBmYWxzZTtcbiAgfVxuICBwYXRjaChvbGRWTm9kZSwgcm9vdFZub2RlLCBpc0luaXRpYWxMb2FkKTtcbiAge1xuICAgIHBsdC4kZmxhZ3MkIHw9IDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi87XG4gICAgaWYgKGNoZWNrU2xvdFJlbG9jYXRlKSB7XG4gICAgICBtYXJrU2xvdENvbnRlbnRGb3JSZWxvY2F0aW9uKHJvb3RWbm9kZS4kZWxtJCk7XG4gICAgICBmb3IgKGNvbnN0IHJlbG9jYXRlRGF0YSBvZiByZWxvY2F0ZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGVUb1JlbG9jYXRlID0gcmVsb2NhdGVEYXRhLiRub2RlVG9SZWxvY2F0ZSQ7XG4gICAgICAgIGlmICghbm9kZVRvUmVsb2NhdGVbXCJzLW9sXCJdKSB7XG4gICAgICAgICAgY29uc3Qgb3JnTG9jYXRpb25Ob2RlID0gZG9jLmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZVtcInMtbnJcIl0gPSBub2RlVG9SZWxvY2F0ZTtcbiAgICAgICAgICBpbnNlcnRCZWZvcmUobm9kZVRvUmVsb2NhdGUucGFyZW50Tm9kZSwgbm9kZVRvUmVsb2NhdGVbXCJzLW9sXCJdID0gb3JnTG9jYXRpb25Ob2RlLCBub2RlVG9SZWxvY2F0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcmVsb2NhdGVEYXRhIG9mIHJlbG9jYXRlTm9kZXMpIHtcbiAgICAgICAgY29uc3Qgbm9kZVRvUmVsb2NhdGUgPSByZWxvY2F0ZURhdGEuJG5vZGVUb1JlbG9jYXRlJDtcbiAgICAgICAgY29uc3Qgc2xvdFJlZk5vZGUgPSByZWxvY2F0ZURhdGEuJHNsb3RSZWZOb2RlJDtcbiAgICAgICAgaWYgKHNsb3RSZWZOb2RlKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50Tm9kZVJlZiA9IHNsb3RSZWZOb2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgbGV0IGluc2VydEJlZm9yZU5vZGUgPSBzbG90UmVmTm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlTm9kZSAmJiBpbnNlcnRCZWZvcmVOb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgICAgICBsZXQgb3JnTG9jYXRpb25Ob2RlID0gKF9hID0gbm9kZVRvUmVsb2NhdGVbXCJzLW9sXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2EucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgd2hpbGUgKG9yZ0xvY2F0aW9uTm9kZSkge1xuICAgICAgICAgICAgICBsZXQgcmVmTm9kZSA9IChfYiA9IG9yZ0xvY2F0aW9uTm9kZVtcInMtbnJcIl0pICE9IG51bGwgPyBfYiA6IG51bGw7XG4gICAgICAgICAgICAgIGlmIChyZWZOb2RlICYmIHJlZk5vZGVbXCJzLXNuXCJdID09PSBub2RlVG9SZWxvY2F0ZVtcInMtc25cIl0gJiYgcGFyZW50Tm9kZVJlZiA9PT0gcmVmTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVmTm9kZSA9IHJlZk5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlZk5vZGUgPT09IG5vZGVUb1JlbG9jYXRlIHx8IChyZWZOb2RlID09IG51bGwgPyB2b2lkIDAgOiByZWZOb2RlW1wicy1zclwiXSkpIHtcbiAgICAgICAgICAgICAgICAgIHJlZk5vZGUgPSByZWZOb2RlID09IG51bGwgPyB2b2lkIDAgOiByZWZOb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXJlZk5vZGUgfHwgIXJlZk5vZGVbXCJzLW5yXCJdKSB7XG4gICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVOb2RlID0gcmVmTm9kZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGUgPSBvcmdMb2NhdGlvbk5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWluc2VydEJlZm9yZU5vZGUgJiYgcGFyZW50Tm9kZVJlZiAhPT0gbm9kZVRvUmVsb2NhdGUucGFyZW50Tm9kZSB8fCBub2RlVG9SZWxvY2F0ZS5uZXh0U2libGluZyAhPT0gaW5zZXJ0QmVmb3JlTm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGVUb1JlbG9jYXRlICE9PSBpbnNlcnRCZWZvcmVOb2RlKSB7XG4gICAgICAgICAgICAgIGluc2VydEJlZm9yZShwYXJlbnROb2RlUmVmLCBub2RlVG9SZWxvY2F0ZSwgaW5zZXJ0QmVmb3JlTm9kZSk7XG4gICAgICAgICAgICAgIGlmIChub2RlVG9SZWxvY2F0ZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICAgICAgICAgIG5vZGVUb1JlbG9jYXRlLmhpZGRlbiA9IChfYyA9IG5vZGVUb1JlbG9jYXRlW1wicy1paFwiXSkgIT0gbnVsbCA/IF9jIDogZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZVRvUmVsb2NhdGUgJiYgdHlwZW9mIHNsb3RSZWZOb2RlW1wicy1yZlwiXSA9PT0gXCJmdW5jdGlvblwiICYmIHNsb3RSZWZOb2RlW1wicy1yZlwiXShub2RlVG9SZWxvY2F0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGVUb1JlbG9jYXRlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgICAgICBpZiAoaXNJbml0aWFsTG9hZCkge1xuICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZVtcInMtaWhcIl0gPSAoX2QgPSBub2RlVG9SZWxvY2F0ZS5oaWRkZW4pICE9IG51bGwgPyBfZCA6IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZVRvUmVsb2NhdGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSkge1xuICAgICAgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eShyb290Vm5vZGUuJGVsbSQpO1xuICAgIH1cbiAgICBwbHQuJGZsYWdzJCAmPSB+MSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLztcbiAgICByZWxvY2F0ZU5vZGVzLmxlbmd0aCA9IDA7XG4gIH1cbiAgaWYgKGNtcE1ldGEuJGZsYWdzJCAmIDIgLyogc2NvcGVkQ3NzRW5jYXBzdWxhdGlvbiAqLykge1xuICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIHJvb3RWbm9kZS4kZWxtJC5jaGlsZE5vZGVzKSB7XG4gICAgICBpZiAoY2hpbGROb2RlW1wicy1oblwiXSAhPT0gaG9zdFRhZ05hbWUgJiYgIWNoaWxkTm9kZVtcInMtc2hcIl0pIHtcbiAgICAgICAgaWYgKGlzSW5pdGlhbExvYWQgJiYgY2hpbGROb2RlW1wicy1paFwiXSA9PSBudWxsKSB7XG4gICAgICAgICAgY2hpbGROb2RlW1wicy1paFwiXSA9IChfZSA9IGNoaWxkTm9kZS5oaWRkZW4pICE9IG51bGwgPyBfZSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkTm9kZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb250ZW50UmVmID0gdm9pZCAwO1xufTtcblxuLy8gc3JjL3J1bnRpbWUvdXBkYXRlLWNvbXBvbmVudC50c1xudmFyIGF0dGFjaFRvQW5jZXN0b3IgPSAoaG9zdFJlZiwgYW5jZXN0b3JDb21wb25lbnQpID0+IHtcbiAgaWYgKGFuY2VzdG9yQ29tcG9uZW50ICYmICFob3N0UmVmLiRvblJlbmRlclJlc29sdmUkICYmIGFuY2VzdG9yQ29tcG9uZW50W1wicy1wXCJdKSB7XG4gICAgYW5jZXN0b3JDb21wb25lbnRbXCJzLXBcIl0ucHVzaChuZXcgUHJvbWlzZShyID0+IGhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQgPSByKSk7XG4gIH1cbn07XG52YXIgc2NoZWR1bGVVcGRhdGUgPSAoaG9zdFJlZiwgaXNJbml0aWFsTG9hZCkgPT4ge1xuICB7XG4gICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDE2IC8qIGlzUXVldWVkRm9yVXBkYXRlICovO1xuICB9XG4gIGlmIChob3N0UmVmLiRmbGFncyQgJiA0IC8qIGlzV2FpdGluZ0ZvckNoaWxkcmVuICovKSB7XG4gICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDUxMiAvKiBuZWVkc1JlcmVuZGVyICovO1xuICAgIHJldHVybjtcbiAgfVxuICBhdHRhY2hUb0FuY2VzdG9yKGhvc3RSZWYsIGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JCk7XG4gIGNvbnN0IGRpc3BhdGNoID0gKCkgPT4gZGlzcGF0Y2hIb29rcyhob3N0UmVmLCBpc0luaXRpYWxMb2FkKTtcbiAgcmV0dXJuIHdyaXRlVGFzayhkaXNwYXRjaCk7XG59O1xudmFyIGRpc3BhdGNoSG9va3MgPSAoaG9zdFJlZiwgaXNJbml0aWFsTG9hZCkgPT4ge1xuICBjb25zdCBlbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGVuZFNjaGVkdWxlID0gY3JlYXRlVGltZShcInNjaGVkdWxlVXBkYXRlXCIsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gIGNvbnN0IGluc3RhbmNlID0gaG9zdFJlZi4kbGF6eUluc3RhbmNlJDtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgcmVuZGVyIGNvbXBvbmVudCA8JHtlbG0udGFnTmFtZS50b0xvd2VyQ2FzZSgpfSAvPiB3aXRoIGludmFsaWQgU3RlbmNpbCBydW50aW1lISBNYWtlIHN1cmUgdGhpcyBpbXBvcnRlZCBjb21wb25lbnQgaXMgY29tcGlsZWQgd2l0aCBhIFxcYGV4dGVybmFsUnVudGltZTogdHJ1ZVxcYCBmbGFnLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vc3RlbmNpbGpzLmNvbS9kb2NzL2N1c3RvbS1lbGVtZW50cyNleHRlcm5hbHJ1bnRpbWVgKTtcbiAgfVxuICBsZXQgbWF5YmVQcm9taXNlO1xuICBpZiAoaXNJbml0aWFsTG9hZCkge1xuICAgIHtcbiAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLztcbiAgICAgIGlmIChob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkKSB7XG4gICAgICAgIGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQubWFwKChbbWV0aG9kTmFtZSwgZXZlbnRdKSA9PiBzYWZlQ2FsbChpbnN0YW5jZSwgbWV0aG9kTmFtZSwgZXZlbnQpKTtcbiAgICAgICAgaG9zdFJlZi4kcXVldWVkTGlzdGVuZXJzJCA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgbWF5YmVQcm9taXNlID0gc2FmZUNhbGwoaW5zdGFuY2UsIFwiY29tcG9uZW50V2lsbExvYWRcIik7XG4gICAgfVxuICB9XG4gIHtcbiAgICBtYXliZVByb21pc2UgPSBlbnF1ZXVlKG1heWJlUHJvbWlzZSwgKCkgPT4gc2FmZUNhbGwoaW5zdGFuY2UsIFwiY29tcG9uZW50V2lsbFJlbmRlclwiKSk7XG4gIH1cbiAgZW5kU2NoZWR1bGUoKTtcbiAgcmV0dXJuIGVucXVldWUobWF5YmVQcm9taXNlLCAoKSA9PiB1cGRhdGVDb21wb25lbnQoaG9zdFJlZiwgaW5zdGFuY2UsIGlzSW5pdGlhbExvYWQpKTtcbn07XG52YXIgZW5xdWV1ZSA9IChtYXliZVByb21pc2UsIGZuKSA9PiBpc1Byb21pc2V5KG1heWJlUHJvbWlzZSkgPyBtYXliZVByb21pc2UudGhlbihmbikuY2F0Y2goZXJyMiA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyMik7XG4gIGZuKCk7XG59KSA6IGZuKCk7XG52YXIgaXNQcm9taXNleSA9IG1heWJlUHJvbWlzZSA9PiBtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlIHx8IG1heWJlUHJvbWlzZSAmJiBtYXliZVByb21pc2UudGhlbiAmJiB0eXBlb2YgbWF5YmVQcm9taXNlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbnZhciB1cGRhdGVDb21wb25lbnQgPSBhc3luYyAoaG9zdFJlZiwgaW5zdGFuY2UsIGlzSW5pdGlhbExvYWQpID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCBlbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGVuZFVwZGF0ZSA9IGNyZWF0ZVRpbWUoXCJ1cGRhdGVcIiwgaG9zdFJlZi4kY21wTWV0YSQuJHRhZ05hbWUkKTtcbiAgY29uc3QgcmMgPSBlbG1bXCJzLXJjXCJdO1xuICBpZiAoaXNJbml0aWFsTG9hZCkge1xuICAgIGF0dGFjaFN0eWxlcyhob3N0UmVmKTtcbiAgfVxuICBjb25zdCBlbmRSZW5kZXIgPSBjcmVhdGVUaW1lKFwicmVuZGVyXCIsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gIHtcbiAgICBjYWxsUmVuZGVyKGhvc3RSZWYsIGluc3RhbmNlLCBlbG0sIGlzSW5pdGlhbExvYWQpO1xuICB9XG4gIGlmIChyYykge1xuICAgIHJjLm1hcChjYiA9PiBjYigpKTtcbiAgICBlbG1bXCJzLXJjXCJdID0gdm9pZCAwO1xuICB9XG4gIGVuZFJlbmRlcigpO1xuICBlbmRVcGRhdGUoKTtcbiAge1xuICAgIGNvbnN0IGNoaWxkcmVuUHJvbWlzZXMgPSAoX2EgPSBlbG1bXCJzLXBcIl0pICE9IG51bGwgPyBfYSA6IFtdO1xuICAgIGNvbnN0IHBvc3RVcGRhdGUgPSAoKSA9PiBwb3N0VXBkYXRlQ29tcG9uZW50KGhvc3RSZWYpO1xuICAgIGlmIChjaGlsZHJlblByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcG9zdFVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBQcm9taXNlLmFsbChjaGlsZHJlblByb21pc2VzKS50aGVuKHBvc3RVcGRhdGUpO1xuICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDQgLyogaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi87XG4gICAgICBjaGlsZHJlblByb21pc2VzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9XG59O1xudmFyIGNhbGxSZW5kZXIgPSAoaG9zdFJlZiwgaW5zdGFuY2UsIGVsbSwgaXNJbml0aWFsTG9hZCkgPT4ge1xuICB0cnkge1xuICAgIGluc3RhbmNlID0gaW5zdGFuY2UucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlcigpO1xuICAgIHtcbiAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+MTYgLyogaXNRdWV1ZWRGb3JVcGRhdGUgKi87XG4gICAgfVxuICAgIHtcbiAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAyIC8qIGhhc1JlbmRlcmVkICovO1xuICAgIH1cbiAgICB7XG4gICAgICB7XG4gICAgICAgIHtcbiAgICAgICAgICByZW5kZXJWZG9tKGhvc3RSZWYsIGluc3RhbmNlLCBpc0luaXRpYWxMb2FkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGVFcnJvcihlLCBob3N0UmVmLiRob3N0RWxlbWVudCQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBwb3N0VXBkYXRlQ29tcG9uZW50ID0gaG9zdFJlZiA9PiB7XG4gIGNvbnN0IHRhZ05hbWUgPSBob3N0UmVmLiRjbXBNZXRhJC4kdGFnTmFtZSQ7XG4gIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgY29uc3QgZW5kUG9zdFVwZGF0ZSA9IGNyZWF0ZVRpbWUoXCJwb3N0VXBkYXRlXCIsIHRhZ05hbWUpO1xuICBjb25zdCBpbnN0YW5jZSA9IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQ7XG4gIGNvbnN0IGFuY2VzdG9yQ29tcG9uZW50ID0gaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkO1xuICB7XG4gICAgc2FmZUNhbGwoaW5zdGFuY2UsIFwiY29tcG9uZW50RGlkUmVuZGVyXCIpO1xuICB9XG4gIGlmICghKGhvc3RSZWYuJGZsYWdzJCAmIDY0IC8qIGhhc0xvYWRlZENvbXBvbmVudCAqLykpIHtcbiAgICBob3N0UmVmLiRmbGFncyQgfD0gNjQgLyogaGFzTG9hZGVkQ29tcG9uZW50ICovO1xuICAgIHtcbiAgICAgIGFkZEh5ZHJhdGVkRmxhZyhlbG0pO1xuICAgIH1cbiAgICB7XG4gICAgICBzYWZlQ2FsbChpbnN0YW5jZSwgXCJjb21wb25lbnREaWRMb2FkXCIpO1xuICAgIH1cbiAgICBlbmRQb3N0VXBkYXRlKCk7XG4gICAge1xuICAgICAgaG9zdFJlZi4kb25SZWFkeVJlc29sdmUkKGVsbSk7XG4gICAgICBpZiAoIWFuY2VzdG9yQ29tcG9uZW50KSB7XG4gICAgICAgIGFwcERpZExvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAge1xuICAgICAgc2FmZUNhbGwoaW5zdGFuY2UsIFwiY29tcG9uZW50RGlkVXBkYXRlXCIpO1xuICAgIH1cbiAgICBlbmRQb3N0VXBkYXRlKCk7XG4gIH1cbiAge1xuICAgIGhvc3RSZWYuJG9uSW5zdGFuY2VSZXNvbHZlJChlbG0pO1xuICB9XG4gIHtcbiAgICBpZiAoaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCkge1xuICAgICAgaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCgpO1xuICAgICAgaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGhvc3RSZWYuJGZsYWdzJCAmIDUxMiAvKiBuZWVkc1JlcmVuZGVyICovKSB7XG4gICAgICBuZXh0VGljaygoKSA9PiBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSkpO1xuICAgIH1cbiAgICBob3N0UmVmLiRmbGFncyQgJj0gfig0IC8qIGlzV2FpdGluZ0ZvckNoaWxkcmVuICovIHwgNTEyIC8qIG5lZWRzUmVyZW5kZXIgKi8pO1xuICB9XG59O1xudmFyIGZvcmNlVXBkYXRlID0gcmVmID0+IHtcbiAge1xuICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKHJlZik7XG4gICAgY29uc3QgaXNDb25uZWN0ZWQgPSBob3N0UmVmLiRob3N0RWxlbWVudCQuaXNDb25uZWN0ZWQ7XG4gICAgaWYgKGlzQ29ubmVjdGVkICYmIChob3N0UmVmLiRmbGFncyQgJiAoMiAvKiBoYXNSZW5kZXJlZCAqLyB8IDE2IC8qIGlzUXVldWVkRm9yVXBkYXRlICovKSkgPT09IDIgLyogaGFzUmVuZGVyZWQgKi8pIHtcbiAgICAgIHNjaGVkdWxlVXBkYXRlKGhvc3RSZWYsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQ29ubmVjdGVkO1xuICB9XG59O1xudmFyIGFwcERpZExvYWQgPSB3aG8gPT4ge1xuICB7XG4gICAgYWRkSHlkcmF0ZWRGbGFnKGRvYy5kb2N1bWVudEVsZW1lbnQpO1xuICB9XG4gIG5leHRUaWNrKCgpID0+IGVtaXRFdmVudCh3aW4sIFwiYXBwbG9hZFwiLCB7XG4gICAgZGV0YWlsOiB7XG4gICAgICBuYW1lc3BhY2U6IE5BTUVTUEFDRVxuICAgIH1cbiAgfSkpO1xufTtcbnZhciBzYWZlQ2FsbCA9IChpbnN0YW5jZSwgbWV0aG9kLCBhcmcpID0+IHtcbiAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlW21ldGhvZF0pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZF0oYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59O1xudmFyIGFkZEh5ZHJhdGVkRmxhZyA9IGVsbSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIGVsbS5jbGFzc0xpc3QuYWRkKChfYSA9IEJVSUxELmh5ZHJhdGVkU2VsZWN0b3JOYW1lKSAhPSBudWxsID8gX2EgOiBcImh5ZHJhdGVkXCIpO1xufTtcblxuLy8gc3JjL3J1bnRpbWUvc2V0LXZhbHVlLnRzXG52YXIgZ2V0VmFsdWUgPSAocmVmLCBwcm9wTmFtZSkgPT4gZ2V0SG9zdFJlZihyZWYpLiRpbnN0YW5jZVZhbHVlcyQuZ2V0KHByb3BOYW1lKTtcbnZhciBzZXRWYWx1ZSA9IChyZWYsIHByb3BOYW1lLCBuZXdWYWwsIGNtcE1ldGEpID0+IHtcbiAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYocmVmKTtcbiAgaWYgKCFob3N0UmVmKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBmaW5kIGhvc3QgZWxlbWVudCBmb3IgXCIke2NtcE1ldGEuJHRhZ05hbWUkfVwiIGFzIGl0IGlzIHVua25vd24gdG8gdGhpcyBTdGVuY2lsIHJ1bnRpbWUuIFRoaXMgdXN1YWxseSBoYXBwZW5zIHdoZW4gaW50ZWdyYXRpbmcgYSAzcmQgcGFydHkgU3RlbmNpbCBjb21wb25lbnQgd2l0aCBhbm90aGVyIFN0ZW5jaWwgY29tcG9uZW50IG9yIGFwcGxpY2F0aW9uLiBQbGVhc2UgcmVhY2ggb3V0IHRvIHRoZSBtYWludGFpbmVycyBvZiB0aGUgM3JkIHBhcnR5IFN0ZW5jaWwgY29tcG9uZW50IG9yIHJlcG9ydCB0aGlzIG9uIHRoZSBTdGVuY2lsIERpc2NvcmQgc2VydmVyIChodHRwczovL2NoYXQuc3RlbmNpbGpzLmNvbSkgb3IgY29tbWVudCBvbiB0aGlzIHNpbWlsYXIgW0dpdEh1YiBpc3N1ZV0oaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vc3RlbmNpbC9pc3N1ZXMvNTQ1NykuYCk7XG4gIH1cbiAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCBvbGRWYWwgPSBob3N0UmVmLiRpbnN0YW5jZVZhbHVlcyQuZ2V0KHByb3BOYW1lKTtcbiAgY29uc3QgZmxhZ3MgPSBob3N0UmVmLiRmbGFncyQ7XG4gIGNvbnN0IGluc3RhbmNlID0gaG9zdFJlZi4kbGF6eUluc3RhbmNlJDtcbiAgbmV3VmFsID0gcGFyc2VQcm9wZXJ0eVZhbHVlKG5ld1ZhbCwgY21wTWV0YS4kbWVtYmVycyRbcHJvcE5hbWVdWzBdKTtcbiAgY29uc3QgYXJlQm90aE5hTiA9IE51bWJlci5pc05hTihvbGRWYWwpICYmIE51bWJlci5pc05hTihuZXdWYWwpO1xuICBjb25zdCBkaWRWYWx1ZUNoYW5nZSA9IG5ld1ZhbCAhPT0gb2xkVmFsICYmICFhcmVCb3RoTmFOO1xuICBpZiAoKCEoZmxhZ3MgJiA4IC8qIGlzQ29uc3RydWN0aW5nSW5zdGFuY2UgKi8pIHx8IG9sZFZhbCA9PT0gdm9pZCAwKSAmJiBkaWRWYWx1ZUNoYW5nZSkge1xuICAgIGhvc3RSZWYuJGluc3RhbmNlVmFsdWVzJC5zZXQocHJvcE5hbWUsIG5ld1ZhbCk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBpZiAoY21wTWV0YS4kd2F0Y2hlcnMkICYmIGZsYWdzICYgMTI4IC8qIGlzV2F0Y2hSZWFkeSAqLykge1xuICAgICAgICBjb25zdCB3YXRjaE1ldGhvZHMgPSBjbXBNZXRhLiR3YXRjaGVycyRbcHJvcE5hbWVdO1xuICAgICAgICBpZiAod2F0Y2hNZXRob2RzKSB7XG4gICAgICAgICAgd2F0Y2hNZXRob2RzLm1hcCh3YXRjaE1ldGhvZE5hbWUgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaW5zdGFuY2Vbd2F0Y2hNZXRob2ROYW1lXShuZXdWYWwsIG9sZFZhbCwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlRXJyb3IoZSwgZWxtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKChmbGFncyAmICgyIC8qIGhhc1JlbmRlcmVkICovIHwgMTYgLyogaXNRdWV1ZWRGb3JVcGRhdGUgKi8pKSA9PT0gMiAvKiBoYXNSZW5kZXJlZCAqLykge1xuICAgICAgICBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvcnVudGltZS9wcm94eS1jb21wb25lbnQudHNcbnZhciBwcm94eUNvbXBvbmVudCA9IChDc3RyLCBjbXBNZXRhLCBmbGFncykgPT4ge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBwcm90b3R5cGUgPSBDc3RyLnByb3RvdHlwZTtcbiAgaWYgKGNtcE1ldGEuJG1lbWJlcnMkIHx8IGNtcE1ldGEuJHdhdGNoZXJzJCB8fCBDc3RyLndhdGNoZXJzKSB7XG4gICAgaWYgKENzdHIud2F0Y2hlcnMgJiYgIWNtcE1ldGEuJHdhdGNoZXJzJCkge1xuICAgICAgY21wTWV0YS4kd2F0Y2hlcnMkID0gQ3N0ci53YXRjaGVycztcbiAgICB9XG4gICAgY29uc3QgbWVtYmVycyA9IE9iamVjdC5lbnRyaWVzKChfYSA9IGNtcE1ldGEuJG1lbWJlcnMkKSAhPSBudWxsID8gX2EgOiB7fSk7XG4gICAgbWVtYmVycy5tYXAoKFttZW1iZXJOYW1lLCBbbWVtYmVyRmxhZ3NdXSkgPT4ge1xuICAgICAgaWYgKG1lbWJlckZsYWdzICYgMzEgLyogUHJvcCAqLyB8fCBmbGFncyAmIDIgLyogcHJveHlTdGF0ZSAqLyAmJiBtZW1iZXJGbGFncyAmIDMyIC8qIFN0YXRlICovKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG1lbWJlck5hbWUsIHtcbiAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUodGhpcywgbWVtYmVyTmFtZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHNldFZhbHVlKHRoaXMsIG1lbWJlck5hbWUsIG5ld1ZhbHVlLCBjbXBNZXRhKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChmbGFncyAmIDEgLyogaXNFbGVtZW50Q29uc3RydWN0b3IgKi8gJiYgbWVtYmVyRmxhZ3MgJiA2NCAvKiBNZXRob2QgKi8pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbWVtYmVyTmFtZSwge1xuICAgICAgICAgIHZhbHVlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgICBjb25zdCByZWYgPSBnZXRIb3N0UmVmKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIChfYTIgPSByZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHJlZi4kb25JbnN0YW5jZVByb21pc2UkKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2EzO1xuICAgICAgICAgICAgICByZXR1cm4gKF9hMyA9IHJlZi4kbGF6eUluc3RhbmNlJCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hM1ttZW1iZXJOYW1lXSguLi5hcmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGZsYWdzICYgMSAvKiBpc0VsZW1lbnRDb25zdHJ1Y3RvciAqLykge1xuICAgICAgY29uc3QgYXR0ck5hbWVUb1Byb3BOYW1lID0gLyogQF9fUFVSRV9fICovbmV3IE1hcCgpO1xuICAgICAgcHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChhdHRyTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIHBsdC5qbXAoKCkgPT4ge1xuICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBhdHRyTmFtZVRvUHJvcE5hbWUuZ2V0KGF0dHJOYW1lKTtcbiAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgfSBlbHNlIGlmIChwcm90b3R5cGUuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmIHR5cGVvZiB0aGlzW3Byb3BOYW1lXSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgIC8vIGNhc3QgdHlwZSB0byBudW1iZXIgdG8gYXZvaWQgVFMgY29tcGlsZXIgaXNzdWVzXG4gICAgICAgICAgdGhpc1twcm9wTmFtZV0gPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgZmxhZ3MyID0gaG9zdFJlZiA9PSBudWxsID8gdm9pZCAwIDogaG9zdFJlZi4kZmxhZ3MkO1xuICAgICAgICAgICAgaWYgKGZsYWdzMiAmJiAhKGZsYWdzMiAmIDggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLykgJiYgZmxhZ3MyICYgMTI4IC8qIGlzV2F0Y2hSZWFkeSAqLyAmJiBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBob3N0UmVmLiRsYXp5SW5zdGFuY2UkO1xuICAgICAgICAgICAgICBjb25zdCBlbnRyeSA9IChfYTIgPSBjbXBNZXRhLiR3YXRjaGVycyQpID09IG51bGwgPyB2b2lkIDAgOiBfYTJbYXR0ck5hbWVdO1xuICAgICAgICAgICAgICBlbnRyeSA9PSBudWxsID8gdm9pZCAwIDogZW50cnkuZm9yRWFjaChjYWxsYmFja05hbWUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZVtjYWxsYmFja05hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlW2NhbGxiYWNrTmFtZV0uY2FsbChpbnN0YW5jZSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBuZXdWYWx1ZSA9PT0gbnVsbCAmJiB0eXBlb2YgdGhpc1twcm9wTmFtZV0gPT09IFwiYm9vbGVhblwiID8gZmFsc2UgOiBuZXdWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgQ3N0ci5vYnNlcnZlZEF0dHJpYnV0ZXMgPSBBcnJheS5mcm9tKC8qIEBfX1BVUkVfXyAqL25ldyBTZXQoWy4uLk9iamVjdC5rZXlzKChfYiA9IGNtcE1ldGEuJHdhdGNoZXJzJCkgIT0gbnVsbCA/IF9iIDoge30pLCAuLi5tZW1iZXJzLmZpbHRlcigoW18sIG1dKSA9PiBtWzBdICYgMTUgLyogSGFzQXR0cmlidXRlICovKS5tYXAoKFtwcm9wTmFtZSwgbV0pID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBtWzFdIHx8IHByb3BOYW1lO1xuICAgICAgICBhdHRyTmFtZVRvUHJvcE5hbWUuc2V0KGF0dHJOYW1lLCBwcm9wTmFtZSk7XG4gICAgICAgIGlmIChtWzBdICYgNTEyIC8qIFJlZmxlY3RBdHRyICovKSB7XG4gICAgICAgICAgKF9hMiA9IGNtcE1ldGEuJGF0dHJzVG9SZWZsZWN0JCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5wdXNoKFtwcm9wTmFtZSwgYXR0ck5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ck5hbWU7XG4gICAgICB9KV0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIENzdHI7XG59O1xuXG4vLyBzcmMvcnVudGltZS9pbml0aWFsaXplLWNvbXBvbmVudC50c1xudmFyIGluaXRpYWxpemVDb21wb25lbnQgPSBhc3luYyAoZWxtLCBob3N0UmVmLCBjbXBNZXRhLCBobXJWZXJzaW9uSWQpID0+IHtcbiAgbGV0IENzdHI7XG4gIGlmICgoaG9zdFJlZi4kZmxhZ3MkICYgMzIgLyogaGFzSW5pdGlhbGl6ZWRDb21wb25lbnQgKi8pID09PSAwKSB7XG4gICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDMyIC8qIGhhc0luaXRpYWxpemVkQ29tcG9uZW50ICovO1xuICAgIGNvbnN0IGJ1bmRsZUlkID0gY21wTWV0YS4kbGF6eUJ1bmRsZUlkJDtcbiAgICBpZiAoYnVuZGxlSWQpIHtcbiAgICAgIGNvbnN0IENzdHJJbXBvcnQgPSBsb2FkTW9kdWxlKGNtcE1ldGEpO1xuICAgICAgaWYgKENzdHJJbXBvcnQgJiYgXCJ0aGVuXCIgaW4gQ3N0ckltcG9ydCkge1xuICAgICAgICBjb25zdCBlbmRMb2FkID0gdW5pcXVlVGltZSgpO1xuICAgICAgICBDc3RyID0gYXdhaXQgQ3N0ckltcG9ydDtcbiAgICAgICAgZW5kTG9hZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQ3N0ciA9IENzdHJJbXBvcnQ7XG4gICAgICB9XG4gICAgICBpZiAoIUNzdHIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb25zdHJ1Y3RvciBmb3IgXCIke2NtcE1ldGEuJHRhZ05hbWUkfSMke2hvc3RSZWYuJG1vZGVOYW1lJH1cIiB3YXMgbm90IGZvdW5kYCk7XG4gICAgICB9XG4gICAgICBpZiAoIUNzdHIuaXNQcm94aWVkKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBjbXBNZXRhLiR3YXRjaGVycyQgPSBDc3RyLndhdGNoZXJzO1xuICAgICAgICB9XG4gICAgICAgIHByb3h5Q29tcG9uZW50KENzdHIsIGNtcE1ldGEsIDIgLyogcHJveHlTdGF0ZSAqLyk7XG4gICAgICAgIENzdHIuaXNQcm94aWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVuZE5ld0luc3RhbmNlID0gY3JlYXRlVGltZShcImNyZWF0ZUluc3RhbmNlXCIsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBDc3RyKGhvc3RSZWYpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgICB9XG4gICAgICB7XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+OCAvKiBpc0NvbnN0cnVjdGluZ0luc3RhbmNlICovO1xuICAgICAgfVxuICAgICAge1xuICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMTI4IC8qIGlzV2F0Y2hSZWFkeSAqLztcbiAgICAgIH1cbiAgICAgIGVuZE5ld0luc3RhbmNlKCk7XG4gICAgICBmaXJlQ29ubmVjdGVkQ2FsbGJhY2soaG9zdFJlZi4kbGF6eUluc3RhbmNlJCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIENzdHIgPSBlbG0uY29uc3RydWN0b3I7XG4gICAgICBjb25zdCBjbXBUYWcgPSBlbG0ubG9jYWxOYW1lO1xuICAgICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQoY21wVGFnKS50aGVuKCgpID0+IGhvc3RSZWYuJGZsYWdzJCB8PSAxMjggLyogaXNXYXRjaFJlYWR5ICovKTtcbiAgICB9XG4gICAgaWYgKENzdHIgJiYgQ3N0ci5zdHlsZSkge1xuICAgICAgbGV0IHN0eWxlO1xuICAgICAgaWYgKHR5cGVvZiBDc3RyLnN0eWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN0eWxlID0gQ3N0ci5zdHlsZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIENzdHIuc3R5bGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaG9zdFJlZi4kbW9kZU5hbWUkID0gY29tcHV0ZU1vZGUoZWxtKTtcbiAgICAgICAgaWYgKGhvc3RSZWYuJG1vZGVOYW1lJCkge1xuICAgICAgICAgIHN0eWxlID0gQ3N0ci5zdHlsZVtob3N0UmVmLiRtb2RlTmFtZSRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBzY29wZUlkMiA9IGdldFNjb3BlSWQoY21wTWV0YSwgaG9zdFJlZi4kbW9kZU5hbWUkKTtcbiAgICAgIGlmICghc3R5bGVzLmhhcyhzY29wZUlkMikpIHtcbiAgICAgICAgY29uc3QgZW5kUmVnaXN0ZXJTdHlsZXMgPSBjcmVhdGVUaW1lKFwicmVnaXN0ZXJTdHlsZXNcIiwgY21wTWV0YS4kdGFnTmFtZSQpO1xuICAgICAgICByZWdpc3RlclN0eWxlKHNjb3BlSWQyLCBzdHlsZSwgISEoY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSk7XG4gICAgICAgIGVuZFJlZ2lzdGVyU3R5bGVzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGFuY2VzdG9yQ29tcG9uZW50ID0gaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkO1xuICBjb25zdCBzY2hlZHVsZSA9ICgpID0+IHNjaGVkdWxlVXBkYXRlKGhvc3RSZWYsIHRydWUpO1xuICBpZiAoYW5jZXN0b3JDb21wb25lbnQgJiYgYW5jZXN0b3JDb21wb25lbnRbXCJzLXJjXCJdKSB7XG4gICAgYW5jZXN0b3JDb21wb25lbnRbXCJzLXJjXCJdLnB1c2goc2NoZWR1bGUpO1xuICB9IGVsc2Uge1xuICAgIHNjaGVkdWxlKCk7XG4gIH1cbn07XG52YXIgZmlyZUNvbm5lY3RlZENhbGxiYWNrID0gaW5zdGFuY2UgPT4ge1xuICB7XG4gICAgc2FmZUNhbGwoaW5zdGFuY2UsIFwiY29ubmVjdGVkQ2FsbGJhY2tcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9ydW50aW1lL2Nvbm5lY3RlZC1jYWxsYmFjay50c1xudmFyIGNvbm5lY3RlZENhbGxiYWNrID0gZWxtID0+IHtcbiAgaWYgKChwbHQuJGZsYWdzJCAmIDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi8pID09PSAwKSB7XG4gICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICBjb25zdCBjbXBNZXRhID0gaG9zdFJlZi4kY21wTWV0YSQ7XG4gICAgY29uc3QgZW5kQ29ubmVjdGVkID0gY3JlYXRlVGltZShcImNvbm5lY3RlZENhbGxiYWNrXCIsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICBpZiAoIShob3N0UmVmLiRmbGFncyQgJiAxIC8qIGhhc0Nvbm5lY3RlZCAqLykpIHtcbiAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxIC8qIGhhc0Nvbm5lY3RlZCAqLztcbiAgICAgIGxldCBob3N0SWQ7XG4gICAgICB7XG4gICAgICAgIGhvc3RJZCA9IGVsbS5nZXRBdHRyaWJ1dGUoSFlEUkFURV9JRCk7XG4gICAgICAgIGlmIChob3N0SWQpIHtcbiAgICAgICAgICBpZiAoY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSB7XG4gICAgICAgICAgICBjb25zdCBzY29wZUlkMiA9IGFkZFN0eWxlKGVsbS5zaGFkb3dSb290LCBjbXBNZXRhLCBlbG0uZ2V0QXR0cmlidXRlKFwicy1tb2RlXCIpKTtcbiAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKHNjb3BlSWQyICsgXCItaFwiLCBzY29wZUlkMiArIFwiLXNcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluaXRpYWxpemVDbGllbnRIeWRyYXRlKGVsbSwgY21wTWV0YS4kdGFnTmFtZSQsIGhvc3RJZCwgaG9zdFJlZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaG9zdElkKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gVE9ETyhTVEVOQ0lMLTg1NCk6IFJlbW92ZSBjb2RlIHJlbGF0ZWQgdG8gbGVnYWN5IHNoYWRvd0RvbVNoaW0gZmllbGRcbiAgICAgICAgY21wTWV0YS4kZmxhZ3MkICYgKDQgLyogaGFzU2xvdFJlbG9jYXRpb24gKi8gfCA4IC8qIG5lZWRzU2hhZG93RG9tU2hpbSAqLykpIHtcbiAgICAgICAgICBzZXRDb250ZW50UmVmZXJlbmNlKGVsbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHtcbiAgICAgICAgbGV0IGFuY2VzdG9yQ29tcG9uZW50ID0gZWxtO1xuICAgICAgICB3aGlsZSAoYW5jZXN0b3JDb21wb25lbnQgPSBhbmNlc3RvckNvbXBvbmVudC5wYXJlbnROb2RlIHx8IGFuY2VzdG9yQ29tcG9uZW50Lmhvc3QpIHtcbiAgICAgICAgICBpZiAoYW5jZXN0b3JDb21wb25lbnQubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8gJiYgYW5jZXN0b3JDb21wb25lbnQuaGFzQXR0cmlidXRlKFwicy1pZFwiKSAmJiBhbmNlc3RvckNvbXBvbmVudFtcInMtcFwiXSB8fCBhbmNlc3RvckNvbXBvbmVudFtcInMtcFwiXSkge1xuICAgICAgICAgICAgYXR0YWNoVG9BbmNlc3Rvcihob3N0UmVmLCBob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQgPSBhbmNlc3RvckNvbXBvbmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjbXBNZXRhLiRtZW1iZXJzJCkge1xuICAgICAgICBPYmplY3QuZW50cmllcyhjbXBNZXRhLiRtZW1iZXJzJCkubWFwKChbbWVtYmVyTmFtZSwgW21lbWJlckZsYWdzXV0pID0+IHtcbiAgICAgICAgICBpZiAobWVtYmVyRmxhZ3MgJiAzMSAvKiBQcm9wICovICYmIGVsbS5oYXNPd25Qcm9wZXJ0eShtZW1iZXJOYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbG1bbWVtYmVyTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgZWxtW21lbWJlck5hbWVdO1xuICAgICAgICAgICAgZWxtW21lbWJlck5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHtcbiAgICAgICAgaW5pdGlhbGl6ZUNvbXBvbmVudChlbG0sIGhvc3RSZWYsIGNtcE1ldGEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhZGRIb3N0RXZlbnRMaXN0ZW5lcnMoZWxtLCBob3N0UmVmLCBjbXBNZXRhLiRsaXN0ZW5lcnMkKTtcbiAgICAgIGlmIChob3N0UmVmID09IG51bGwgPyB2b2lkIDAgOiBob3N0UmVmLiRsYXp5SW5zdGFuY2UkKSB7XG4gICAgICAgIGZpcmVDb25uZWN0ZWRDYWxsYmFjayhob3N0UmVmLiRsYXp5SW5zdGFuY2UkKTtcbiAgICAgIH0gZWxzZSBpZiAoaG9zdFJlZiA9PSBudWxsID8gdm9pZCAwIDogaG9zdFJlZi4kb25SZWFkeVByb21pc2UkKSB7XG4gICAgICAgIGhvc3RSZWYuJG9uUmVhZHlQcm9taXNlJC50aGVuKCgpID0+IGZpcmVDb25uZWN0ZWRDYWxsYmFjayhob3N0UmVmLiRsYXp5SW5zdGFuY2UkKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVuZENvbm5lY3RlZCgpO1xuICB9XG59O1xudmFyIHNldENvbnRlbnRSZWZlcmVuY2UgPSBlbG0gPT4ge1xuICBjb25zdCBjb250ZW50UmVmRWxtID0gZWxtW1wicy1jclwiXSA9IGRvYy5jcmVhdGVDb21tZW50KFwiXCIpO1xuICBjb250ZW50UmVmRWxtW1wicy1jblwiXSA9IHRydWU7XG4gIGluc2VydEJlZm9yZShlbG0sIGNvbnRlbnRSZWZFbG0sIGVsbS5maXJzdENoaWxkKTtcbn07XG52YXIgZGlzY29ubmVjdEluc3RhbmNlID0gaW5zdGFuY2UgPT4ge1xuICB7XG4gICAgc2FmZUNhbGwoaW5zdGFuY2UsIFwiZGlzY29ubmVjdGVkQ2FsbGJhY2tcIik7XG4gIH1cbn07XG52YXIgZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSBhc3luYyBlbG0gPT4ge1xuICBpZiAoKHBsdC4kZmxhZ3MkICYgMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLykgPT09IDApIHtcbiAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihlbG0pO1xuICAgIHtcbiAgICAgIGlmIChob3N0UmVmLiRybUxpc3RlbmVycyQpIHtcbiAgICAgICAgaG9zdFJlZi4kcm1MaXN0ZW5lcnMkLm1hcChybUxpc3RlbmVyID0+IHJtTGlzdGVuZXIoKSk7XG4gICAgICAgIGhvc3RSZWYuJHJtTGlzdGVuZXJzJCA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhvc3RSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQpIHtcbiAgICAgIGRpc2Nvbm5lY3RJbnN0YW5jZShob3N0UmVmLiRsYXp5SW5zdGFuY2UkKTtcbiAgICB9IGVsc2UgaWYgKGhvc3RSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IGhvc3RSZWYuJG9uUmVhZHlQcm9taXNlJCkge1xuICAgICAgaG9zdFJlZi4kb25SZWFkeVByb21pc2UkLnRoZW4oKCkgPT4gZGlzY29ubmVjdEluc3RhbmNlKGhvc3RSZWYuJGxhenlJbnN0YW5jZSQpKTtcbiAgICB9XG4gIH1cbn07XG52YXIgcGF0Y2hQc2V1ZG9TaGFkb3dEb20gPSAoaG9zdEVsZW1lbnRQcm90b3R5cGUsIGRlc2NyaXB0b3JQcm90b3R5cGUpID0+IHtcbiAgcGF0Y2hDbG9uZU5vZGUoaG9zdEVsZW1lbnRQcm90b3R5cGUpO1xuICBwYXRjaFNsb3RBcHBlbmRDaGlsZChob3N0RWxlbWVudFByb3RvdHlwZSk7XG4gIHBhdGNoU2xvdEFwcGVuZChob3N0RWxlbWVudFByb3RvdHlwZSk7XG4gIHBhdGNoU2xvdFByZXBlbmQoaG9zdEVsZW1lbnRQcm90b3R5cGUpO1xuICBwYXRjaFNsb3RJbnNlcnRBZGphY2VudEVsZW1lbnQoaG9zdEVsZW1lbnRQcm90b3R5cGUpO1xuICBwYXRjaFNsb3RJbnNlcnRBZGphY2VudEhUTUwoaG9zdEVsZW1lbnRQcm90b3R5cGUpO1xuICBwYXRjaFNsb3RJbnNlcnRBZGphY2VudFRleHQoaG9zdEVsZW1lbnRQcm90b3R5cGUpO1xuICBwYXRjaFRleHRDb250ZW50KGhvc3RFbGVtZW50UHJvdG90eXBlKTtcbiAgcGF0Y2hDaGlsZFNsb3ROb2Rlcyhob3N0RWxlbWVudFByb3RvdHlwZSwgZGVzY3JpcHRvclByb3RvdHlwZSk7XG4gIHBhdGNoU2xvdFJlbW92ZUNoaWxkKGhvc3RFbGVtZW50UHJvdG90eXBlKTtcbn07XG52YXIgcGF0Y2hDbG9uZU5vZGUgPSBIb3N0RWxlbWVudFByb3RvdHlwZSA9PiB7XG4gIGNvbnN0IG9yZ0Nsb25lTm9kZSA9IEhvc3RFbGVtZW50UHJvdG90eXBlLmNsb25lTm9kZTtcbiAgSG9zdEVsZW1lbnRQcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKGRlZXApIHtcbiAgICBjb25zdCBzcmNOb2RlID0gdGhpcztcbiAgICBjb25zdCBpc1NoYWRvd0RvbSA9IHNyY05vZGUuc2hhZG93Um9vdCAmJiBzdXBwb3J0c1NoYWRvdztcbiAgICBjb25zdCBjbG9uZWROb2RlID0gb3JnQ2xvbmVOb2RlLmNhbGwoc3JjTm9kZSwgaXNTaGFkb3dEb20gPyBkZWVwIDogZmFsc2UpO1xuICAgIGlmICghaXNTaGFkb3dEb20gJiYgZGVlcCkge1xuICAgICAgbGV0IGkyID0gMDtcbiAgICAgIGxldCBzbG90dGVkLCBub25TdGVuY2lsTm9kZTtcbiAgICAgIGNvbnN0IHN0ZW5jaWxQcml2YXRlcyA9IFtcInMtaWRcIiwgXCJzLWNyXCIsIFwicy1sclwiLCBcInMtcmNcIiwgXCJzLXNjXCIsIFwicy1wXCIsIFwicy1jblwiLCBcInMtc3JcIiwgXCJzLXNuXCIsIFwicy1oblwiLCBcInMtb2xcIiwgXCJzLW5yXCIsIFwicy1zaVwiLCBcInMtcmZcIiwgXCJzLXNjc1wiXTtcbiAgICAgIGZvciAoOyBpMiA8IHNyY05vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgc2xvdHRlZCA9IHNyY05vZGUuY2hpbGROb2Rlc1tpMl1bXCJzLW5yXCJdO1xuICAgICAgICBub25TdGVuY2lsTm9kZSA9IHN0ZW5jaWxQcml2YXRlcy5ldmVyeShwcml2YXRlRmllbGQgPT4gIXNyY05vZGUuY2hpbGROb2Rlc1tpMl1bcHJpdmF0ZUZpZWxkXSk7XG4gICAgICAgIGlmIChzbG90dGVkKSB7XG4gICAgICAgICAgaWYgKGNsb25lZE5vZGUuX19hcHBlbmRDaGlsZCkge1xuICAgICAgICAgICAgY2xvbmVkTm9kZS5fX2FwcGVuZENoaWxkKHNsb3R0ZWQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xvbmVkTm9kZS5hcHBlbmRDaGlsZChzbG90dGVkLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub25TdGVuY2lsTm9kZSkge1xuICAgICAgICAgIGNsb25lZE5vZGUuYXBwZW5kQ2hpbGQoc3JjTm9kZS5jaGlsZE5vZGVzW2kyXS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWROb2RlO1xuICB9O1xufTtcbnZhciBwYXRjaFNsb3RBcHBlbmRDaGlsZCA9IEhvc3RFbGVtZW50UHJvdG90eXBlID0+IHtcbiAgSG9zdEVsZW1lbnRQcm90b3R5cGUuX19hcHBlbmRDaGlsZCA9IEhvc3RFbGVtZW50UHJvdG90eXBlLmFwcGVuZENoaWxkO1xuICBIb3N0RWxlbWVudFByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIChuZXdDaGlsZCkge1xuICAgIGNvbnN0IHNsb3ROYW1lID0gbmV3Q2hpbGRbXCJzLXNuXCJdID0gZ2V0U2xvdE5hbWUobmV3Q2hpbGQpO1xuICAgIGNvbnN0IHNsb3ROb2RlID0gZ2V0SG9zdFNsb3ROb2RlKHRoaXMuY2hpbGROb2Rlcywgc2xvdE5hbWUsIHRoaXMudGFnTmFtZSk7XG4gICAgaWYgKHNsb3ROb2RlKSB7XG4gICAgICBjb25zdCBzbG90Q2hpbGROb2RlcyA9IGdldEhvc3RTbG90Q2hpbGROb2RlcyhzbG90Tm9kZSwgc2xvdE5hbWUpO1xuICAgICAgY29uc3QgYXBwZW5kQWZ0ZXIgPSBzbG90Q2hpbGROb2Rlc1tzbG90Q2hpbGROb2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGluc2VydGVkTm9kZSA9IGluc2VydEJlZm9yZShhcHBlbmRBZnRlci5wYXJlbnROb2RlLCBuZXdDaGlsZCwgYXBwZW5kQWZ0ZXIubmV4dFNpYmxpbmcpO1xuICAgICAgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eSh0aGlzKTtcbiAgICAgIHJldHVybiBpbnNlcnRlZE5vZGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9fYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICB9O1xufTtcbnZhciBwYXRjaFNsb3RSZW1vdmVDaGlsZCA9IEVsZW1lbnRQcm90b3R5cGUgPT4ge1xuICBFbGVtZW50UHJvdG90eXBlLl9fcmVtb3ZlQ2hpbGQgPSBFbGVtZW50UHJvdG90eXBlLnJlbW92ZUNoaWxkO1xuICBFbGVtZW50UHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKHRvUmVtb3ZlKSB7XG4gICAgaWYgKHRvUmVtb3ZlICYmIHR5cGVvZiB0b1JlbW92ZVtcInMtc25cIl0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnN0IHNsb3ROb2RlID0gZ2V0SG9zdFNsb3ROb2RlKHRoaXMuY2hpbGROb2RlcywgdG9SZW1vdmVbXCJzLXNuXCJdLCB0aGlzLnRhZ05hbWUpO1xuICAgICAgaWYgKHNsb3ROb2RlKSB7XG4gICAgICAgIGNvbnN0IHNsb3RDaGlsZE5vZGVzID0gZ2V0SG9zdFNsb3RDaGlsZE5vZGVzKHNsb3ROb2RlLCB0b1JlbW92ZVtcInMtc25cIl0pO1xuICAgICAgICBjb25zdCBleGlzdGluZ05vZGUgPSBzbG90Q2hpbGROb2Rlcy5maW5kKG4gPT4gbiA9PT0gdG9SZW1vdmUpO1xuICAgICAgICBpZiAoZXhpc3RpbmdOb2RlKSB7XG4gICAgICAgICAgZXhpc3RpbmdOb2RlLnJlbW92ZSgpO1xuICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrU2xvdFZpc2liaWxpdHkodGhpcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9fcmVtb3ZlQ2hpbGQodG9SZW1vdmUpO1xuICB9O1xufTtcbnZhciBwYXRjaFNsb3RQcmVwZW5kID0gSG9zdEVsZW1lbnRQcm90b3R5cGUgPT4ge1xuICBjb25zdCBvcmlnaW5hbFByZXBlbmQgPSBIb3N0RWxlbWVudFByb3RvdHlwZS5wcmVwZW5kO1xuICBIb3N0RWxlbWVudFByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gKC4uLm5ld0NoaWxkcmVuKSB7XG4gICAgbmV3Q2hpbGRyZW4uZm9yRWFjaChuZXdDaGlsZCA9PiB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG5ld0NoaWxkID0gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsb3ROYW1lID0gbmV3Q2hpbGRbXCJzLXNuXCJdID0gZ2V0U2xvdE5hbWUobmV3Q2hpbGQpO1xuICAgICAgY29uc3Qgc2xvdE5vZGUgPSBnZXRIb3N0U2xvdE5vZGUodGhpcy5jaGlsZE5vZGVzLCBzbG90TmFtZSwgdGhpcy50YWdOYW1lKTtcbiAgICAgIGlmIChzbG90Tm9kZSkge1xuICAgICAgICBjb25zdCBzbG90UGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgc2xvdFBsYWNlaG9sZGVyW1wicy1uclwiXSA9IG5ld0NoaWxkO1xuICAgICAgICBzbG90Tm9kZVtcInMtY3JcIl0ucGFyZW50Tm9kZS5fX2FwcGVuZENoaWxkKHNsb3RQbGFjZWhvbGRlcik7XG4gICAgICAgIG5ld0NoaWxkW1wicy1vbFwiXSA9IHNsb3RQbGFjZWhvbGRlcjtcbiAgICAgICAgY29uc3Qgc2xvdENoaWxkTm9kZXMgPSBnZXRIb3N0U2xvdENoaWxkTm9kZXMoc2xvdE5vZGUsIHNsb3ROYW1lKTtcbiAgICAgICAgY29uc3QgYXBwZW5kQWZ0ZXIgPSBzbG90Q2hpbGROb2Rlc1swXTtcbiAgICAgICAgcmV0dXJuIGluc2VydEJlZm9yZShhcHBlbmRBZnRlci5wYXJlbnROb2RlLCBuZXdDaGlsZCwgYXBwZW5kQWZ0ZXIubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKG5ld0NoaWxkLm5vZGVUeXBlID09PSAxICYmICEhbmV3Q2hpbGQuZ2V0QXR0cmlidXRlKFwic2xvdFwiKSkge1xuICAgICAgICBuZXdDaGlsZC5oaWRkZW4gPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yaWdpbmFsUHJlcGVuZC5jYWxsKHRoaXMsIG5ld0NoaWxkKTtcbiAgICB9KTtcbiAgfTtcbn07XG52YXIgcGF0Y2hTbG90QXBwZW5kID0gSG9zdEVsZW1lbnRQcm90b3R5cGUgPT4ge1xuICBIb3N0RWxlbWVudFByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoLi4ubmV3Q2hpbGRyZW4pIHtcbiAgICBuZXdDaGlsZHJlbi5mb3JFYWNoKG5ld0NoaWxkID0+IHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbmV3Q2hpbGQgPSB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQpO1xuICAgICAgfVxuICAgICAgdGhpcy5hcHBlbmRDaGlsZChuZXdDaGlsZCk7XG4gICAgfSk7XG4gIH07XG59O1xudmFyIHBhdGNoU2xvdEluc2VydEFkamFjZW50SFRNTCA9IEhvc3RFbGVtZW50UHJvdG90eXBlID0+IHtcbiAgY29uc3Qgb3JpZ2luYWxJbnNlcnRBZGphY2VudEh0bWwgPSBIb3N0RWxlbWVudFByb3RvdHlwZS5pbnNlcnRBZGphY2VudEhUTUw7XG4gIEhvc3RFbGVtZW50UHJvdG90eXBlLmluc2VydEFkamFjZW50SFRNTCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkge1xuICAgIGlmIChwb3NpdGlvbiAhPT0gXCJhZnRlcmJlZ2luXCIgJiYgcG9zaXRpb24gIT09IFwiYmVmb3JlZW5kXCIpIHtcbiAgICAgIHJldHVybiBvcmlnaW5hbEluc2VydEFkamFjZW50SHRtbC5jYWxsKHRoaXMsIHBvc2l0aW9uLCB0ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpO1xuICAgIGxldCBub2RlO1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSB0ZXh0O1xuICAgIGlmIChwb3NpdGlvbiA9PT0gXCJhZnRlcmJlZ2luXCIpIHtcbiAgICAgIHdoaWxlIChub2RlID0gY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5wcmVwZW5kKG5vZGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFwiYmVmb3JlZW5kXCIpIHtcbiAgICAgIHdoaWxlIChub2RlID0gY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcbnZhciBwYXRjaFNsb3RJbnNlcnRBZGphY2VudFRleHQgPSBIb3N0RWxlbWVudFByb3RvdHlwZSA9PiB7XG4gIEhvc3RFbGVtZW50UHJvdG90eXBlLmluc2VydEFkamFjZW50VGV4dCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkge1xuICAgIHRoaXMuaW5zZXJ0QWRqYWNlbnRIVE1MKHBvc2l0aW9uLCB0ZXh0KTtcbiAgfTtcbn07XG52YXIgcGF0Y2hTbG90SW5zZXJ0QWRqYWNlbnRFbGVtZW50ID0gSG9zdEVsZW1lbnRQcm90b3R5cGUgPT4ge1xuICBjb25zdCBvcmlnaW5hbEluc2VydEFkamFjZW50RWxlbWVudCA9IEhvc3RFbGVtZW50UHJvdG90eXBlLmluc2VydEFkamFjZW50RWxlbWVudDtcbiAgSG9zdEVsZW1lbnRQcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBlbGVtZW50KSB7XG4gICAgaWYgKHBvc2l0aW9uICE9PSBcImFmdGVyYmVnaW5cIiAmJiBwb3NpdGlvbiAhPT0gXCJiZWZvcmVlbmRcIikge1xuICAgICAgcmV0dXJuIG9yaWdpbmFsSW5zZXJ0QWRqYWNlbnRFbGVtZW50LmNhbGwodGhpcywgcG9zaXRpb24sIGVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAocG9zaXRpb24gPT09IFwiYWZ0ZXJiZWdpblwiKSB7XG4gICAgICB0aGlzLnByZXBlbmQoZWxlbWVudCk7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSBcImJlZm9yZWVuZFwiKSB7XG4gICAgICB0aGlzLmFwcGVuZChlbGVtZW50KTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfTtcbn07XG52YXIgcGF0Y2hUZXh0Q29udGVudCA9IGhvc3RFbGVtZW50UHJvdG90eXBlID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsIFwidGV4dENvbnRlbnRcIik7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShob3N0RWxlbWVudFByb3RvdHlwZSwgXCJfX3RleHRDb250ZW50XCIsIGRlc2NyaXB0b3IpO1xuICB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGhvc3RFbGVtZW50UHJvdG90eXBlLCBcInRleHRDb250ZW50XCIsIHtcbiAgICAgIC8vIFRvIG1pbWljIHNoYWRvdyByb290IGJlaGF2aW9yLCB3ZSBuZWVkIHRvIHJldHVybiB0aGUgdGV4dCBjb250ZW50IG9mIGFsbFxuICAgICAgLy8gbm9kZXMgaW4gYSBzbG90IHJlZmVyZW5jZSBub2RlXG4gICAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IHNsb3RSZWZOb2RlcyA9IGdldEFsbENoaWxkU2xvdE5vZGVzKHRoaXMuY2hpbGROb2Rlcyk7XG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gc2xvdFJlZk5vZGVzLm1hcChub2RlID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBbXTtcbiAgICAgICAgICBsZXQgc2xvdENvbnRlbnQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgIHdoaWxlIChzbG90Q29udGVudCAmJiBzbG90Q29udGVudFtcInMtc25cIl0gPT09IG5vZGVbXCJzLXNuXCJdKSB7XG4gICAgICAgICAgICBpZiAoc2xvdENvbnRlbnQubm9kZVR5cGUgPT09IDMgLyogVEVYVF9OT0RFICovIHx8IHNsb3RDb250ZW50Lm5vZGVUeXBlID09PSAxIC8qIEVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICB0ZXh0LnB1c2goKF9iID0gKF9hID0gc2xvdENvbnRlbnQudGV4dENvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmltKCkpICE9IG51bGwgPyBfYiA6IFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2xvdENvbnRlbnQgPSBzbG90Q29udGVudC5uZXh0U2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRleHQuZmlsdGVyKHJlZiA9PiByZWYgIT09IFwiXCIpLmpvaW4oXCIgXCIpO1xuICAgICAgICB9KS5maWx0ZXIodGV4dCA9PiB0ZXh0ICE9PSBcIlwiKS5qb2luKFwiIFwiKTtcbiAgICAgICAgcmV0dXJuIFwiIFwiICsgdGV4dENvbnRlbnQgKyBcIiBcIjtcbiAgICAgIH0sXG4gICAgICAvLyBUbyBtaW1pYyBzaGFkb3cgcm9vdCBiZWhhdmlvciwgd2UgbmVlZCB0byBvdmVyd3JpdGUgYWxsIG5vZGVzIGluIGEgc2xvdFxuICAgICAgLy8gcmVmZXJlbmNlIG5vZGUuIElmIGEgZGVmYXVsdCBzbG90IHJlZmVyZW5jZSBub2RlIGV4aXN0cywgdGhlIHRleHQgY29udGVudCB3aWxsIGJlXG4gICAgICAvLyBwbGFjZWQgdGhlcmUuIE90aGVyd2lzZSwgdGhlIG5ldyB0ZXh0IG5vZGUgd2lsbCBiZSBoaWRkZW5cbiAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzbG90UmVmTm9kZXMgPSBnZXRBbGxDaGlsZFNsb3ROb2Rlcyh0aGlzLmNoaWxkTm9kZXMpO1xuICAgICAgICBzbG90UmVmTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICBsZXQgc2xvdENvbnRlbnQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgIHdoaWxlIChzbG90Q29udGVudCAmJiBzbG90Q29udGVudFtcInMtc25cIl0gPT09IG5vZGVbXCJzLXNuXCJdKSB7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBzbG90Q29udGVudDtcbiAgICAgICAgICAgIHNsb3RDb250ZW50ID0gc2xvdENvbnRlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB0bXAucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChub2RlW1wicy1zblwiXSA9PT0gXCJcIikge1xuICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xuICAgICAgICAgICAgdGV4dE5vZGVbXCJzLXNuXCJdID0gXCJcIjtcbiAgICAgICAgICAgIGluc2VydEJlZm9yZShub2RlLnBhcmVudEVsZW1lbnQsIHRleHROb2RlLCBub2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xudmFyIHBhdGNoQ2hpbGRTbG90Tm9kZXMgPSAoZWxtLCBjbXBNZXRhKSA9PiB7XG4gIGNsYXNzIEZha2VOb2RlTGlzdCBleHRlbmRzIEFycmF5IHtcbiAgICBpdGVtKG4pIHtcbiAgICAgIHJldHVybiB0aGlzW25dO1xuICAgIH1cbiAgfVxuICBpZiAoY21wTWV0YS4kZmxhZ3MkICYgOCAvKiBuZWVkc1NoYWRvd0RvbVNoaW0gKi8pIHtcbiAgICBjb25zdCBjaGlsZE5vZGVzRm4gPSBlbG0uX19sb29rdXBHZXR0ZXJfXyhcImNoaWxkTm9kZXNcIik7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsbSwgXCJjaGlsZHJlblwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkTm9kZXMubWFwKG4gPT4gbi5ub2RlVHlwZSA9PT0gMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsbSwgXCJjaGlsZEVsZW1lbnRDb3VudFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBlbG0uY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbG0sIFwiY2hpbGROb2Rlc1wiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBjaGlsZE5vZGVzRm4uY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKChwbHQuJGZsYWdzJCAmIDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi8pID09PSAwICYmIGdldEhvc3RSZWYodGhpcykuJGZsYWdzJCAmIDIgLyogaGFzUmVuZGVyZWQgKi8pIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgRmFrZU5vZGVMaXN0KCk7XG4gICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGROb2Rlc1tpMl1bXCJzLW5yXCJdO1xuICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc2xvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZha2VOb2RlTGlzdC5mcm9tKGNoaWxkTm9kZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xudmFyIGdldEFsbENoaWxkU2xvdE5vZGVzID0gY2hpbGROb2RlcyA9PiB7XG4gIGNvbnN0IHNsb3RSZWZOb2RlcyA9IFtdO1xuICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiBBcnJheS5mcm9tKGNoaWxkTm9kZXMpKSB7XG4gICAgaWYgKGNoaWxkTm9kZVtcInMtc3JcIl0pIHtcbiAgICAgIHNsb3RSZWZOb2Rlcy5wdXNoKGNoaWxkTm9kZSk7XG4gICAgfVxuICAgIHNsb3RSZWZOb2Rlcy5wdXNoKC4uLmdldEFsbENoaWxkU2xvdE5vZGVzKGNoaWxkTm9kZS5jaGlsZE5vZGVzKSk7XG4gIH1cbiAgcmV0dXJuIHNsb3RSZWZOb2Rlcztcbn07XG52YXIgZ2V0U2xvdE5hbWUgPSBub2RlID0+IG5vZGVbXCJzLXNuXCJdIHx8IG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoXCJzbG90XCIpIHx8IFwiXCI7XG52YXIgZ2V0SG9zdFNsb3ROb2RlID0gKGNoaWxkTm9kZXMsIHNsb3ROYW1lLCBob3N0TmFtZSkgPT4ge1xuICBsZXQgaTIgPSAwO1xuICBsZXQgY2hpbGROb2RlO1xuICBmb3IgKDsgaTIgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaTIrKykge1xuICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZXNbaTJdO1xuICAgIGlmIChjaGlsZE5vZGVbXCJzLXNyXCJdICYmIGNoaWxkTm9kZVtcInMtc25cIl0gPT09IHNsb3ROYW1lICYmIGNoaWxkTm9kZVtcInMtaG5cIl0gPT09IGhvc3ROYW1lKSB7XG4gICAgICByZXR1cm4gY2hpbGROb2RlO1xuICAgIH1cbiAgICBjaGlsZE5vZGUgPSBnZXRIb3N0U2xvdE5vZGUoY2hpbGROb2RlLmNoaWxkTm9kZXMsIHNsb3ROYW1lLCBob3N0TmFtZSk7XG4gICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgcmV0dXJuIGNoaWxkTm9kZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGdldEhvc3RTbG90Q2hpbGROb2RlcyA9IChuLCBzbG90TmFtZSkgPT4ge1xuICBjb25zdCBjaGlsZE5vZGVzID0gW25dO1xuICB3aGlsZSAoKG4gPSBuLm5leHRTaWJsaW5nKSAmJiBuW1wicy1zblwiXSA9PT0gc2xvdE5hbWUpIHtcbiAgICBjaGlsZE5vZGVzLnB1c2gobik7XG4gIH1cbiAgcmV0dXJuIGNoaWxkTm9kZXM7XG59O1xuXG4vLyBzcmMvcnVudGltZS9ib290c3RyYXAtbGF6eS50c1xudmFyIGJvb3RzdHJhcExhenkgPSAobGF6eUJ1bmRsZXMsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGVuZEJvb3RzdHJhcCA9IGNyZWF0ZVRpbWUoKTtcbiAgY29uc3QgY21wVGFncyA9IFtdO1xuICBjb25zdCBleGNsdWRlID0gb3B0aW9ucy5leGNsdWRlIHx8IFtdO1xuICBjb25zdCBjdXN0b21FbGVtZW50czIgPSB3aW4uY3VzdG9tRWxlbWVudHM7XG4gIGNvbnN0IGhlYWQgPSBkb2MuaGVhZDtcbiAgY29uc3QgbWV0YUNoYXJzZXQgPSAvKiBAX19QVVJFX18gKi9oZWFkLnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW2NoYXJzZXRdXCIpO1xuICBjb25zdCBkYXRhU3R5bGVzID0gLyogQF9fUFVSRV9fICovZG9jLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgY29uc3QgZGVmZXJyZWRDb25uZWN0ZWRDYWxsYmFja3MgPSBbXTtcbiAgbGV0IGFwcExvYWRGYWxsYmFjaztcbiAgbGV0IGlzQm9vdHN0cmFwcGluZyA9IHRydWU7XG4gIE9iamVjdC5hc3NpZ24ocGx0LCBvcHRpb25zKTtcbiAgcGx0LiRyZXNvdXJjZXNVcmwkID0gbmV3IFVSTChvcHRpb25zLnJlc291cmNlc1VybCB8fCBcIi4vXCIsIGRvYy5iYXNlVVJJKS5ocmVmO1xuICB7XG4gICAgcGx0LiRmbGFncyQgfD0gMiAvKiBhcHBMb2FkZWQgKi87XG4gIH1cbiAgbGV0IGhhc1Nsb3RSZWxvY2F0aW9uID0gZmFsc2U7XG4gIGxhenlCdW5kbGVzLm1hcChsYXp5QnVuZGxlID0+IHtcbiAgICBsYXp5QnVuZGxlWzFdLm1hcChjb21wYWN0TWV0YSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgY21wTWV0YSA9IHtcbiAgICAgICAgJGZsYWdzJDogY29tcGFjdE1ldGFbMF0sXG4gICAgICAgICR0YWdOYW1lJDogY29tcGFjdE1ldGFbMV0sXG4gICAgICAgICRtZW1iZXJzJDogY29tcGFjdE1ldGFbMl0sXG4gICAgICAgICRsaXN0ZW5lcnMkOiBjb21wYWN0TWV0YVszXVxuICAgICAgfTtcbiAgICAgIGlmIChjbXBNZXRhLiRmbGFncyQgJiA0IC8qIGhhc1Nsb3RSZWxvY2F0aW9uICovKSB7XG4gICAgICAgIGhhc1Nsb3RSZWxvY2F0aW9uID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHtcbiAgICAgICAgY21wTWV0YS4kbWVtYmVycyQgPSBjb21wYWN0TWV0YVsyXTtcbiAgICAgIH1cbiAgICAgIHtcbiAgICAgICAgY21wTWV0YS4kbGlzdGVuZXJzJCA9IGNvbXBhY3RNZXRhWzNdO1xuICAgICAgfVxuICAgICAge1xuICAgICAgICBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQgPSBbXTtcbiAgICAgIH1cbiAgICAgIHtcbiAgICAgICAgY21wTWV0YS4kd2F0Y2hlcnMkID0gKF9hMiA9IGNvbXBhY3RNZXRhWzRdKSAhPSBudWxsID8gX2EyIDoge307XG4gICAgICB9XG4gICAgICBjb25zdCB0YWdOYW1lID0gY21wTWV0YS4kdGFnTmFtZSQ7XG4gICAgICBjb25zdCBIb3N0RWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICAvLyBTdGVuY2lsTGF6eUhvc3RcbiAgICAgICAgY29uc3RydWN0b3Ioc2VsZikge1xuICAgICAgICAgIHN1cGVyKHNlbGYpO1xuICAgICAgICAgIHRoaXMuaGFzUmVnaXN0ZXJlZEV2ZW50TGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgcmVnaXN0ZXJIb3N0KHNlbGYsIGNtcE1ldGEpO1xuICAgICAgICAgIGlmIChjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzZWxmLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IFwib3BlblwiLFxuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZXNGb2N1czogISEoY21wTWV0YS4kZmxhZ3MkICYgMTYgLyogc2hhZG93RGVsZWdhdGVzRm9jdXMgKi8pXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2hhZG93Um9vdC5tb2RlICE9PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcmUtdXNlIGV4aXN0aW5nIHNoYWRvdyByb290IGZvciAke2NtcE1ldGEuJHRhZ05hbWUkfSEgTW9kZSBpcyBzZXQgdG8gJHtzZWxmLnNoYWRvd1Jvb3QubW9kZX0gYnV0IFN0ZW5jaWwgb25seSBzdXBwb3J0cyBvcGVuIHNoYWRvdyByb290cy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYodGhpcyk7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhc1JlZ2lzdGVyZWRFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgdGhpcy5oYXNSZWdpc3RlcmVkRXZlbnRMaXN0ZW5lcnMgPSB0cnVlO1xuICAgICAgICAgICAgYWRkSG9zdEV2ZW50TGlzdGVuZXJzKHRoaXMsIGhvc3RSZWYsIGNtcE1ldGEuJGxpc3RlbmVycyQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXBwTG9hZEZhbGxiYWNrKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYXBwTG9hZEZhbGxiYWNrKTtcbiAgICAgICAgICAgIGFwcExvYWRGYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0Jvb3RzdHJhcHBpbmcpIHtcbiAgICAgICAgICAgIGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzLnB1c2godGhpcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4gY29ubmVjdGVkQ2FsbGJhY2sodGhpcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICBwbHQuam1wKCgpID0+IGRpc2Nvbm5lY3RlZENhbGxiYWNrKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRPblJlYWR5KCkge1xuICAgICAgICAgIHJldHVybiBnZXRIb3N0UmVmKHRoaXMpLiRvblJlYWR5UHJvbWlzZSQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB7XG4gICAgICAgIGlmIChjbXBNZXRhLiRmbGFncyQgJiAyIC8qIHNjb3BlZENzc0VuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICBwYXRjaFBzZXVkb1NoYWRvd0RvbShIb3N0RWxlbWVudC5wcm90b3R5cGUsIGNtcE1ldGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjbXBNZXRhLiRsYXp5QnVuZGxlSWQkID0gbGF6eUJ1bmRsZVswXTtcbiAgICAgIGlmICghZXhjbHVkZS5pbmNsdWRlcyh0YWdOYW1lKSAmJiAhY3VzdG9tRWxlbWVudHMyLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBjbXBUYWdzLnB1c2godGFnTmFtZSk7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzMi5kZWZpbmUodGFnTmFtZSwgcHJveHlDb21wb25lbnQoSG9zdEVsZW1lbnQsIGNtcE1ldGEsIDEgLyogaXNFbGVtZW50Q29uc3RydWN0b3IgKi8pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIGlmIChjbXBUYWdzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoaGFzU2xvdFJlbG9jYXRpb24pIHtcbiAgICAgIGRhdGFTdHlsZXMudGV4dENvbnRlbnQgKz0gU0xPVF9GQl9DU1M7XG4gICAgfVxuICAgIHtcbiAgICAgIGRhdGFTdHlsZXMudGV4dENvbnRlbnQgKz0gY21wVGFncy5zb3J0KCkgKyBIWURSQVRFRF9DU1M7XG4gICAgfVxuICAgIGlmIChkYXRhU3R5bGVzLmlubmVySFRNTC5sZW5ndGgpIHtcbiAgICAgIGRhdGFTdHlsZXMuc2V0QXR0cmlidXRlKFwiZGF0YS1zdHlsZXNcIiwgXCJcIik7XG4gICAgICBjb25zdCBub25jZSA9IChfYSA9IHBsdC4kbm9uY2UkKSAhPSBudWxsID8gX2EgOiBxdWVyeU5vbmNlTWV0YVRhZ0NvbnRlbnQoZG9jKTtcbiAgICAgIGlmIChub25jZSAhPSBudWxsKSB7XG4gICAgICAgIGRhdGFTdHlsZXMuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgfVxuICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZGF0YVN0eWxlcywgbWV0YUNoYXJzZXQgPyBtZXRhQ2hhcnNldC5uZXh0U2libGluZyA6IGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9XG4gIGlzQm9vdHN0cmFwcGluZyA9IGZhbHNlO1xuICBpZiAoZGVmZXJyZWRDb25uZWN0ZWRDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgZGVmZXJyZWRDb25uZWN0ZWRDYWxsYmFja3MubWFwKGhvc3QgPT4gaG9zdC5jb25uZWN0ZWRDYWxsYmFjaygpKTtcbiAgfSBlbHNlIHtcbiAgICB7XG4gICAgICBwbHQuam1wKCgpID0+IGFwcExvYWRGYWxsYmFjayA9IHNldFRpbWVvdXQoYXBwRGlkTG9hZCwgMzApKTtcbiAgICB9XG4gIH1cbiAgZW5kQm9vdHN0cmFwKCk7XG59O1xudmFyIGFkZEhvc3RFdmVudExpc3RlbmVycyA9IChlbG0sIGhvc3RSZWYsIGxpc3RlbmVycywgYXR0YWNoUGFyZW50TGlzdGVuZXJzKSA9PiB7XG4gIGlmIChsaXN0ZW5lcnMpIHtcbiAgICBsaXN0ZW5lcnMubWFwKChbZmxhZ3MsIG5hbWUsIG1ldGhvZF0pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGdldEhvc3RMaXN0ZW5lclRhcmdldChlbG0sIGZsYWdzKTtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBob3N0TGlzdGVuZXJQcm94eShob3N0UmVmLCBtZXRob2QpO1xuICAgICAgY29uc3Qgb3B0cyA9IGhvc3RMaXN0ZW5lck9wdHMoZmxhZ3MpO1xuICAgICAgcGx0LmFlbCh0YXJnZXQsIG5hbWUsIGhhbmRsZXIsIG9wdHMpO1xuICAgICAgKGhvc3RSZWYuJHJtTGlzdGVuZXJzJCA9IGhvc3RSZWYuJHJtTGlzdGVuZXJzJCB8fCBbXSkucHVzaCgoKSA9PiBwbHQucmVsKHRhcmdldCwgbmFtZSwgaGFuZGxlciwgb3B0cykpO1xuICAgIH0pO1xuICB9XG59O1xudmFyIGhvc3RMaXN0ZW5lclByb3h5ID0gKGhvc3RSZWYsIG1ldGhvZE5hbWUpID0+IGV2ID0+IHtcbiAgdmFyIF9hO1xuICB0cnkge1xuICAgIHtcbiAgICAgIGlmIChob3N0UmVmLiRmbGFncyQgJiAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLykge1xuICAgICAgICAoX2EgPSBob3N0UmVmLiRsYXp5SW5zdGFuY2UkKSA9PSBudWxsID8gdm9pZCAwIDogX2FbbWV0aG9kTmFtZV0oZXYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQgPSBob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkIHx8IFtdKS5wdXNoKFttZXRob2ROYW1lLCBldl0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgfVxufTtcbnZhciBnZXRIb3N0TGlzdGVuZXJUYXJnZXQgPSAoZWxtLCBmbGFncykgPT4ge1xuICBpZiAoZmxhZ3MgJiA0IC8qIFRhcmdldERvY3VtZW50ICovKSByZXR1cm4gZG9jO1xuICBpZiAoZmxhZ3MgJiA4IC8qIFRhcmdldFdpbmRvdyAqLykgcmV0dXJuIHdpbjtcbiAgaWYgKGZsYWdzICYgMTYgLyogVGFyZ2V0Qm9keSAqLykgcmV0dXJuIGRvYy5ib2R5O1xuICByZXR1cm4gZWxtO1xufTtcbnZhciBob3N0TGlzdGVuZXJPcHRzID0gZmxhZ3MgPT4gc3VwcG9ydHNMaXN0ZW5lck9wdGlvbnMgPyB7XG4gIHBhc3NpdmU6IChmbGFncyAmIDEgLyogUGFzc2l2ZSAqLykgIT09IDAsXG4gIGNhcHR1cmU6IChmbGFncyAmIDIgLyogQ2FwdHVyZSAqLykgIT09IDBcbn0gOiAoZmxhZ3MgJiAyIC8qIENhcHR1cmUgKi8pICE9PSAwO1xuXG4vLyBzcmMvcnVudGltZS9ub25jZS50c1xudmFyIHNldE5vbmNlID0gbm9uY2UgPT4gcGx0LiRub25jZSQgPSBub25jZTtcbmV4cG9ydCB7IEJ1aWxkIGFzIEIsIEgsIHNldE1vZGUgYXMgYSwgYm9vdHN0cmFwTGF6eSBhcyBiLCBjcmVhdGVFdmVudCBhcyBjLCByZWFkVGFzayBhcyBkLCBIb3N0IGFzIGUsIGdldEVsZW1lbnQgYXMgZiwgZ2V0TW9kZSBhcyBnLCBoLCBmb3JjZVVwZGF0ZSBhcyBpLCBnZXRBc3NldFBhdGggYXMgaiwgcHJvbWlzZVJlc29sdmUgYXMgcCwgcmVnaXN0ZXJJbnN0YW5jZSBhcyByLCBzZXROb25jZSBhcyBzLCB3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
