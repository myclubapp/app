import {
  Keyboard
} from "./chunk-XCF7ZGBQ.js";

// node_modules/@ionic/core/dist/esm/keyboard-52278bd7.js
var KEYBOARD_DID_OPEN = "ionKeyboardDidShow";
var KEYBOARD_DID_CLOSE = "ionKeyboardDidHide";
var KEYBOARD_THRESHOLD = 150;
var previousVisualViewport = {};
var currentVisualViewport = {};
var keyboardOpen = false;
var resetKeyboardAssist = () => {
  previousVisualViewport = {};
  currentVisualViewport = {};
  keyboardOpen = false;
};
var startKeyboardAssist = (win) => {
  const nativeEngine = Keyboard.getEngine();
  if (nativeEngine) {
    startNativeListeners(win);
  } else {
    if (!win.visualViewport) {
      return;
    }
    currentVisualViewport = copyVisualViewport(win.visualViewport);
    win.visualViewport.onresize = () => {
      trackViewportChanges(win);
      if (keyboardDidOpen() || keyboardDidResize(win)) {
        setKeyboardOpen(win);
      } else if (keyboardDidClose(win)) {
        setKeyboardClose(win);
      }
    };
  }
};
var startNativeListeners = (win) => {
  win.addEventListener("keyboardDidShow", (ev) => setKeyboardOpen(win, ev));
  win.addEventListener("keyboardDidHide", () => setKeyboardClose(win));
};
var setKeyboardOpen = (win, ev) => {
  fireKeyboardOpenEvent(win, ev);
  keyboardOpen = true;
};
var setKeyboardClose = (win) => {
  fireKeyboardCloseEvent(win);
  keyboardOpen = false;
};
var keyboardDidOpen = () => {
  const scaledHeightDifference = (previousVisualViewport.height - currentVisualViewport.height) * currentVisualViewport.scale;
  return !keyboardOpen && previousVisualViewport.width === currentVisualViewport.width && scaledHeightDifference > KEYBOARD_THRESHOLD;
};
var keyboardDidResize = (win) => {
  return keyboardOpen && !keyboardDidClose(win);
};
var keyboardDidClose = (win) => {
  return keyboardOpen && currentVisualViewport.height === win.innerHeight;
};
var fireKeyboardOpenEvent = (win, nativeEv) => {
  const keyboardHeight = nativeEv ? nativeEv.keyboardHeight : win.innerHeight - currentVisualViewport.height;
  const ev = new CustomEvent(KEYBOARD_DID_OPEN, {
    detail: {
      keyboardHeight
    }
  });
  win.dispatchEvent(ev);
};
var fireKeyboardCloseEvent = (win) => {
  const ev = new CustomEvent(KEYBOARD_DID_CLOSE);
  win.dispatchEvent(ev);
};
var trackViewportChanges = (win) => {
  previousVisualViewport = Object.assign({}, currentVisualViewport);
  currentVisualViewport = copyVisualViewport(win.visualViewport);
};
var copyVisualViewport = (visualViewport) => {
  return {
    width: Math.round(visualViewport.width),
    height: Math.round(visualViewport.height),
    offsetTop: visualViewport.offsetTop,
    offsetLeft: visualViewport.offsetLeft,
    pageTop: visualViewport.pageTop,
    pageLeft: visualViewport.pageLeft,
    scale: visualViewport.scale
  };
};

export {
  KEYBOARD_DID_OPEN,
  KEYBOARD_DID_CLOSE,
  resetKeyboardAssist,
  startKeyboardAssist,
  setKeyboardOpen,
  setKeyboardClose,
  keyboardDidOpen,
  keyboardDidResize,
  keyboardDidClose,
  trackViewportChanges,
  copyVisualViewport
};
/*! Bundled license information:

@ionic/core/dist/esm/keyboard-52278bd7.js:
  (*!
   * (C) Ionic http://ionicframework.com - MIT License
   *)
*/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9rZXlib2FyZC01MjI3OGJkNy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgSyBhcyBLZXlib2FyZCB9IGZyb20gJy4va2V5Ym9hcmQtNzMxNzVlMjQuanMnO1xuaW1wb3J0ICcuL2NhcGFjaXRvci01OTM5NWNiZC5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtYTVkNTBkYWYuanMnO1xuY29uc3QgS0VZQk9BUkRfRElEX09QRU4gPSAnaW9uS2V5Ym9hcmREaWRTaG93JztcbmNvbnN0IEtFWUJPQVJEX0RJRF9DTE9TRSA9ICdpb25LZXlib2FyZERpZEhpZGUnO1xuY29uc3QgS0VZQk9BUkRfVEhSRVNIT0xEID0gMTUwO1xuLy8gVE9ETyhGVy0yODMyKTogdHlwZXNcbmxldCBwcmV2aW91c1Zpc3VhbFZpZXdwb3J0ID0ge307XG5sZXQgY3VycmVudFZpc3VhbFZpZXdwb3J0ID0ge307XG5sZXQga2V5Ym9hcmRPcGVuID0gZmFsc2U7XG4vKipcbiAqIFRoaXMgaXMgb25seSB1c2VkIGZvciB0ZXN0c1xuICovXG5jb25zdCByZXNldEtleWJvYXJkQXNzaXN0ID0gKCkgPT4ge1xuICBwcmV2aW91c1Zpc3VhbFZpZXdwb3J0ID0ge307XG4gIGN1cnJlbnRWaXN1YWxWaWV3cG9ydCA9IHt9O1xuICBrZXlib2FyZE9wZW4gPSBmYWxzZTtcbn07XG5jb25zdCBzdGFydEtleWJvYXJkQXNzaXN0ID0gd2luID0+IHtcbiAgY29uc3QgbmF0aXZlRW5naW5lID0gS2V5Ym9hcmQuZ2V0RW5naW5lKCk7XG4gIC8qKlxuICAgKiBJZiB0aGUgbmF0aXZlIGtleWJvYXJkIHBsdWdpbiBpcyBhdmFpbGFibGVcbiAgICogdGhlbiB3ZSBhcmUgcnVubmluZyBpbiBhIG5hdGl2ZSBlbnZpcm9ubWVudC4gQXMgYSByZXN1bHRcbiAgICogd2Ugc2hvdWxkIG9ubHkgbGlzdGVuIG9uIHRoZSBuYXRpdmUgZXZlbnRzIGluc3RlYWQgb2ZcbiAgICogdXNpbmcgdGhlIFZpc3VhbCBWaWV3cG9ydCBhcyB0aGUgSW9uaWMgd2VidmlldyBtYW5pcHVsYXRlc1xuICAgKiBob3cgaXQgcmVzaXplcyBzdWNoIHRoYXQgdGhlIFZpc3VhbCBWaWV3cG9ydCBBUEkgaXMgbm90XG4gICAqIHJlbGlhYmxlIGhlcmUuXG4gICAqL1xuICBpZiAobmF0aXZlRW5naW5lKSB7XG4gICAgc3RhcnROYXRpdmVMaXN0ZW5lcnMod2luKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIXdpbi52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50VmlzdWFsVmlld3BvcnQgPSBjb3B5VmlzdWFsVmlld3BvcnQod2luLnZpc3VhbFZpZXdwb3J0KTtcbiAgICB3aW4udmlzdWFsVmlld3BvcnQub25yZXNpemUgPSAoKSA9PiB7XG4gICAgICB0cmFja1ZpZXdwb3J0Q2hhbmdlcyh3aW4pO1xuICAgICAgaWYgKGtleWJvYXJkRGlkT3BlbigpIHx8IGtleWJvYXJkRGlkUmVzaXplKHdpbikpIHtcbiAgICAgICAgc2V0S2V5Ym9hcmRPcGVuKHdpbik7XG4gICAgICB9IGVsc2UgaWYgKGtleWJvYXJkRGlkQ2xvc2Uod2luKSkge1xuICAgICAgICBzZXRLZXlib2FyZENsb3NlKHdpbik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbi8qKlxuICogTGlzdGVuIGZvciBldmVudHMgZmlyZWQgYnkgbmF0aXZlIGtleWJvYXJkIHBsdWdpblxuICogaW4gQ2FwYWNpdG9yL0NvcmRvdmEgc28gZGV2cyBvbmx5IG5lZWQgdG8gbGlzdGVuXG4gKiBpbiBvbmUgcGxhY2UuXG4gKi9cbmNvbnN0IHN0YXJ0TmF0aXZlTGlzdGVuZXJzID0gd2luID0+IHtcbiAgd2luLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWJvYXJkRGlkU2hvdycsIGV2ID0+IHNldEtleWJvYXJkT3Blbih3aW4sIGV2KSk7XG4gIHdpbi5hZGRFdmVudExpc3RlbmVyKCdrZXlib2FyZERpZEhpZGUnLCAoKSA9PiBzZXRLZXlib2FyZENsb3NlKHdpbikpO1xufTtcbmNvbnN0IHNldEtleWJvYXJkT3BlbiA9ICh3aW4sIGV2KSA9PiB7XG4gIGZpcmVLZXlib2FyZE9wZW5FdmVudCh3aW4sIGV2KTtcbiAga2V5Ym9hcmRPcGVuID0gdHJ1ZTtcbn07XG5jb25zdCBzZXRLZXlib2FyZENsb3NlID0gd2luID0+IHtcbiAgZmlyZUtleWJvYXJkQ2xvc2VFdmVudCh3aW4pO1xuICBrZXlib2FyZE9wZW4gPSBmYWxzZTtcbn07XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBga2V5Ym9hcmRPcGVuYCBmbGFnIGlzIG5vdFxuICogc2V0LCB0aGUgcHJldmlvdXMgdmlzdWFsIHZpZXdwb3J0IHdpZHRoIGVxdWFsIHRoZSBjdXJyZW50XG4gKiB2aXN1YWwgdmlld3BvcnQgd2lkdGgsIGFuZCBpZiB0aGUgc2NhbGVkIGRpZmZlcmVuY2VcbiAqIG9mIHRoZSBwcmV2aW91cyB2aXN1YWwgdmlld3BvcnQgaGVpZ2h0IG1pbnVzIHRoZSBjdXJyZW50XG4gKiB2aXN1YWwgdmlld3BvcnQgaGVpZ2h0IGlzIGdyZWF0ZXIgdGhhbiBLRVlCT0FSRF9USFJFU0hPTERcbiAqXG4gKiBXZSBuZWVkIHRvIGJlIGFibGUgdG8gYWNjb21tb2RhdGUgdXNlcnMgd2hvIGhhdmUgem9vbWluZ1xuICogZW5hYmxlZCBpbiB0aGVpciBicm93c2VyIChvciBoYXZlIHpvb21lZCBpbiBtYW51YWxseSkgd2hpY2hcbiAqIGlzIHdoeSB3ZSB0YWtlIGludG8gYWNjb3VudCB0aGUgY3VycmVudCB2aXN1YWwgdmlld3BvcnQnc1xuICogc2NhbGUgdmFsdWUuXG4gKi9cbmNvbnN0IGtleWJvYXJkRGlkT3BlbiA9ICgpID0+IHtcbiAgY29uc3Qgc2NhbGVkSGVpZ2h0RGlmZmVyZW5jZSA9IChwcmV2aW91c1Zpc3VhbFZpZXdwb3J0LmhlaWdodCAtIGN1cnJlbnRWaXN1YWxWaWV3cG9ydC5oZWlnaHQpICogY3VycmVudFZpc3VhbFZpZXdwb3J0LnNjYWxlO1xuICByZXR1cm4gIWtleWJvYXJkT3BlbiAmJiBwcmV2aW91c1Zpc3VhbFZpZXdwb3J0LndpZHRoID09PSBjdXJyZW50VmlzdWFsVmlld3BvcnQud2lkdGggJiYgc2NhbGVkSGVpZ2h0RGlmZmVyZW5jZSA+IEtFWUJPQVJEX1RIUkVTSE9MRDtcbn07XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBrZXlib2FyZCBpcyBvcGVuLFxuICogYnV0IHRoZSBrZXlib2FyZCBkaWQgbm90IGNsb3NlXG4gKi9cbmNvbnN0IGtleWJvYXJkRGlkUmVzaXplID0gd2luID0+IHtcbiAgcmV0dXJuIGtleWJvYXJkT3BlbiAmJiAha2V5Ym9hcmREaWRDbG9zZSh3aW4pO1xufTtcbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBrZXlib2FyZCB3YXMgY2xvc2VkXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYGtleWJvYXJkT3BlbmAgZmxhZyBpcyBzZXQgYW5kXG4gKiB0aGUgY3VycmVudCB2aXN1YWwgdmlld3BvcnQgaGVpZ2h0IGVxdWFscyB0aGVcbiAqIGxheW91dCB2aWV3cG9ydCBoZWlnaHQuXG4gKi9cbmNvbnN0IGtleWJvYXJkRGlkQ2xvc2UgPSB3aW4gPT4ge1xuICByZXR1cm4ga2V5Ym9hcmRPcGVuICYmIGN1cnJlbnRWaXN1YWxWaWV3cG9ydC5oZWlnaHQgPT09IHdpbi5pbm5lckhlaWdodDtcbn07XG4vKipcbiAqIERpc3BhdGNoIGEga2V5Ym9hcmQgb3BlbiBldmVudFxuICovXG5jb25zdCBmaXJlS2V5Ym9hcmRPcGVuRXZlbnQgPSAod2luLCBuYXRpdmVFdikgPT4ge1xuICBjb25zdCBrZXlib2FyZEhlaWdodCA9IG5hdGl2ZUV2ID8gbmF0aXZlRXYua2V5Ym9hcmRIZWlnaHQgOiB3aW4uaW5uZXJIZWlnaHQgLSBjdXJyZW50VmlzdWFsVmlld3BvcnQuaGVpZ2h0O1xuICBjb25zdCBldiA9IG5ldyBDdXN0b21FdmVudChLRVlCT0FSRF9ESURfT1BFTiwge1xuICAgIGRldGFpbDoge1xuICAgICAga2V5Ym9hcmRIZWlnaHRcbiAgICB9XG4gIH0pO1xuICB3aW4uZGlzcGF0Y2hFdmVudChldik7XG59O1xuLyoqXG4gKiBEaXNwYXRjaCBhIGtleWJvYXJkIGNsb3NlIGV2ZW50XG4gKi9cbmNvbnN0IGZpcmVLZXlib2FyZENsb3NlRXZlbnQgPSB3aW4gPT4ge1xuICBjb25zdCBldiA9IG5ldyBDdXN0b21FdmVudChLRVlCT0FSRF9ESURfQ0xPU0UpO1xuICB3aW4uZGlzcGF0Y2hFdmVudChldik7XG59O1xuLyoqXG4gKiBHaXZlbiBhIHdpbmRvdyBvYmplY3QsIGNyZWF0ZSBhIGNvcHkgb2ZcbiAqIHRoZSBjdXJyZW50IHZpc3VhbCBhbmQgbGF5b3V0IHZpZXdwb3J0IHN0YXRlc1xuICogd2hpbGUgYWxzbyBwcmVzZXJ2aW5nIHRoZSBwcmV2aW91cyB2aXN1YWwgYW5kXG4gKiBsYXlvdXQgdmlld3BvcnQgc3RhdGVzXG4gKi9cbmNvbnN0IHRyYWNrVmlld3BvcnRDaGFuZ2VzID0gd2luID0+IHtcbiAgcHJldmlvdXNWaXN1YWxWaWV3cG9ydCA9IE9iamVjdC5hc3NpZ24oe30sIGN1cnJlbnRWaXN1YWxWaWV3cG9ydCk7XG4gIGN1cnJlbnRWaXN1YWxWaWV3cG9ydCA9IGNvcHlWaXN1YWxWaWV3cG9ydCh3aW4udmlzdWFsVmlld3BvcnQpO1xufTtcbi8qKlxuICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiB0aGUgdmlzdWFsIHZpZXdwb3J0XG4gKiBhdCBhIGdpdmVuIHN0YXRlXG4gKi9cbmNvbnN0IGNvcHlWaXN1YWxWaWV3cG9ydCA9IHZpc3VhbFZpZXdwb3J0ID0+IHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogTWF0aC5yb3VuZCh2aXN1YWxWaWV3cG9ydC53aWR0aCksXG4gICAgaGVpZ2h0OiBNYXRoLnJvdW5kKHZpc3VhbFZpZXdwb3J0LmhlaWdodCksXG4gICAgb2Zmc2V0VG9wOiB2aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3AsXG4gICAgb2Zmc2V0TGVmdDogdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICBwYWdlVG9wOiB2aXN1YWxWaWV3cG9ydC5wYWdlVG9wLFxuICAgIHBhZ2VMZWZ0OiB2aXN1YWxWaWV3cG9ydC5wYWdlTGVmdCxcbiAgICBzY2FsZTogdmlzdWFsVmlld3BvcnQuc2NhbGVcbiAgfTtcbn07XG5leHBvcnQgeyBLRVlCT0FSRF9ESURfQ0xPU0UsIEtFWUJPQVJEX0RJRF9PUEVOLCBjb3B5VmlzdWFsVmlld3BvcnQsIGtleWJvYXJkRGlkQ2xvc2UsIGtleWJvYXJkRGlkT3Blbiwga2V5Ym9hcmREaWRSZXNpemUsIHJlc2V0S2V5Ym9hcmRBc3Npc3QsIHNldEtleWJvYXJkQ2xvc2UsIHNldEtleWJvYXJkT3Blbiwgc3RhcnRLZXlib2FyZEFzc2lzdCwgdHJhY2tWaWV3cG9ydENoYW5nZXMgfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBTUEsSUFBTSxvQkFBb0I7QUFDMUIsSUFBTSxxQkFBcUI7QUFDM0IsSUFBTSxxQkFBcUI7QUFFM0IsSUFBSSx5QkFBeUIsQ0FBQztBQUM5QixJQUFJLHdCQUF3QixDQUFDO0FBQzdCLElBQUksZUFBZTtBQUluQixJQUFNLHNCQUFzQixNQUFNO0FBQ2hDLDJCQUF5QixDQUFDO0FBQzFCLDBCQUF3QixDQUFDO0FBQ3pCLGlCQUFlO0FBQ2pCO0FBQ0EsSUFBTSxzQkFBc0IsU0FBTztBQUNqQyxRQUFNLGVBQWUsU0FBUyxVQUFVO0FBU3hDLE1BQUksY0FBYztBQUNoQix5QkFBcUIsR0FBRztBQUFBLEVBQzFCLE9BQU87QUFDTCxRQUFJLENBQUMsSUFBSSxnQkFBZ0I7QUFDdkI7QUFBQSxJQUNGO0FBQ0EsNEJBQXdCLG1CQUFtQixJQUFJLGNBQWM7QUFDN0QsUUFBSSxlQUFlLFdBQVcsTUFBTTtBQUNsQywyQkFBcUIsR0FBRztBQUN4QixVQUFJLGdCQUFnQixLQUFLLGtCQUFrQixHQUFHLEdBQUc7QUFDL0Msd0JBQWdCLEdBQUc7QUFBQSxNQUNyQixXQUFXLGlCQUFpQixHQUFHLEdBQUc7QUFDaEMseUJBQWlCLEdBQUc7QUFBQSxNQUN0QjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0Y7QUFNQSxJQUFNLHVCQUF1QixTQUFPO0FBQ2xDLE1BQUksaUJBQWlCLG1CQUFtQixRQUFNLGdCQUFnQixLQUFLLEVBQUUsQ0FBQztBQUN0RSxNQUFJLGlCQUFpQixtQkFBbUIsTUFBTSxpQkFBaUIsR0FBRyxDQUFDO0FBQ3JFO0FBQ0EsSUFBTSxrQkFBa0IsQ0FBQyxLQUFLLE9BQU87QUFDbkMsd0JBQXNCLEtBQUssRUFBRTtBQUM3QixpQkFBZTtBQUNqQjtBQUNBLElBQU0sbUJBQW1CLFNBQU87QUFDOUIseUJBQXVCLEdBQUc7QUFDMUIsaUJBQWU7QUFDakI7QUFhQSxJQUFNLGtCQUFrQixNQUFNO0FBQzVCLFFBQU0sMEJBQTBCLHVCQUF1QixTQUFTLHNCQUFzQixVQUFVLHNCQUFzQjtBQUN0SCxTQUFPLENBQUMsZ0JBQWdCLHVCQUF1QixVQUFVLHNCQUFzQixTQUFTLHlCQUF5QjtBQUNuSDtBQUtBLElBQU0sb0JBQW9CLFNBQU87QUFDL0IsU0FBTyxnQkFBZ0IsQ0FBQyxpQkFBaUIsR0FBRztBQUM5QztBQU9BLElBQU0sbUJBQW1CLFNBQU87QUFDOUIsU0FBTyxnQkFBZ0Isc0JBQXNCLFdBQVcsSUFBSTtBQUM5RDtBQUlBLElBQU0sd0JBQXdCLENBQUMsS0FBSyxhQUFhO0FBQy9DLFFBQU0saUJBQWlCLFdBQVcsU0FBUyxpQkFBaUIsSUFBSSxjQUFjLHNCQUFzQjtBQUNwRyxRQUFNLEtBQUssSUFBSSxZQUFZLG1CQUFtQjtBQUFBLElBQzVDLFFBQVE7QUFBQSxNQUNOO0FBQUEsSUFDRjtBQUFBLEVBQ0YsQ0FBQztBQUNELE1BQUksY0FBYyxFQUFFO0FBQ3RCO0FBSUEsSUFBTSx5QkFBeUIsU0FBTztBQUNwQyxRQUFNLEtBQUssSUFBSSxZQUFZLGtCQUFrQjtBQUM3QyxNQUFJLGNBQWMsRUFBRTtBQUN0QjtBQU9BLElBQU0sdUJBQXVCLFNBQU87QUFDbEMsMkJBQXlCLE9BQU8sT0FBTyxDQUFDLEdBQUcscUJBQXFCO0FBQ2hFLDBCQUF3QixtQkFBbUIsSUFBSSxjQUFjO0FBQy9EO0FBS0EsSUFBTSxxQkFBcUIsb0JBQWtCO0FBQzNDLFNBQU87QUFBQSxJQUNMLE9BQU8sS0FBSyxNQUFNLGVBQWUsS0FBSztBQUFBLElBQ3RDLFFBQVEsS0FBSyxNQUFNLGVBQWUsTUFBTTtBQUFBLElBQ3hDLFdBQVcsZUFBZTtBQUFBLElBQzFCLFlBQVksZUFBZTtBQUFBLElBQzNCLFNBQVMsZUFBZTtBQUFBLElBQ3hCLFVBQVUsZUFBZTtBQUFBLElBQ3pCLE9BQU8sZUFBZTtBQUFBLEVBQ3hCO0FBQ0Y7IiwibmFtZXMiOltdLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19
